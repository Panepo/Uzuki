(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{429:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.default}});var l=n(a(962))},430:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.default}});var l=n(a(963))},431:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.default}});var l=n(a(964))},962:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var l=n(a(7)),r=n(a(8)),c=n(a(0)),i=(n(a(5)),n(a(12))),s=n(a(15)),o=n(a(16)),u={root:{margin:0,padding:"24px 24px 20px",flex:"0 0 auto"}};function d(e){var t=e.children,a=e.classes,n=e.className,s=e.disableTypography,u=(0,r.default)(e,["children","classes","className","disableTypography"]);return c.default.createElement("div",(0,l.default)({className:(0,i.default)(a.root,n)},u),s?t:c.default.createElement(o.default,{variant:"title",internalDeprecatedVariant:!0},t))}t.styles=u,d.defaultProps={disableTypography:!1};var f=(0,s.default)(u,{name:"MuiDialogTitle"})(d);t.default=f},963:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var l=n(a(7)),r=n(a(8)),c=n(a(0)),i=(n(a(5)),n(a(12))),s=n(a(15)),o={root:{flex:"1 1 auto",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:"0 24px 24px","&:first-child":{paddingTop:24}}};t.styles=o;var u=(0,s.default)(o,{name:"MuiDialogContent"})(function(e){var t=e.classes,a=e.children,n=e.className,s=(0,r.default)(e,["classes","children","className"]);return c.default.createElement("div",(0,l.default)({className:(0,i.default)(t.root,n)},s),a)});t.default=u},964:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var l=n(a(7)),r=n(a(8)),c=n(a(0)),i=(n(a(5)),n(a(12))),s=n(a(15)),o=a(110);a(111);var u={root:{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"0 0 auto",margin:"8px 4px"},action:{margin:"0 4px"}};function d(e){var t=e.disableActionSpacing,a=e.children,n=e.classes,s=e.className,u=(0,r.default)(e,["disableActionSpacing","children","classes","className"]);return c.default.createElement("div",(0,l.default)({className:(0,i.default)(n.root,s)},u),t?a:(0,o.cloneChildrenWithClassName)(a,n.action))}t.styles=u,d.defaultProps={disableActionSpacing:!1};var f=(0,s.default)(u,{name:"MuiDialogActions"})(d);t.default=f},965:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=(0,n(a(51)).default)(l.default.createElement(l.default.Fragment,null,l.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.default.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})),"CloudUpload");t.default=r},968:function(e,t,a){e.exports=a.p+"static/media/camera.f6d617f4.jpg"},969:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=(0,n(a(51)).default)(l.default.createElement(l.default.Fragment,null,l.default.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),l.default.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"}),l.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"CameraAlt");t.default=r},978:function(e,t,a){"use strict";a.r(t);var n=a(34),l=a(39),r=a(41),c=a(40),i=a(42),s=a(0),o=a.n(s),u=a(35),d=a(48),f=a(205),m=a(84),p=a(56),g=a(222),h=a(120),v=a(29),y=a(173),b=a.n(y),E=a(431),C=a.n(E),j=a(430),x=a.n(j),_=a(429),w=a.n(_),P=a(13),O=a.n(P),M=a(10),N=a.n(M),S=a(76),A=a.n(S),B=a(969),W=a.n(B),k=a(965),T=a.n(k),D=a(296),H=a.n(D),I=a(108),z=a.n(I),L=a(968),U=a(232),F=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,i=new Array(l),s=0;s<l;s++)i[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={isPlaying:!1,isCaptured:!1,imageBuff:null},a.handleWebcam=function(){a.state.isPlaying?a.setState({isPlaying:!1}):a.setState({isPlaying:!0,isCaptured:!1,imageBuff:null})},a.handleCapture=function(){var e=a.props.setting,t={x:0,y:0,width:2*e.rect.width,height:2*e.rect.height};a.setState({isPlaying:!1,isCaptured:!0,imageBuff:Object(h.b)("face_camera",t)},function(){return a.postCapture()})},a.postCapture=function(){var e=document.getElementById("face_camera_screenshot");e instanceof HTMLCanvasElement&&a.state.imageBuff instanceof ImageData&&e.getContext("2d").putImageData(a.state.imageBuff,0,0)},a.handleExited=function(){a.setState({isPlaying:!1,isCaptured:!1,imageBuff:null})},a.handleAccept=function(){if(a.state.isCaptured){var e=document.getElementById("face_camera_screenshot");if(e instanceof HTMLCanvasElement){var t=e.toDataURL("image/jpeg");a.props.actionsT.faceAdd([t]),a.setState({isPlaying:!0,isCaptured:!1,imageBuff:null})}}else a.props.actionsI.infoSet({onoff:!0,variant:"error",message:"Start webcam and capture an image first."})},a.renderButton=function(){var e=a.state.isPlaying?o.a.createElement(O.a,{title:"Webcam stop"},o.a.createElement(N.a,{className:a.props.classes.icon,onClick:a.handleWebcam,color:"secondary"},o.a.createElement(A.a,null))):o.a.createElement(O.a,{title:"Webcam start"},o.a.createElement(N.a,{className:a.props.classes.icon,onClick:a.handleWebcam,color:"primary"},o.a.createElement(A.a,null)));return o.a.createElement(C.a,null,e,a.state.isPlaying?o.a.createElement(O.a,{title:"Take a screenshot"},o.a.createElement(N.a,{className:a.props.classes.icon,onClick:a.handleCapture,color:"primary"},o.a.createElement(W.a,null))):null,a.state.isCaptured?o.a.createElement(O.a,{title:"Upload Image"},o.a.createElement(N.a,{className:a.props.classes.icon,onClick:a.handleAccept,color:"primary"},o.a.createElement(T.a,null))):null,o.a.createElement(O.a,{title:"Camera settings"},o.a.createElement(p.a,{to:"/setting"},o.a.createElement(N.a,{className:a.props.classes.icon,color:"primary"},o.a.createElement(z.a,null)))),o.a.createElement(O.a,{title:"Close"},o.a.createElement(N.a,{className:a.props.classes.icon,onClick:a.props.toggleDialog("camera",!1,0),color:"secondary"},o.a.createElement(H.a,null))))},a.renderWebCam=function(){var e=a.props.setting;return a.state.isPlaying?o.a.createElement(g.a,{className:a.props.classes.webcam,audio:!1,idCanvas:"face_camera",videoWidth:2*e.rect.width,videoHeight:2*e.rect.height,videoConstraints:e.video,cropx:e.rect.x,cropy:e.rect.y,cropwidth:e.rect.width,cropheight:e.rect.height}):a.state.isCaptured?o.a.createElement("canvas",{className:a.props.classes.webcam,id:"face_camera_screenshot",width:2*e.rect.width,height:2*e.rect.height}):a.props.image.switch?o.a.createElement("img",{src:U,alt:"camera",width:640,height:480}):o.a.createElement("img",{src:L,alt:"camera",width:640,height:480})},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(b.a,{open:this.props.dialogStatus,onClose:this.props.toggleDialog("camera",!1,0),onExited:this.handleExited,"aria-labelledby":"select-dialog-title","aria-describedby":"select-dialog-description",maxWidth:"xl"},o.a.createElement(w.a,{id:"select-dialog-title"},"Camera"),o.a.createElement(x.a,null,this.renderWebCam()),this.renderButton())}}]),t}(o.a.Component);t.default=Object(d.c)(function(e){return{setting:e.setting,image:e.image}},function(e){return{actionsT:Object(u.bindActionCreators)(f,e),actionsI:Object(u.bindActionCreators)(m,e)}})(Object(v.withStyles)(function(e){return{}})(F))}}]);
//# sourceMappingURL=1.1f46b03a.chunk.js.map