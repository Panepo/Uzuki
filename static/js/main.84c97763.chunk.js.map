{"version":3,"sources":["images/uzuki404.jpg","images/404.jpg","images/uzukihome.jpg","images/setting.jpg","images/uzukisetting.jpg","images/camera.jpg","images/list.jpg","images/uzukilist.png","images/notready.jpg","images/uzukinotready.jpg","images/black.png","images/sensor.jpg","reducers/createReducer.js","models/info.model.js","reducers/info.reducer.js","models/setting.model.js","reducers/setting.reducer.js","models/train.model.js","reducers/train.reducer.js","models/image.model.js","reducers/image.reducer.js","reducers/index.js","configureStore.jsx","withRoot.js","constants/link.constant.js","pages/Header.jsx","pages/Ribbon.jsx","pages/Footer.jsx","actions/info.action.js","helpers/responsive.helper.js","componments/InfoBar.jsx","pages/Layout.jsx","pages/NotFound.jsx","actions/image.action.js","pages/Home/Home.jsx","actions/setting.action.js","componments/Webcam.jsx","componments/WebcamRectDraw.jsx","pages/Setting/Setting.jsx","helpers/validate.helper.js","actions/train.action.js","pages/Loading.jsx","componments/ImageGallery.jsx","pages/Train/DialogUpload.jsx","pages/Train/DialogDelete.jsx","componments/WebcamCrop.jsx","helpers/face.helper.js","pages/Train/DialogCamera.jsx","pages/Train/RenderList.jsx","pages/Train/Train.jsx","pages/Sensor/NotReady.jsx","pages/Sensor/Loading.jsx","pages/Sensor/DialogCover.jsx","pages/Sensor/Sensor.jsx","App.jsx","ReduxRoot.jsx","serviceWorker.js","index.jsx"],"names":["module","exports","__webpack_require__","p","createReducer","initialState","handlers","state","arguments","length","undefined","action","hasOwnProperty","type","actionInfo","INFO_SET","INFO_CLOSE","onoff","variant","message","info","_createReducer","Object","defineProperty","payload","objectSpread","actionSetting","SETTING_VIDEO","SETTING_RECT","rect","x","y","width","height","video","setting","setting_reducer_createReducer","actionTrain","TRAIN_FACE_ADD","TRAIN_FACE_REMOVE","TRAIN_FACE_CLEAR","TRAIN_DATA_SAVE","TRAIN_DATA_CLEAR","train","face","data","train_reducer_createReducer","concat","splice","actionImage","IMAGE_SWITCH","switch","image","rootReducer","history","combineReducers","router","connectRouter","createLogger","createBrowserHistory","basename","process","persistConfig","key","version","storage","localforage","whitelist","persistedReducer","persistReducer","middleware","applyMiddleware","thunk","routerMiddleware","store","createStore","persistor","persistStore","theme","createMuiTheme","palette","primary","pink","secondary","deepPurple","typography","useNextVariants","withRoot","Component","props","react_default","a","createElement","core_styles","CssBaseline_default","linkHeader","text","link","linkDrawer","Header","drawer","toggleDrawer","side","open","_this","setState","classes","this","renderLink","map","react","react_router_dom","to","Button_default","color","renderDrawer","List_default","ListItem_default","button","divider","component","href","ListItemIcon_default","Bookmarks_default","ListItemText_default","className","root","AppBar_default","position","appBar","Drawer_default","onClose","Typography_default","drawerTitle","noWrap","tabIndex","role","onClick","onKeyDown","Toolbar_default","IconButton_default","menuButton","aria-label","Menu_default","grow","React","withStyles","margin","spacing","unit","textAlign","marginTop","marginBottom","flexGrow","marginLeft","marginRight","background","fontSize","paddingLeft","paddingTop","infoSet","input","infoClose","allowMobile","variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","InfoIcon","backgroundColor","green","dark","lightBlue","amber","icon","iconVariant","opacity","display","alignItems","other","objectWithoutProperties","Icon","SnackbarContent_default","assign","classNames","aria-describedby","id","close","Close_default","Layout","handleInfoClose","event","reason","actionsI","renderHelmet","Helmet_default","charset","name","content","rel","title","helmet","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","componments_InfoBar","Grid_default","container","grid","justify","item","xs","isWidthDown","gridPhone","gridNormal","defaultProps","connect","dispatch","bindActionCreators","withWidth","image404","require","image404u","NotFound","pages_Layout","Card_default","card","CardActionArea_default","src","alt","CardContent_default","gutterBottom","CardActions_default","minWidth","imageSwitch","imageHome","Home","handleRedirect","push","toggleImage","CardHeader_default","avatar","Polymer_default","subheader","icon2","Done_default","Settings_default","Contacts_default","Image_default","lightGreen","withRouter","modifyVideo","modifyRect","constrainStringType","PropTypes","oneOfType","string","arrayOf","shape","exact","ideal","constrainBooleanType","bool","constrainLongType","number","min","max","constrainDoubleType","Webcam","deviceId","groupId","autoGainControl","channelCount","latency","noiseSuppression","sampleRate","sampleSize","volume","aspectRatio","facingMode","frameRate","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","hasUserMedia","navigator","mediaDevices","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","mountedInstances","userMediaRequested","requestUserMedia","nextProps","JSON","stringify","audioConstraints","videoConstraints","index","indexOf","stream","getVideoTracks","getAudioTracks","track","stop","window","URL","revokeObjectURL","canvas","getCanvas","toDataURL","screenshotFormat","screenshotQuality","videoHeight","ctx","document","videoWidth","canvasWidth","minScreenshotWidth","clientWidth","canvasHeight","minScreenshotHeight","getContext","imageSmoothingEnabled","imageSmoothing","drawImage","clipx","clipy","clipwidth","clipheight","_this2","sourceSelected","constraints","audio","then","forEach","instance","handleUserMedia","catch","e","optionalSource","optional","sourceId","constraintToSourceId","constraint","Array","isArray","MediaStreamTrack","getSources","sources","audioSource","videoSource","source","kind","audioSourceId","videoSourceId","err","onUserMediaError","srcObject","createObjectURL","onUserMedia","_this3","autoPlay","muted","playsInline","style","ref","WebcamRectDraw","isDrawing","isDisplaying","startx","starty","endx","endy","interval","handleRender","getElementById","idVideo","idCanvas","HTMLCanvasElement","HTMLVideoElement","strokeStyle","rectColor","lineWidth","Math","round","rectLine","_this$state","strokeRect","abs","handleMouseDown","getBoundingClientRect","posx","clientX","left","posy","clientY","top","handleMouseUp","handleGetPosition","handleMouseMove","handleMouseOut","_this$state2","getPosition","setInterval","tickRender","clearInterval","Webcam_Webcam","hidden","node","webcam","onMouseDown","onMouseUp","onMouseMove","onMouseOut","rectx","recty","rectwidth","rectheight","imageSetting","imageSettingu","NumberFormatCustom","inputRef","onChange","number_format_default","getInputRef","onValueChange","values","target","value","allowNegative","Setting","handleWebcam","isPlaying","handleAccept","actionsS","handleCancel","rectError","videoError","handleInputRect","column","parseInt","errors","isValid","isEmpty","validateRect","handleInputVideo","validateVideo","renderButton","renderWebcamPower","Tooltip_default","Camera_default","Cancel_default","renderWebCam","componments_WebcamRectDraw","renderInputRect","reduce","output","i","TextField_default","toString","label","helperText","formControl","onInput","InputProps","inputComponent","renderInputVideo","Divider_default","faceAdd","faces","faceRemove","faceClear","dateSave","dataClear","paper","borderRadius","paddingBottom","paddingRight","Paper_default","LinearProgress_default","imageSrc","imageWidth","imageHeight","imageText","renderPreview","react_flip_move_es","DialogUpload","imageFile","preventDefault","actionsT","handleUpload","files","dataTemp","Dialog_default","dialogStatus","toggleDialog","aria-labelledby","maxWidth","DialogTitle_default","DialogContent_default","componments_ImageGallery","DialogActions_default","accept","required","multiple","AddPhotoAlternate_default","CloudUpload_default","Delete_default","WebcamCrop","mulX","mulY","cropx","cropy","cropwidth","cropheight","createFaceMatcher","_x","_createFaceMatcher","apply","_callee","labeledFaceDescriptors","regenerator_default","wrap","_context","prev","next","Promise","all","descriptors","_descriptors","desc","parsedArray","Float32Array","faceapi","_label","sent","abrupt","resizeCanvasAndResults","dimensions","results","_ref","drawFPS","location","font","fillStyle","fillText","extractData","getImageData","imageCamera","imageCamerau","DialogCamera","isCaptured","imageBuff","handleCapture","postCapture","ImageData","putImageData","handleExited","CameraAlt_default","componments_WebcamCrop","onExited","imageList","imageListu","gridList","transform","titleBar","GridList_default","cellHeight","cols","file","GridListTile_default","rows","GridListTileBar_default","titlePosition","actionIcon","actionPosition","PersonAdd_default","Train","isLoading","isBusy","processTime","dialog","upload","delete","camera","dialogKey","componentDidMount","handleTrain","FaceTrain","handleDataImport","fr","FileReader","onload","parse","result","readAsText","handleDataExport","encodeURIComponent","downloadAnchorNode","setAttribute","click","remove","handleDataClear","handleFaceClear","_callee3","tstart","labeledDescriptors","tend","_context3","performance","now","_ref3","asyncToGenerator","mark","_callee2","_context2","t0","t1","floor","pages_Loading","Train_RenderList","Clear_default","Unarchive_default","Archive_default","HighlightOff_default","Train_DialogDelete","Train_DialogUpload","Train_DialogCamera","imageNotReady","imageNotReadyu","NotReady","imageBlack","iframe","imageSensor","imageSensoru","Sensor","isSensing","isDetecting","detectThreshold","detectSize","cover","faceMatcher","initial","inputSize","scoreThreshold","withFaceLandmarks","withFaceDescriptors","handleSense","clearRect","faceMain","handleDetect","tickProcess","faceRecognize","_callee5","resizedResults","boxesWithText","_context5","_ref6","_callee4","_ref5","detection","descriptor","match","_context4","findBestMatch","alert","box","_x3","boxColor","textColor","renderRecognize","renderDetect","RecordVoiceOver_default","BrightnessHigh_default","webcamContainer","webcamOverlay","Sensor_NotReady","Sensor_Loading","Sensor_DialogCover","zIndex","minHeight","flexDirection","flex","esm","pages_Header","pages_Ribbon","react_router","path","pages_Footer","ReduxRoot","es","integration_react","loading","src_App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","rootEl","ReactDOM","render","src_ReduxRoot","origin","addEventListener","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.84c97763.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/uzuki404.df9f82f4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404.ae654961.jpg\";","module.exports = __webpack_public_path__ + \"static/media/uzukihome.44d46098.jpg\";","module.exports = __webpack_public_path__ + \"static/media/setting.fc73b925.jpg\";","module.exports = __webpack_public_path__ + \"static/media/uzukisetting.417112d7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/camera.f6d617f4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/list.84b3ebaa.jpg\";","module.exports = __webpack_public_path__ + \"static/media/uzukilist.a38a9a78.png\";","module.exports = __webpack_public_path__ + \"static/media/notready.89639fb4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/uzukinotready.07a51fdc.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAALQCAYAAADPfd1WAAAUgklEQVR4nO3YQQ0AIBDAsAP/nkEFIVlaBXtvzcwZAAAAACBp/w4AAAAAAN4xAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAICwC0cpBp8Rbaq9AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/sensor.d130849f.jpg\";","// @flow\n\nimport type { Action } from '../models/action.model'\n\nexport default function createReducer(initialState: Object, handlers: Object) {\n  return function reducer(state: Object = initialState, action: Action<any>) {\n    if (handlers.hasOwnProperty(action.type)) {\n      return handlers[action.type](state, action)\n    } else {\n      return state\n    }\n  }\n}\n","// @flow\n\nimport type Action from './action.model'\n\nexport const actionInfo = {\n  INFO_SET: 'INFO_SET',\n  INFO_CLOSE: 'INFO_CLOSE'\n}\n\nexport type StateInfo = {\n  onoff: boolean,\n  variant: 'success' | 'warning' | 'error' | 'info',\n  message: string\n}\n\nexport type ActionInfo = Action<StateInfo> | Action<null>\n","// @flow\nimport createReducer from './createReducer'\nimport type { Action } from '../models/action.model'\nimport { actionInfo } from '../models/info.model'\nimport type { StateInfo } from '../models/info.model'\n\nexport const initialState: StateInfo = {\n  onoff: false,\n  variant: 'info',\n  message: ''\n}\n\nexport const info = createReducer(initialState, {\n  [actionInfo.INFO_SET](state: StateInfo, action: Action<StateInfo>) {\n    return action.payload\n  },\n  [actionInfo.INFO_CLOSE](state: StateInfo, action: Action<null>) {\n    return { ...state, onoff: false }\n  }\n})\n","// @flow\n\nimport type Action from './action.model'\nimport type { CanvasRect, VideoConstraints } from './misc.model'\n\nexport const actionSetting = {\n  SETTING_VIDEO: 'SETTING_VIDEO',\n  SETTING_RECT: 'SETTING_RECT'\n}\n\nexport type ActionSetting = Action<Object>\n\nexport type StateSetting = {\n  rect: CanvasRect,\n  video: VideoConstraints\n}\n","// @flow\nimport createReducer from './createReducer'\nimport type { Action } from '../models/action.model'\nimport { actionSetting } from '../models/setting.model'\nimport type { StateSetting } from '../models/setting.model'\nimport type { CanvasRect, VideoConstraints } from '../models/misc.model'\n\nexport const initialState: StateSetting = {\n  rect: { x: 100, y: 100, width: 100, height: 100 },\n  video: {\n    width: 1280,\n    height: 720\n  }\n}\n\nexport const setting = createReducer(initialState, {\n  [actionSetting.SETTING_VIDEO](\n    state: StateSetting,\n    action: Action<VideoConstraints>\n  ) {\n    return { ...state, video: action.payload }\n  },\n  [actionSetting.SETTING_RECT](\n    state: StateSetting,\n    action: Action<CanvasRect>\n  ) {\n    return { ...state, rect: action.payload }\n  }\n})\n","// @flow\n\nimport type Action from './action.model'\n\nexport const actionTrain = {\n  TRAIN_FACE_ADD: 'TRAIN_FACE_ADD',\n  TRAIN_FACE_REMOVE: 'TRAIN_FACE_REMOVE',\n  TRAIN_FACE_CLEAR: 'TRAIN_FACE_CLEAR',\n  TRAIN_DATA_SAVE: 'TRAIN_DATA_SAVE',\n  TRAIN_DATA_CLEAR: 'TRAIN_DATA_CLEAR'\n}\n\nexport type StateTrain = {\n  face: string[],\n  data: any\n}\n\nexport type ActionTrain = Action<string[]> | Action<null> | Action<number>\n","// @flow\nimport createReducer from './createReducer'\nimport type { Action } from '../models/action.model'\nimport { actionTrain } from '../models/train.model'\nimport type { StateTrain } from '../models/train.model'\n\nconst initialState: StateTrain = {\n  face: [],\n  data: []\n}\n\nexport const train = createReducer(initialState, {\n  [actionTrain.TRAIN_FACE_ADD](state: StateTrain, action: Action<string[]>) {\n    return { ...state, face: state.face.concat(action.payload) }\n  },\n  [actionTrain.TRAIN_FACE_REMOVE](state: StateTrain, action: Action<number>) {\n    state.face.splice(action.payload, 1)\n    return state\n  },\n  [actionTrain.TRAIN_FACE_CLEAR](state: StateTrain, action: Action<null>) {\n    return { ...state, face: [] }\n  },\n  [actionTrain.TRAIN_DATA_SAVE](state: StateTrain, action: Action<any>) {\n    return { ...state, data: action.payload }\n  },\n  [actionTrain.TRAIN_DATA_CLEAR](state: StateTrain, action: Action<null>) {\n    return { ...state, data: [] }\n  }\n})\n","// @flow\n\nimport type Action from './action.model'\n\nexport const actionImage = {\n  IMAGE_SWITCH: 'IMAGE_SWITCH'\n}\n\nexport type StateImage = {\n  switch: boolean\n}\n\nexport type ActionImage = Action<boolean>\n","// @flow\nimport createReducer from './createReducer'\nimport type { Action } from '../models/action.model'\nimport { actionImage } from '../models/image.model'\nimport type { StateImage } from '../models/image.model'\n\nexport const initialState: StateImage = {\n  switch: false\n}\n\nexport const image = createReducer(initialState, {\n  [actionImage.IMAGE_SWITCH](state: StateImage, action: Action<boolean>) {\n    return { ...state, switch: action.payload }\n  }\n})\n","import { combineReducers } from 'redux'\nimport type { History } from 'history'\nimport { connectRouter } from 'connected-react-router'\nimport * as info from './info.reducer'\nimport * as setting from './setting.reducer'\nimport * as train from './train.reducer'\nimport * as image from './image.reducer'\n\nconst rootReducer = (history: History) =>\n  combineReducers({\n    router: connectRouter(history),\n    ...info,\n    ...setting,\n    ...train,\n    ...image\n  })\n\nexport default rootReducer\n","import { createBrowserHistory } from 'history'\nimport { applyMiddleware, createStore } from 'redux'\nimport { routerMiddleware } from 'connected-react-router'\nimport thunk from 'redux-thunk'\nimport { createLogger } from 'redux-logger'\nimport { persistReducer, persistStore } from 'redux-persist'\nimport type { PersistConfig } from 'redux-persist'\nimport * as localforage from 'localforage'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport rootReducer from './reducers'\n\nconst logger = createLogger()\nexport const history = createBrowserHistory({\n  basename: process.env.PUBLIC_URL\n})\n\nconst persistConfig: PersistConfig = {\n  key: 'root',\n  version: 1,\n  storage: localforage,\n  whitelist: ['setting', 'image', 'train']\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer(history))\n\nconst dev = process.env.NODE_ENV === 'development'\n\nvar middleware = dev\n  ? applyMiddleware(logger, thunk, routerMiddleware(history))\n  : applyMiddleware(thunk, routerMiddleware(history))\n\nif (dev) {\n  middleware = composeWithDevTools(middleware)\n}\n\nexport const store = createStore(persistedReducer, {}, middleware)\nexport const persistor = persistStore(store)\n","// @flow\n\nimport React from 'react'\nimport type { ComponentType } from 'react'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport pink from '@material-ui/core/colors/pink'\nimport deepPurple from '@material-ui/core/colors/deepPurple'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport 'typeface-roboto'\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n  palette: {\n    primary: pink,\n    secondary: deepPurple\n  },\n  typography: {\n    useNextVariants: true\n  }\n})\n\nfunction withRoot(Component: ComponentType<*>) {\n  function WithRoot(props: Object) {\n    // MuiThemeProvider makes the theme available down the React tree\n    // thanks to React context.\n    return (\n      <MuiThemeProvider theme={theme}>\n        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n        <CssBaseline />\n        <Component {...props} />\n      </MuiThemeProvider>\n    )\n  }\n\n  return WithRoot\n}\n\nexport default withRoot\n","// @flow\n\nimport type { LinkSite } from '../models/misc.model'\n\nexport const linkHeader: LinkSite[] = [\n  { text: 'Home', link: '/home' },\n  { text: 'Train', link: '/train' },\n  { text: 'Setting', link: '/setting' },\n  { text: 'Sensor', link: '/sensor' }\n]\n\nexport const linkDrawer: LinkSite[] = [\n  { text: 'BossSensor', link: 'https://github.com/Hironsan/BossSensor' },\n  {\n    text: 'face-api.js',\n    link: 'https://github.com/justadudewhohacks/face-api.js'\n  },\n  { text: 'Tensorflow', link: 'https://www.tensorflow.org/' },\n  { text: 'Tensorflow.js', link: 'https://js.tensorflow.org/' },\n  { text: 'React', link: 'https://facebook.github.io/react/' },\n  { text: 'Redux', link: 'http://redux.js.org/' },\n  { text: 'Material Design Lite', link: 'https://getmdl.io/' },\n  { text: 'Material-UI', link: 'https://material-ui.com/' }\n]\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport Drawer from '@material-ui/core/Drawer'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport IconBookmark from '@material-ui/icons/Bookmarks'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport { linkDrawer, linkHeader } from '../constants/link.constant'\nimport type { LinkSite } from '../models/misc.model'\n\nconst styles = (theme: Object) => ({\n  root: {},\n  appBar: {\n    position: 'relative'\n  },\n  button: {\n    margin: theme.spacing.unit\n  },\n  drawer: {\n    color: '#616161'\n  },\n  drawerTitle: {\n    textAlign: 'center',\n    marginTop: 20,\n    marginBottom: 10\n  },\n  grow: {\n    flexGrow: 1\n  },\n  menuButton: {\n    color: '#ff6699',\n    marginLeft: -12,\n    marginRight: 20\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {}\n\ntype State = {\n  drawer: boolean\n}\n\nclass Header extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    drawer: false\n  }\n\n  toggleDrawer = (side: string, open: boolean) => () => {\n    this.setState({\n      [side]: open\n    })\n  }\n\n  render() {\n    const { classes } = this.props\n\n    const renderLink = linkHeader.map((data: LinkSite) => (\n      <Link to={data.link} key={data.text}>\n        <Button color=\"primary\">{data.text}</Button>\n      </Link>\n    ))\n\n    const renderDrawer = (\n      <List>\n        {linkDrawer.map((data: LinkSite) => (\n          <ListItem\n            button\n            divider\n            key={data.text}\n            component=\"a\"\n            href={data.link}>\n            <ListItemIcon>\n              <IconBookmark color=\"secondary\" />\n            </ListItemIcon>\n            <ListItemText primary={data.text} />\n          </ListItem>\n        ))}\n      </List>\n    )\n\n    return (\n      <header className={classes.root}>\n        <AppBar position=\"static\" color=\"inherit\" className={classes.appBar}>\n          <Drawer\n            className={classes.drawer}\n            open={this.state.drawer}\n            onClose={this.toggleDrawer('drawer', false)}>\n            <Typography\n              className={classes.drawerTitle}\n              variant=\"h6\"\n              color=\"inherit\"\n              noWrap>\n              Reference\n            </Typography>\n            <div\n              tabIndex={0}\n              role=\"button\"\n              onClick={this.toggleDrawer('drawer', false)}\n              onKeyDown={this.toggleDrawer('drawer', false)}>\n              {renderDrawer}\n            </div>\n          </Drawer>\n          <Toolbar>\n            <IconButton\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"Menu\"\n              onClick={this.toggleDrawer('drawer', true)}>\n              <MenuIcon />\n            </IconButton>\n            <Typography\n              variant=\"h6\"\n              color=\"inherit\"\n              className={classes.grow}\n              noWrap>\n              Uzuki\n            </Typography>\n            {renderLink}\n          </Toolbar>\n        </AppBar>\n      </header>\n    )\n  }\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Header)\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = (theme: Object) => ({\n  root: {\n    width: '100%',\n    height: '60vh',\n    background: 'linear-gradient(165deg, #ff6699 20%, #ffccdc 90%)'\n  }\n})\n\ntype Props = {\n  classes: Object\n}\n\nconst Ribbon = (props: Props) => {\n  return <div className={props.classes.root} />\n}\n\nRibbon.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Ribbon)\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport Typography from '@material-ui/core/Typography'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = (theme: Object) => ({\n  root: {\n    background: '#424242',\n    height: '60px',\n    width: '100%'\n  },\n  text: {\n    color: '#BDBDBD',\n    fontSize: '13px',\n    paddingLeft: '40px',\n    paddingTop: '20px'\n  }\n})\n\ntype Props = {\n  classes: Object\n}\n\nconst Footer = (props: Props) => {\n  return (\n    <footer className={props.classes.root}>\n      <Typography className={props.classes.text}>\n        Copyright &copy; Panepo@Github 2019 All Rights Reserved.\n      </Typography>\n    </footer>\n  )\n}\n\nFooter.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Footer)\n","// @flow\n\nimport { Action } from '../models/action.model'\nimport { actionInfo } from '../models/info.model'\nimport type { StateInfo } from '../models/info.model'\n\nexport function infoSet(input: StateInfo): Action<StateInfo> {\n  return {\n    type: actionInfo.INFO_SET,\n    payload: input\n  }\n}\n\nexport function infoClose(): Action<null> {\n  return {\n    type: actionInfo.INFO_CLOSE,\n    payload: null\n  }\n}\n","// @flow\n\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints'\nimport { isWidthDown, isWidthUp } from '@material-ui/core/withWidth'\n\nconst allowMobile = true\nexport function isSmartphone(width: Breakpoint): boolean {\n  return allowMobile && isWidthDown('xs', width)\n}\n\nexport function isTablet(width: Breakpoint): boolean {\n  return allowMobile && isWidthDown('sm', width)\n}\n\nexport function isMobile(width: Breakpoint): boolean {\n  return allowMobile && isTablet(width)\n}\n\nexport function isDesktop(width: Breakpoint): boolean {\n  return !allowMobile || isWidthUp('md', width)\n}\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport IconButton from '@material-ui/core/IconButton'\nimport green from '@material-ui/core/colors/green'\nimport amber from '@material-ui/core/colors/amber'\nimport lightBlue from '@material-ui/core/colors/lightBlue'\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n}\n\nconst styles = (theme: Object) => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: lightBlue[900]\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing.unit\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n})\n\ntype Props = {\n  classes: Object,\n  className: string,\n  message: string,\n  onClose: () => {},\n  variant: 'success' | 'warning' | 'error' | 'info'\n}\n\nconst InfoBar = (props: Props) => {\n  const { classes, className, message, onClose, variant, ...other } = props\n  const Icon = variantIcon[variant]\n\n  return (\n    <SnackbarContent\n      className={classNames(classes[variant], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={classNames(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          className={classes.close}\n          onClick={onClose}>\n          <CloseIcon className={classes.icon} />\n        </IconButton>\n      ]}\n      {...other}\n    />\n  )\n}\n\nInfoBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  message: PropTypes.node,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired\n}\n\nexport default withStyles(styles)(InfoBar)\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport * as actionInfo from '../actions/info.action'\nimport { bindActionCreators } from 'redux'\nimport type { Dispatch } from '../models'\nimport type { StateInfo } from '../models/info.model'\nimport type { Node } from 'react'\nimport Helmet from 'react-helmet'\nimport { withStyles, withWidth } from '@material-ui/core'\nimport { isSmartphone } from '../helpers/responsive.helper'\nimport Grid from '@material-ui/core/Grid'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport InfoBar from '../componments/InfoBar'\n\nconst styles = (theme: Object) => ({\n  root: {\n    flexGrow: 1,\n    width: '100%'\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object,\n  width: string\n}\n\ntype Props = {\n  helmet: boolean,\n  title: string,\n  content: Node,\n  gridNormal: number,\n  gridPhone: number,\n  actionsI: Dispatch,\n  info: StateInfo\n}\n\nclass Layout extends React.Component<ProvidedProps & Props> {\n  static defaultProps = {\n    helmet: false,\n    title: 'title',\n    gridNormal: 4,\n    gridPhone: 8\n  }\n\n  handleInfoClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return\n    }\n    this.props.actionsI.infoClose()\n  }\n\n  render() {\n    const renderHelmet = (\n      <Helmet>\n        <meta charset=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\n        />\n        <meta name=\"author\" content=\"Panepo@github\" />\n        <link rel=\"manifest\" href=\"./manifest.json\" />\n        <link rel=\"shortcut icon\" href=\"./favicon.ico\" />\n        <title>{this.props.title}</title>\n      </Helmet>\n    )\n\n    return (\n      <main className={this.props.classes.root}>\n        {this.props.helmet ? renderHelmet : null}\n        <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left'\n          }}\n          open={this.props.info.onoff}\n          autoHideDuration={6000}\n          onClose={this.handleInfoClose}>\n          <InfoBar\n            onClose={this.handleInfoClose}\n            variant={this.props.info.variant}\n            message={this.props.info.message}\n          />\n        </Snackbar>\n        <Grid\n          container={true}\n          className={this.props.classes.grid}\n          justify=\"center\">\n          <Grid\n            item={true}\n            xs={\n              isSmartphone(this.props.width)\n                ? this.props.gridPhone\n                : this.props.gridNormal\n            }>\n            {this.props.content}\n          </Grid>\n        </Grid>\n      </main>\n    )\n  }\n}\n\nLayout.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n  content: PropTypes.element.isRequired,\n  helmet: PropTypes.bool,\n  title: PropTypes.string,\n  gridNormal: PropTypes.number,\n  gridPhone: PropTypes.number,\n  info: PropTypes.shape({\n    onoff: PropTypes.bool.isRequired,\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info'])\n      .isRequired,\n    message: PropTypes.string.isRequired\n  })\n}\n\nconst mapStateToProps = state => {\n  return {\n    info: state.info\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsI: bindActionCreators(actionInfo, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withWidth()(withStyles(styles)(Layout)))\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport type { StateImage } from '../models/image.model'\nimport Layout from './Layout'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core'\nimport Typography from '@material-ui/core/Typography'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport Button from '@material-ui/core/Button'\n\nconst image404 = require('../images/404.jpg')\nconst image404u = require('../images/uzuki404.jpg')\n\nconst styles = (theme: Object) => ({\n  card: {\n    minWidth: 275\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  image: StateImage\n}\n\nclass NotFound extends React.Component<ProvidedProps & Props> {\n  render() {\n    return (\n      <Layout\n        helmet={true}\n        title={'File Not Found | Uzuki'}\n        content={\n          <Card className={this.props.classes.card}>\n            <CardActionArea>\n              {this.props.image.switch ? (\n                <img src={image404u} alt={'404'} width={640} height={480} />\n              ) : (\n                <img src={image404} alt={'404'} width={640} height={480} />\n              )}\n            </CardActionArea>\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                File Not Found\n              </Typography>\n            </CardContent>\n            <CardActions>\n              <Link to=\"/home\">\n                <Button color=\"primary\">Home</Button>\n              </Link>\n            </CardActions>\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nNotFound.propTypes = {\n  classes: PropTypes.object.isRequired,\n  image: PropTypes.shape({\n    switch: PropTypes.bool.isRequired\n  })\n}\n\nconst mapStateToProps = state => {\n  return {\n    image: state.image\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {}\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(NotFound))\n","// @flow\n\nimport { Action } from '../models/action.model'\nimport { actionImage } from '../models/image.model'\n\nexport function imageSwitch(onoff: boolean): Action<boolean> {\n  return {\n    type: actionImage.IMAGE_SWITCH,\n    payload: onoff\n  }\n}\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionImage from '../../actions/image.action'\nimport type { Dispatch, RouterHistory } from '../../models'\nimport type { StateImage } from '../../models/image.model'\nimport type { StateTrain } from '../../models/train.model'\nimport { withRouter } from 'react-router-dom'\nimport Layout from '../Layout'\nimport { withStyles } from '@material-ui/core'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconTrain from '@material-ui/icons/Polymer'\nimport IconSettings from '@material-ui/icons/Settings'\nimport IconSensor from '@material-ui/icons/Contacts'\nimport IconDone from '@material-ui/icons/Done'\nimport IconImage from '@material-ui/icons/Image'\nimport lightGreen from '@material-ui/core/colors/lightGreen'\n\nconst imageHome = require('../../images/uzukihome.jpg')\n\nconst styles = (theme: Object) => ({\n  card: {\n    minWidth: 275,\n    marginBottom: theme.spacing.unit\n  },\n  icon2: {\n    color: lightGreen[500]\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object,\n  history: RouterHistory\n}\n\ntype Props = {\n  image: StateImage,\n  train: StateTrain,\n  actionsI: Dispatch\n}\n\nclass Home extends React.Component<ProvidedProps & Props> {\n  handleRedirect = (link: string) => () => {\n    this.props.history.push('/' + link)\n  }\n\n  toggleImage = (onoff: boolean) => () => {\n    this.props.actionsI.imageSwitch(onoff)\n  }\n\n  render() {\n    return (\n      <Layout\n        helmet={true}\n        title={'Home | Uzuki'}\n        gridNormal={10}\n        gridPhone={12}\n        content={\n          <Grid\n            container={true}\n            className={this.props.classes.grid}\n            spacing={16}\n            justify=\"center\">\n            {this.props.image.switch ? (\n              <Grid item={true} xs={8}>\n                <Card>\n                  <CardActionArea>\n                    <img src={imageHome} alt={'Uzuki'} />\n                  </CardActionArea>\n                </Card>\n              </Grid>\n            ) : null}\n            <Grid item={true} xs={4}>\n              <Card className={this.props.classes.card}>\n                <CardActionArea onClick={this.handleRedirect('train')}>\n                  <CardHeader\n                    avatar={\n                      <IconButton\n                        className={this.props.classes.icon}\n                        color=\"primary\">\n                        <IconTrain />\n                      </IconButton>\n                    }\n                    title={\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                        Train\n                      </Typography>\n                    }\n                    subheader={\n                      'Upload boss picture and train computer to identify boss.'\n                    }\n                    action={\n                      this.props.train.data.length > 0 ? (\n                        <IconButton className={this.props.classes.icon2}>\n                          <IconDone />\n                        </IconButton>\n                      ) : null\n                    }\n                  />\n                </CardActionArea>\n              </Card>\n              <Card className={this.props.classes.card}>\n                <CardActionArea onClick={this.handleRedirect('setting')}>\n                  <CardHeader\n                    avatar={\n                      <IconButton\n                        className={this.props.classes.icon}\n                        color=\"primary\">\n                        <IconSettings />\n                      </IconButton>\n                    }\n                    title={\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                        Setting\n                      </Typography>\n                    }\n                    subheader={\n                      'Configure your camera to fetch the best vision.'\n                    }\n                  />\n                </CardActionArea>\n              </Card>\n              {this.props.train.data.length > 0 ? (\n                <Card className={this.props.classes.card}>\n                  <CardActionArea onClick={this.handleRedirect('sensor')}>\n                    <CardHeader\n                      avatar={\n                        <IconButton\n                          className={this.props.classes.icon}\n                          color=\"primary\">\n                          <IconSensor />\n                        </IconButton>\n                      }\n                      title={\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                          Sensor\n                        </Typography>\n                      }\n                      subheader={\n                        'Start the sensor to detect if your boss is approaching.'\n                      }\n                    />\n                  </CardActionArea>\n                </Card>\n              ) : null}\n              <Card className={this.props.classes.card}>\n                {this.props.image.switch ? (\n                  <CardActionArea onClick={this.toggleImage(false)}>\n                    <CardHeader\n                      avatar={\n                        <IconButton\n                          className={this.props.classes.icon}\n                          color=\"primary\">\n                          <IconImage />\n                        </IconButton>\n                      }\n                      title={\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                          Image\n                        </Typography>\n                      }\n                      subheader={'Toggle Uzuki images.'}\n                      action={\n                        <IconButton className={this.props.classes.icon2}>\n                          <IconDone />\n                        </IconButton>\n                      }\n                    />\n                  </CardActionArea>\n                ) : (\n                  <CardActionArea onClick={this.toggleImage(true)}>\n                    <CardHeader\n                      avatar={\n                        <IconButton\n                          className={this.props.classes.icon}\n                          color=\"primary\">\n                          <IconImage />\n                        </IconButton>\n                      }\n                      title={\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                          Image\n                        </Typography>\n                      }\n                      subheader={'Toggle Uzuki images.'}\n                    />\n                  </CardActionArea>\n                )}\n              </Card>\n            </Grid>\n          </Grid>\n        }\n      />\n    )\n  }\n}\n\nHome.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    image: state.image,\n    train: state.train\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsI: bindActionCreators(actionImage, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(withRouter(Home)))\n","// @flow\n\nimport { Action } from '../models/action.model'\nimport { actionSetting } from '../models/setting.model'\nimport type { CanvasRect, VideoConstraints } from '../models/misc.model'\n\nexport function modifyVideo(input: VideoConstraints): Action<VideoConstraints> {\n  return {\n    type: actionSetting.SETTING_VIDEO,\n    payload: input\n  }\n}\n\nexport function modifyRect(input: CanvasRect): Action<CanvasRect> {\n  return {\n    type: actionSetting.SETTING_RECT,\n    payload: input\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nfunction hasGetUserMedia() {\n  return !!(\n    (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) ||\n    navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia ||\n    navigator.msGetUserMedia\n  )\n}\n\nconst constrainStringType = PropTypes.oneOfType([\n  PropTypes.string,\n  PropTypes.arrayOf(PropTypes.string),\n  PropTypes.shape({\n    exact: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string)\n    ])\n  }),\n  PropTypes.shape({\n    ideal: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string)\n    ])\n  })\n])\n\nconst constrainBooleanType = PropTypes.oneOfType([\n  PropTypes.shape({\n    exact: PropTypes.bool\n  }),\n  PropTypes.shape({\n    ideal: PropTypes.bool\n  })\n])\n\nconst constrainLongType = PropTypes.oneOfType([\n  PropTypes.number,\n  PropTypes.shape({\n    exact: PropTypes.number,\n    ideal: PropTypes.number,\n    min: PropTypes.number,\n    max: PropTypes.number\n  })\n])\n\nconst constrainDoubleType = constrainLongType\n\nexport const audioConstraintType = PropTypes.shape({\n  deviceId: constrainStringType,\n  groupId: constrainStringType,\n  autoGainControl: constrainBooleanType,\n  channelCount: constrainLongType,\n  latency: constrainDoubleType,\n  noiseSuppression: constrainBooleanType,\n  sampleRate: constrainLongType,\n  sampleSize: constrainLongType,\n  volume: constrainDoubleType\n})\n\nexport const videoConstraintType = PropTypes.shape({\n  deviceId: constrainStringType,\n  groupId: constrainStringType,\n  aspectRatio: constrainDoubleType,\n  facingMode: constrainStringType,\n  frameRate: constrainDoubleType,\n  height: constrainLongType,\n  width: constrainLongType\n})\n\nexport default class Webcam extends Component {\n  static defaultProps = {\n    id: 'react-webcam',\n    audio: true,\n    className: '',\n    height: 480,\n    imageSmoothing: true,\n    onUserMedia: () => {},\n    onUserMediaError: () => {},\n    screenshotFormat: 'image/webp',\n    width: 640,\n    screenshotQuality: 0.92\n  }\n\n  static propTypes = {\n    id: PropTypes.string,\n    audio: PropTypes.bool,\n    onUserMedia: PropTypes.func,\n    onUserMediaError: PropTypes.func,\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    screenshotFormat: PropTypes.oneOf([\n      'image/webp',\n      'image/png',\n      'image/jpeg'\n    ]),\n    style: PropTypes.object,\n    className: PropTypes.string,\n    screenshotQuality: PropTypes.number,\n    minScreenshotWidth: PropTypes.number,\n    minScreenshotHeight: PropTypes.number,\n    audioConstraints: audioConstraintType,\n    videoConstraints: videoConstraintType,\n    imageSmoothing: PropTypes.bool\n  }\n\n  static mountedInstances = []\n\n  static userMediaRequested = false\n\n  constructor() {\n    super()\n    this.state = {\n      hasUserMedia: false\n    }\n  }\n\n  componentDidMount() {\n    if (!hasGetUserMedia()) return\n\n    Webcam.mountedInstances.push(this)\n\n    if (!this.state.hasUserMedia && !Webcam.userMediaRequested) {\n      this.requestUserMedia()\n    }\n  }\n\n  componentDidUpdate(nextProps) {\n    if (\n      JSON.stringify(nextProps.audioConstraints) !==\n        JSON.stringify(this.props.audioConstraints) ||\n      JSON.stringify(nextProps.videoConstraints) !==\n        JSON.stringify(this.props.videoConstraints)\n    ) {\n      this.requestUserMedia()\n    }\n  }\n\n  componentWillUnmount() {\n    const index = Webcam.mountedInstances.indexOf(this)\n    Webcam.mountedInstances.splice(index, 1)\n\n    Webcam.userMediaRequested = false\n    if (Webcam.mountedInstances.length === 0 && this.state.hasUserMedia) {\n      if (this.stream.getVideoTracks && this.stream.getAudioTracks) {\n        this.stream.getVideoTracks().map(track => track.stop())\n        this.stream.getAudioTracks().map(track => track.stop())\n      } else {\n        this.stream.stop()\n      }\n      window.URL.revokeObjectURL(this.state.src)\n    }\n  }\n\n  getScreenshot() {\n    if (!this.state.hasUserMedia) return null\n\n    const canvas = this.getCanvas()\n    return (\n      canvas &&\n      canvas.toDataURL(\n        this.props.screenshotFormat,\n        this.props.screenshotQuality\n      )\n    )\n  }\n\n  getCanvas() {\n    if (!this.state.hasUserMedia || !this.video.videoHeight) return null\n\n    if (!this.ctx) {\n      const canvas = document.createElement('canvas')\n      const aspectRatio = this.video.videoWidth / this.video.videoHeight\n\n      var canvasWidth = this.props.minScreenshotWidth || this.video.clientWidth\n      var canvasHeight = canvasWidth / aspectRatio\n\n      if (\n        this.props.minScreenshotHeight &&\n        canvasHeight < this.props.minScreenshotHeight\n      ) {\n        canvasHeight = this.props.minScreenshotHeight\n        canvasWidth = canvasHeight * aspectRatio\n      }\n\n      canvas.width = canvasWidth\n      canvas.height = canvasHeight\n\n      this.canvas = canvas\n      this.ctx = canvas.getContext('2d')\n    }\n\n    const { ctx, canvas } = this\n    ctx.imageSmoothingEnabled = this.props.imageSmoothing\n    ctx.drawImage(\n      this.video,\n      this.props.clipx,\n      this.props.clipy,\n      this.props.clipwidth,\n      this.props.clipheight,\n      0,\n      0,\n      canvas.width,\n      canvas.height\n    )\n\n    return canvas\n  }\n\n  requestUserMedia() {\n    navigator.getUserMedia =\n      navigator.mediaDevices.getUserMedia ||\n      navigator.webkitGetUserMedia ||\n      navigator.mozGetUserMedia ||\n      navigator.msGetUserMedia\n\n    const sourceSelected = (audioConstraints, videoConstraints) => {\n      const constraints = {\n        video: videoConstraints || true\n      }\n\n      if (this.props.audio) {\n        constraints.audio = audioConstraints || true\n      }\n\n      navigator.mediaDevices\n        .getUserMedia(constraints)\n        .then(stream => {\n          Webcam.mountedInstances.forEach(instance =>\n            instance.handleUserMedia(null, stream)\n          )\n        })\n        .catch(e => {\n          Webcam.mountedInstances.forEach(instance =>\n            instance.handleUserMedia(e)\n          )\n        })\n    }\n\n    if ('mediaDevices' in navigator) {\n      sourceSelected(this.props.audioConstraints, this.props.videoConstraints)\n    } else {\n      const optionalSource = id => ({ optional: [{ sourceId: id }] })\n\n      const constraintToSourceId = constraint => {\n        const deviceId = (constraint || {}).deviceId\n\n        if (typeof deviceId === 'string') {\n          return deviceId\n        } else if (Array.isArray(deviceId) && deviceId.length > 0) {\n          return deviceId[0]\n        } else if (typeof deviceId === 'object' && deviceId.ideal) {\n          return deviceId.ideal\n        }\n\n        return null\n      }\n\n      MediaStreamTrack.getSources(sources => {\n        let audioSource = null\n        let videoSource = null\n\n        sources.forEach(source => {\n          if (source.kind === 'audio') {\n            audioSource = source.id\n          } else if (source.kind === 'video') {\n            videoSource = source.id\n          }\n        })\n\n        const audioSourceId = constraintToSourceId(this.props.audioConstraints)\n        if (audioSourceId) {\n          audioSource = audioSourceId\n        }\n\n        const videoSourceId = constraintToSourceId(this.props.videoConstraints)\n        if (videoSourceId) {\n          videoSource = videoSourceId\n        }\n\n        sourceSelected(optionalSource(audioSource), optionalSource(videoSource))\n      })\n    }\n\n    Webcam.userMediaRequested = true\n  }\n\n  handleUserMedia(err, stream) {\n    if (err) {\n      this.setState({ hasUserMedia: false })\n      this.props.onUserMediaError(err)\n\n      return\n    }\n\n    this.stream = stream\n\n    try {\n      this.video.srcObject = stream\n      this.setState({ hasUserMedia: true })\n    } catch (error) {\n      this.setState({\n        hasUserMedia: true,\n        src: window.URL.createObjectURL(stream)\n      })\n    }\n\n    this.props.onUserMedia()\n  }\n\n  render() {\n    return (\n      <video\n        autoPlay\n        id={this.props.id}\n        width={this.props.width}\n        height={this.props.height}\n        src={this.state.src}\n        muted={this.props.audio}\n        className={this.props.className}\n        playsInline\n        style={this.props.style}\n        ref={ref => {\n          this.video = ref\n        }}\n      />\n    )\n  }\n}\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport Webcam, { audioConstraintType, videoConstraintType } from './Webcam'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = (theme: Object) => ({\n  hidden: {\n    display: 'none'\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  classes: Object,\n  rect: {\n    x: number,\n    y: number,\n    width: number,\n    height: number\n  },\n  rectLine: number,\n  rectColor: string,\n  audio: boolean,\n  videoWidth: number,\n  videoHeight: number,\n  tickRender: number,\n  idVideo: string,\n  idCanvas: string,\n  audioConstraints: Object,\n  videoConstraints: Object,\n  getPosition: ({ x: number, y: number, width: number, height: number }) => {}\n}\n\ntype State = {\n  isDrawing: boolean,\n  isDisplaying: boolean,\n  startx: number,\n  starty: number,\n  endx: number,\n  endy: number\n}\n\nclass WebcamRectDraw extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    isDrawing: false,\n    isDisplaying: this.props.rect ? true : false,\n    startx: this.props.rect ? this.props.rect.x : 0,\n    starty: this.props.rect ? this.props.rect.y : 0,\n    endx: this.props.rect ? this.props.rect.x + this.props.rect.width : 0,\n    endy: this.props.rect ? this.props.rect.y + this.props.rect.height : 0\n  }\n\n  static propTypes = {\n    idVideo: PropTypes.string,\n    idCanvas: PropTypes.string,\n    classes: PropTypes.object.isRequired,\n    videoWidth: PropTypes.number.isRequired,\n    videoHeight: PropTypes.number.isRequired,\n    tickRender: PropTypes.number.isRequired,\n    audio: PropTypes.bool.isRequired,\n    rect: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      width: PropTypes.number,\n      height: PropTypes.number\n    }),\n    rectColor: PropTypes.string.isRequired,\n    rectLine: PropTypes.number.isRequired,\n    audioConstraints: audioConstraintType,\n    videoConstraints: videoConstraintType,\n    getPosition: PropTypes.func\n  }\n\n  static defaultProps = {\n    idVideo: 'react-webcam-rect',\n    idCanvas: 'react-webcam-rect-canvas',\n    videoWidth: 640,\n    videoHeight: 360,\n    tickRender: 100,\n    audio: false,\n    rectx: 0,\n    recty: 0,\n    rectwidth: 640,\n    rectheight: 360,\n    rectColor: 'yellow',\n    rectLine: 4\n  }\n  interval: number = 0\n  webcam: HTMLVideoElement | null\n\n  componentDidMount() {\n    this.interval = window.setInterval(\n      () => this.handleRender(),\n      this.props.tickRender\n    )\n  }\n\n  componentWillUnmount() {\n    window.clearInterval(this.interval)\n  }\n\n  componentWillReceiveProps(nextProps: ProvidedProps & Props) {\n    this.setState({\n      isDisplaying: true,\n      startx: nextProps.rect.x,\n      starty: nextProps.rect.y,\n      endx: nextProps.rect.x + nextProps.rect.width,\n      endy: nextProps.rect.y + nextProps.rect.height\n    })\n  }\n\n  handleRender = () => {\n    const video = document.getElementById(this.props.idVideo)\n    const canvas = document.getElementById(this.props.idCanvas)\n\n    if (\n      canvas instanceof HTMLCanvasElement &&\n      video instanceof HTMLVideoElement\n    ) {\n      canvas.width = this.props.videoWidth\n      const ctx = canvas.getContext('2d')\n      ctx.drawImage(\n        video,\n        0,\n        0,\n        this.props.videoConstraints.width,\n        this.props.videoConstraints.height,\n        0,\n        0,\n        this.props.videoWidth,\n        this.props.videoHeight\n      )\n      if (this.state.isDisplaying) {\n        ctx.strokeStyle = this.props.rectColor\n        ctx.lineWidth = this.state.isDrawing\n          ? Math.round(this.props.rectLine / 2)\n          : this.props.rectLine\n\n        const { startx, starty, endx, endy } = this.state\n\n        ctx.strokeRect(\n          startx > endx ? endx : startx,\n          starty > endy ? endy : starty,\n          Math.abs(startx - endx),\n          Math.abs(starty - endy)\n        )\n      }\n    }\n  }\n\n  handleMouseDown = event => {\n    const canvas = document.getElementById(this.props.idCanvas)\n    if (canvas instanceof HTMLCanvasElement) {\n      const rect = canvas.getBoundingClientRect()\n      const posx = event.clientX - rect.left\n      const posy = event.clientY - rect.top\n      this.setState({\n        isDisplaying: true,\n        isDrawing: true,\n        startx: posx,\n        starty: posy,\n        endx: posx,\n        endy: posy\n      })\n    }\n  }\n\n  handleMouseUp = () => {\n    this.setState({ isDrawing: false })\n    this.handleGetPosition()\n  }\n\n  handleMouseMove = event => {\n    if (this.state.isDrawing) {\n      const canvas = document.getElementById(this.props.idCanvas)\n      if (canvas instanceof HTMLCanvasElement) {\n        const rect = canvas.getBoundingClientRect()\n        this.setState({\n          endx: event.clientX - rect.left,\n          endy: event.clientY - rect.top\n        })\n      }\n    }\n  }\n\n  handleMouseOut = () => {\n    if (this.state.isDrawing) {\n      this.setState({\n        isDrawing: false,\n        isDisplaying: false\n      })\n    }\n  }\n\n  handleGetPosition = () => {\n    const { startx, starty, endx, endy } = this.state\n    const rect = {\n      x: Math.round(startx > endx ? endx : startx),\n      y: Math.round(starty > endy ? endy : starty),\n      width: Math.abs(startx - endx),\n      height: Math.abs(starty - endy)\n    }\n    this.props.getPosition(rect)\n  }\n\n  render() {\n    return (\n      <div>\n        <Webcam\n          className={this.props.classes.hidden}\n          id={this.props.idVideo}\n          audio={this.props.audio}\n          width={this.props.videoWidth}\n          height={this.props.videoHeight}\n          ref={node => (this.webcam = node)}\n          videoConstraints={this.props.videoConstraints}\n          audioConstraints={this.props.audioConstraints}\n        />\n        <canvas\n          id={this.props.idCanvas}\n          width={this.props.videoWidth}\n          height={this.props.videoHeight}\n          onMouseDown={this.handleMouseDown}\n          onMouseUp={this.handleMouseUp}\n          onMouseMove={this.handleMouseMove}\n          onMouseOut={this.handleMouseOut}\n        />\n      </div>\n    )\n  }\n}\n\nexport default withStyles(styles)(WebcamRectDraw)\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionSetting from '../../actions/setting.action'\nimport * as actionInfo from '../../actions/info.action'\nimport type { Dispatch } from '../../models'\nimport type { StateSetting } from '../../models/setting.model'\nimport type { StateImage } from '../../models/image.model'\nimport type {\n  CanvasRect,\n  CanvasRectError,\n  VideoConstraints,\n  VideoConstraintsError\n} from '../../models/misc.model'\nimport NumberFormat from 'react-number-format'\nimport WebcamRectDraw from '../../componments/WebcamRectDraw'\nimport { validateRect, validateVideo } from '../../helpers/validate.helper'\nimport Layout from '../Layout'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Grid from '@material-ui/core/Grid'\nimport Divider from '@material-ui/core/Divider'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconCamera from '@material-ui/icons/Camera'\nimport IconAccept from '@material-ui/icons/Done'\nimport IconCancel from '@material-ui/icons/Cancel'\nimport IconSensor from '@material-ui/icons/Contacts'\n\nconst imageSetting = require('../../images/setting.jpg')\nconst imageSettingu = require('../../images/uzukisetting.jpg')\n\nconst styles = (theme: Object) => ({\n  formControl: {\n    margin: theme.spacing.unit,\n    width: 160\n  },\n  divider: {\n    marginTop: '10px',\n    marginBottom: '10px'\n  }\n})\n\nconst NumberFormatCustom = (props: any) => {\n  const { inputRef, onChange, ...other } = props\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values: any) => {\n        onChange({\n          target: {\n            value: values.value\n          }\n        })\n      }}\n      allowNegative={false}\n    />\n  )\n}\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  actionsS: Dispatch,\n  actionsI: Dispatch,\n  classes: Object,\n  setting: StateSetting,\n  image: StateImage\n}\n\ntype State = {\n  isPlaying: boolean,\n  rect: CanvasRect,\n  rectError: CanvasRectError,\n  video: VideoConstraints,\n  videoError: VideoConstraintsError\n}\n\nclass Setting extends React.Component<ProvidedProps & Props, State> {\n  constructor(props: ProvidedProps & Props) {\n    super(props)\n    this.state = {\n      isPlaying: false,\n      rect: this.props.setting.rect,\n      rectError: {\n        x: { onoff: false, message: '' },\n        y: { onoff: false, message: '' },\n        width: { onoff: false, message: '' },\n        height: { onoff: false, message: '' }\n      },\n      video: this.props.setting.video,\n      videoError: {\n        width: { onoff: false, message: '' },\n        height: { onoff: false, message: '' }\n      }\n    }\n  }\n\n  // ================================================================================\n  // React event handler functions\n  // ================================================================================\n  handleWebcam = () => {\n    if (this.state.isPlaying) {\n      this.setState({\n        isPlaying: false\n      })\n    } else {\n      this.setState({\n        isPlaying: true\n      })\n    }\n  }\n\n  handleGetPosition = (input: CanvasRect) => {\n    this.setState({ rect: input })\n  }\n\n  handleAccept = () => {\n    this.props.actionsS.modifyRect(this.state.rect)\n    this.props.actionsS.modifyVideo(this.state.video)\n    this.props.actionsI.infoSet({\n      onoff: true,\n      variant: 'info',\n      message: 'Configuration set'\n    })\n  }\n\n  handleCancel = () => {\n    this.setState({\n      rect: this.props.setting.rect,\n      rectError: {\n        x: { onoff: false, message: '' },\n        y: { onoff: false, message: '' },\n        width: { onoff: false, message: '' },\n        height: { onoff: false, message: '' }\n      },\n      video: this.props.setting.video,\n      videoError: {\n        width: { onoff: false, message: '' },\n        height: { onoff: false, message: '' }\n      }\n    })\n  }\n\n  handleInputRect = (column: string) => (event: any) => {\n    if (event.target.value.length > 0) {\n      const value = parseInt(event.target.value)\n      const input = { ...this.state.rect, [column]: value }\n      const error = validateRect(input)\n\n      if (error.isValid) {\n        this.setState({ rect: input, rectError: error.errors })\n        this.props.actionsI.infoSet({\n          onoff: true,\n          variant: 'error',\n          message: 'Invalid inputs'\n        })\n      } else {\n        this.setState({\n          rect: input,\n          rectError: {\n            x: { onoff: false, message: '' },\n            y: { onoff: false, message: '' },\n            width: { onoff: false, message: '' },\n            height: { onoff: false, message: '' }\n          }\n        })\n      }\n    }\n  }\n\n  handleInputVideo = (column: string) => (event: any) => {\n    if (event.target.value.length > 0) {\n      const value = parseInt(event.target.value)\n      const input = { ...this.state.video, [column]: value }\n      const error = validateVideo(input)\n\n      if (error.isValid) {\n        this.setState({ video: input, videoError: error.errors })\n        this.props.actionsI.infoSet({\n          onoff: true,\n          variant: 'error',\n          message: 'Invalid inputs'\n        })\n      } else {\n        this.setState({\n          video: input,\n          videoError: {\n            width: { onoff: false, message: '' },\n            height: { onoff: false, message: '' }\n          }\n        })\n      }\n    }\n  }\n\n  // ================================================================================\n  // React render functions\n  // ================================================================================\n\n  renderButton = () => {\n    const renderWebcamPower = this.state.isPlaying ? (\n      <Tooltip title=\"Webcam stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"secondary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Webcam start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"primary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    )\n\n    return (\n      <div>\n        {renderWebcamPower}\n        <Tooltip title=\"Set configuration\">\n          <IconButton\n            className={this.props.classes.icon}\n            onClick={this.handleAccept}\n            color=\"primary\">\n            <IconAccept />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title=\"Cancel\">\n          <IconButton\n            className={this.props.classes.icon}\n            onClick={this.handleCancel}\n            color=\"primary\">\n            <IconCancel />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title=\"To face recognize sensor\">\n          <Link to=\"/sensor\">\n            <IconButton className={this.props.classes.icon} color=\"primary\">\n              <IconSensor />\n            </IconButton>\n          </Link>\n        </Tooltip>\n      </div>\n    )\n  }\n\n  renderWebCam = () => {\n    if (this.state.isPlaying) {\n      return (\n        <WebcamRectDraw\n          audio={false}\n          videoWidth={640}\n          videoHeight={360}\n          videoConstraints={this.props.setting.video}\n          rectColor={'lime'}\n          getPosition={rect => this.handleGetPosition(rect)}\n          rect={this.state.rect}\n        />\n      )\n    } else {\n      return this.props.image.switch ? (\n        <img src={imageSettingu} alt={'setting'} width={640} height={480} />\n      ) : (\n        <img src={imageSetting} alt={'setting'} width={640} height={480} />\n      )\n    }\n  }\n\n  renderInputRect = () => {\n    const listRect = ['x', 'y', 'width', 'height']\n\n    return listRect.reduce((output: any[], data: string, i: number) => {\n      output.push(\n        <TextField\n          id={data}\n          key={data + i.toString()}\n          label={'Rect:' + data}\n          error={this.state.rectError[data].onoff}\n          helperText={this.state.rectError[data].message}\n          className={this.props.classes.formControl}\n          value={this.state.rect[data]}\n          onInput={this.handleInputRect(data)}\n          margin=\"normal\"\n          InputProps={{\n            inputComponent: NumberFormatCustom\n          }}\n        />\n      )\n      return output\n    }, [])\n  }\n\n  renderInputVideo = () => {\n    const listVideo = ['width', 'height']\n\n    return listVideo.reduce((output: any[], data: string, i: number) => {\n      output.push(\n        <TextField\n          id={data}\n          key={data + i.toString()}\n          label={'Video:' + data}\n          error={this.state.videoError[data].onoff}\n          helperText={this.state.videoError[data].message}\n          className={this.props.classes.formControl}\n          value={this.state.video[data]}\n          onInput={this.handleInputVideo(data)}\n          margin=\"normal\"\n          InputProps={{\n            inputComponent: NumberFormatCustom\n          }}\n        />\n      )\n      return output\n    }, [])\n  }\n\n  render() {\n    return (\n      <Layout\n        helmet={true}\n        title={'Camera Settings | Uzuki'}\n        gridNormal={6}\n        gridPhone={10}\n        content={\n          <Card className={this.props.classes.card}>\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                Camera Settings\n              </Typography>\n              <Divider className={this.props.classes.divider} />\n              <Grid\n                container={true}\n                className={this.props.classes.grid}\n                justify=\"center\">\n                {this.renderWebCam()}\n              </Grid>\n              <Divider className={this.props.classes.divider} />\n              {this.renderButton()}\n              <div>{this.renderInputRect()}</div>\n              <div>{this.renderInputVideo()}</div>\n            </CardContent>\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nSetting.propTypes = {\n  classes: PropTypes.object.isRequired,\n  setting: PropTypes.shape({\n    rect: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      width: PropTypes.number,\n      height: PropTypes.number\n    }),\n    video: PropTypes.shape({\n      width: PropTypes.number,\n      height: PropTypes.number\n    })\n  })\n}\n\nconst mapStateToProps = state => {\n  return {\n    setting: state.setting,\n    image: state.image\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsS: bindActionCreators(actionSetting, dispatch),\n    actionsI: bindActionCreators(actionInfo, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(Setting))\n","// @flow\n\n// import Validator from 'validator'\nimport isEmpty from 'is-empty'\nimport type {\n  CanvasRect,\n  CanvasRectError,\n  VideoConstraints,\n  VideoConstraintsError\n} from '../models/misc.model'\n\nexport function validateRect(\n  input: CanvasRect\n): {\n  errors: CanvasRectError,\n  isValid: boolean\n} {\n  const errors: CanvasRectError = {\n    x: { onoff: false, message: '' },\n    y: { onoff: false, message: '' },\n    width: { onoff: false, message: '' },\n    height: { onoff: false, message: '' }\n  }\n  return {\n    errors,\n    isValid: isEmpty(errors)\n  }\n}\n\nexport function validateVideo(\n  input: VideoConstraints\n): {\n  errors: VideoConstraintsError,\n  isValid: boolean\n} {\n  const errors: VideoConstraintsError = {\n    width: { onoff: false, message: '' },\n    height: { onoff: false, message: '' }\n  }\n  return {\n    errors,\n    isValid: isEmpty(errors)\n  }\n}\n","// @flow\n\nimport { Action } from '../models/action.model'\nimport { actionTrain } from '../models/train.model'\n\nexport function faceAdd(faces: string[]): Action<string[]> {\n  return {\n    type: actionTrain.TRAIN_FACE_ADD,\n    payload: faces\n  }\n}\n\nexport function faceRemove(id: number): Action<number> {\n  return {\n    type: actionTrain.TRAIN_FACE_REMOVE,\n    payload: id\n  }\n}\n\nexport function faceClear(): Action<null> {\n  return {\n    type: actionTrain.TRAIN_FACE_CLEAR,\n    payload: null\n  }\n}\n\nexport function dateSave(data: any): Action<any> {\n  return {\n    type: actionTrain.TRAIN_DATA_SAVE,\n    payload: data\n  }\n}\n\nexport function dataClear(): Action<null> {\n  return {\n    type: actionTrain.TRAIN_DATA_CLEAR,\n    payload: null\n  }\n}\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport Layout from './Layout'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst styles = (theme: Object) => ({\n  paper: {\n    borderRadius: '2px',\n    paddingTop: '40px',\n    paddingBottom: '40px',\n    paddingLeft: '40px',\n    paddingRight: '40px'\n  }\n})\n\ntype Props = {\n  classes: Object,\n  helmet: boolean,\n  title: string\n}\n\nconst Loading = (props: Props) => {\n  return (\n    <Layout\n      helmet={props.helmet}\n      title={props.title}\n      content={\n        <Paper className={props.classes.paper}>\n          <Typography>Loading...</Typography>\n          <LinearProgress />\n        </Paper>\n      }\n    />\n  )\n}\n\nLoading.propTypes = {\n  classes: PropTypes.object.isRequired,\n  helmet: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired\n}\n\nexport default withStyles(styles)(Loading)\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport FlipMove from 'react-flip-move'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = (theme: Object) => ({\n  image: {\n    margin: '1px'\n  }\n})\n\ntype Props = {\n  classes: Object,\n  className: string,\n  imageSrc: string[],\n  imageWidth: number,\n  imageHeight: number,\n  imageText: string\n}\n\nconst ImageGallery = (props: Props) => {\n  const {\n    classes,\n    className,\n    imageSrc,\n    imageWidth,\n    imageHeight,\n    imageText\n  } = props\n  const renderPreview = imageSrc.map(image => (\n    <img\n      className={classes.image}\n      id={image}\n      key={image}\n      src={image}\n      width={imageWidth}\n      height={imageHeight}\n      alt={imageText}\n    />\n  ))\n  return (\n    <FlipMove className={classNames('flip-wrapper', className)}>\n      {renderPreview}\n    </FlipMove>\n  )\n}\n\nImageGallery.propTypes = {\n  classes: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  imageSrc: PropTypes.array,\n  imageWidth: PropTypes.number,\n  imageHeight: PropTypes.number,\n  imageText: PropTypes.string\n}\n\nexport default withStyles(styles)(ImageGallery)\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionInfo from '../../actions/info.action'\nimport * as actionTrain from '../../actions/train.action'\nimport type { Dispatch } from '../../models'\nimport { withStyles } from '@material-ui/core/styles'\nimport ImageGallery from '../../componments/ImageGallery'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconAdd from '@material-ui/icons/AddPhotoAlternate'\nimport IconUpload from '@material-ui/icons/CloudUpload'\nimport IconCancel from '@material-ui/icons/Cancel'\n\nconst styles = (theme: Object) => ({\n  hidden: {\n    display: 'none'\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  actionsI: Dispatch,\n  actionsT: Dispatch,\n  dialogStatus: boolean,\n  toggleDialog: (target: string, onoff: boolean, key: number) => () => null\n}\n\ntype State = {\n  imageFile: string[]\n}\n\nclass DialogUpload extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    imageFile: []\n  }\n\n  handleAccept = (event: SyntheticEvent<HTMLInputElement>) => {\n    if (this.state.imageFile.length > 0) {\n      event.preventDefault()\n      this.props.actionsT.faceAdd(this.state.imageFile)\n      this.setState({\n        imageFile: []\n      })\n    } else {\n      this.props.actionsI.infoSet({\n        onoff: true,\n        variant: 'error',\n        message: 'Please select an image'\n      })\n    }\n  }\n\n  handleUpload = (event: any) => {\n    const data = []\n\n    for (let i = 0; i < event.target.files.length; i += 1) {\n      let dataTemp\n      if (event.target.files[i] != null) {\n        dataTemp = URL.createObjectURL(event.target.files[i])\n        data.push(dataTemp)\n      }\n    }\n\n    if (data.length > 0) {\n      this.setState({\n        imageFile: data\n      })\n    } else {\n      this.setState({\n        imageFile: []\n      })\n    }\n  }\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.dialogStatus}\n        onClose={this.props.toggleDialog('upload', false, 0)}\n        aria-labelledby=\"select-dialog-title\"\n        aria-describedby=\"select-dialog-description\"\n        maxWidth={'md'}>\n        <DialogTitle id=\"select-dialog-title\">Upload</DialogTitle>\n        <DialogContent>\n          <ImageGallery\n            imageSrc={this.state.imageFile}\n            imageWidth={256}\n            imageHeight={256}\n            imageText={'upload files'}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Tooltip title=\"Select Image\">\n            <IconButton\n              className={this.props.classes.icon}\n              component=\"label\"\n              color=\"primary\">\n              <input\n                className={this.props.classes.hidden}\n                type=\"file\"\n                name=\"fileUpload\"\n                accept=\"image/*\"\n                onChange={this.handleUpload}\n                required\n                multiple\n              />\n              <IconAdd />\n            </IconButton>\n          </Tooltip>\n          {this.state.imageFile.length > 0 ? (\n            <Tooltip title=\"Upload Image\">\n              <IconButton\n                className={this.props.classes.icon}\n                onClick={this.handleAccept}\n                color=\"primary\">\n                <IconUpload />\n              </IconButton>\n            </Tooltip>\n          ) : null}\n          <Tooltip title=\"Close\">\n            <IconButton\n              className={this.props.classes.icon}\n              onClick={this.props.toggleDialog('upload', false, 0)}\n              color=\"secondary\">\n              <IconCancel />\n            </IconButton>\n          </Tooltip>\n        </DialogActions>\n      </Dialog>\n    )\n  }\n}\n\nDialogUpload.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dialogStatus: PropTypes.bool.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = state => {\n  return {}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsT: bindActionCreators(actionTrain, dispatch),\n    actionsI: bindActionCreators(actionInfo, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(DialogUpload))\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconDelete from '@material-ui/icons/Delete'\nimport IconCancel from '@material-ui/icons/Cancel'\n\nconst styles = (theme: Object) => ({})\n\ntype Props = {\n  classes: Object,\n  dialogStatus: boolean,\n  imageSrc: string,\n  toggleDialog: (target: string, onoff: boolean, name: string) => () => null,\n  handleAccept: (\n    target: string\n  ) => (event: SyntheticEvent<HTMLInputElement>) => null\n}\n\nconst DialogDelete = (props: Props) => {\n  return (\n    <Dialog\n      open={props.dialogStatus}\n      onClose={props.toggleDialog('delete', false, '')}\n      aria-labelledby=\"select-dialog-title\"\n      aria-describedby=\"select-dialog-description\"\n      maxWidth={'xl'}>\n      <DialogTitle id=\"select-dialog-title\">Delete</DialogTitle>\n      <DialogContent>\n        <img src={props.imageSrc} alt={'delete'} height={256} />\n      </DialogContent>\n      <DialogActions>\n        <Tooltip title=\"Delete file\">\n          <IconButton\n            className={props.classes.icon}\n            onClick={props.handleAccept('delete')}\n            color=\"primary\">\n            <IconDelete />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title=\"Cancel\">\n          <IconButton\n            className={props.classes.icon}\n            onClick={props.toggleDialog('delete', false, '')}\n            color=\"secondary\">\n            <IconCancel />\n          </IconButton>\n        </Tooltip>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nDialogDelete.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dialogStatus: PropTypes.bool.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  handleAccept: PropTypes.func.isRequired\n}\n\nexport default withStyles(styles)(DialogDelete)\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport Webcam, { audioConstraintType, videoConstraintType } from './Webcam'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = (theme: Object) => ({\n  hidden: {\n    display: 'none'\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  classes: Object,\n  cropx: number,\n  cropy: number,\n  cropwidth: number,\n  cropheight: number,\n  audio: boolean,\n  videoWidth: number,\n  videoHeight: number,\n  tickRender: number,\n  idVideo: string,\n  idCanvas: string,\n  audioConstraints: Object,\n  videoConstraints: Object\n}\n\nclass WebcamCrop extends React.Component<ProvidedProps & Props> {\n  static propTypes = {\n    idVideo: PropTypes.string,\n    idCanvas: PropTypes.string,\n    classes: PropTypes.object.isRequired,\n    videoWidth: PropTypes.number.isRequired,\n    videoHeight: PropTypes.number.isRequired,\n    tickRender: PropTypes.number.isRequired,\n    audio: PropTypes.bool.isRequired,\n    cropx: PropTypes.number.isRequired,\n    cropy: PropTypes.number.isRequired,\n    cropwidth: PropTypes.number.isRequired,\n    cropheight: PropTypes.number.isRequired,\n    audioConstraints: audioConstraintType,\n    videoConstraints: videoConstraintType\n  }\n\n  static defaultProps = {\n    idVideo: 'react-webcam-crop',\n    idCanvas: 'react-webcam-crop-canvas',\n    videoWidth: 640,\n    videoHeight: 360,\n    tickRender: 100,\n    audio: false,\n    cropx: 0,\n    cropy: 0,\n    cropwidth: 640,\n    cropheight: 360\n  }\n  interval: number = 0\n  webcam: HTMLVideoElement | null\n\n  componentDidMount() {\n    this.interval = window.setInterval(\n      () => this.handleRender(),\n      this.props.tickRender\n    )\n  }\n\n  componentWillUnmount() {\n    window.clearInterval(this.interval)\n  }\n\n  handleRender = () => {\n    const video = document.getElementById(this.props.idVideo)\n    const canvas = document.getElementById(this.props.idCanvas)\n\n    if (\n      canvas instanceof HTMLCanvasElement &&\n      video instanceof HTMLVideoElement\n    ) {\n      const ctx = canvas.getContext('2d')\n      const mulX = Math.round(this.props.videoConstraints.width / 640)\n      const mulY = Math.round(this.props.videoConstraints.height / 360)\n      ctx.drawImage(\n        video,\n        this.props.cropx * mulX,\n        this.props.cropy * mulY,\n        this.props.cropwidth * mulX,\n        this.props.cropheight * mulY,\n        0,\n        0,\n        this.props.videoWidth,\n        this.props.videoHeight\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Webcam\n          className={this.props.classes.hidden}\n          id={this.props.idVideo}\n          audio={this.props.audio}\n          width={1280}\n          height={720}\n          ref={node => (this.webcam = node)}\n          videoConstraints={this.props.videoConstraints}\n          audioConstraints={this.props.audioConstraints}\n        />\n        <canvas\n          id={this.props.idCanvas}\n          width={this.props.videoWidth}\n          height={this.props.videoHeight}\n        />\n      </div>\n    )\n  }\n}\n\nexport default withStyles(styles)(WebcamCrop)\n","// @flow\n\nimport * as faceapi from 'face-api.js'\n\nexport async function createFaceMatcher(\n  data: { _label: string, _descriptors: any }[]\n) {\n  const labeledFaceDescriptors = await Promise.all(\n    data.map(face => {\n      const descriptors = []\n      face._descriptors.forEach(desc => {\n        const parsedArray = Object.values(desc)\n        // $flow-disable-line\n        descriptors.push(new Float32Array(parsedArray))\n      })\n      return new faceapi.LabeledFaceDescriptors(face._label, descriptors)\n    })\n  )\n  return new faceapi.FaceMatcher(labeledFaceDescriptors)\n}\n\nexport function resizeCanvasAndResults(\n  dimensions: HTMLImageElement | HTMLCanvasElement | HTMLVideoElement,\n  canvas: HTMLCanvasElement,\n  results: any\n) {\n  const { width, height } =\n    dimensions instanceof HTMLVideoElement\n      ? faceapi.getMediaDimensions(dimensions)\n      : dimensions\n  canvas.width = width\n  canvas.height = height\n\n  // resize detections (and landmarks) in case displayed image is smaller than\n  // original size\n  return faceapi.resizeResults(results, { width, height })\n}\n\nexport function drawDetections(\n  dimensions: HTMLImageElement | HTMLCanvasElement | HTMLVideoElement,\n  canvas: HTMLCanvasElement,\n  detections: any\n) {\n  const resizedDetections = resizeCanvasAndResults(\n    dimensions,\n    canvas,\n    detections\n  )\n  faceapi.drawDetection(canvas, resizedDetections)\n}\n\nexport function drawLandmarks(\n  dimensions: HTMLImageElement | HTMLCanvasElement | HTMLVideoElement,\n  canvas: HTMLCanvasElement,\n  results: any,\n  withBoxes: boolean = true\n) {\n  const resizedResults = resizeCanvasAndResults(dimensions, canvas, results)\n\n  if (withBoxes) {\n    faceapi.drawDetection(canvas, resizedResults.map(det => det.detection))\n  }\n\n  const faceLandmarks = resizedResults.map(det => det.landmarks)\n  const drawLandmarksOptions = {\n    lineWidth: 2,\n    drawLines: true,\n    color: 'green'\n  }\n  faceapi.drawLandmarks(canvas, faceLandmarks, drawLandmarksOptions)\n}\n\nexport function drawExpressions(\n  dimensions: HTMLImageElement | HTMLCanvasElement | HTMLVideoElement,\n  canvas: HTMLCanvasElement,\n  results: any,\n  thresh: number,\n  withBoxes: boolean = true\n) {\n  const resizedResults = resizeCanvasAndResults(dimensions, canvas, results)\n\n  if (withBoxes) {\n    faceapi.drawDetection(canvas, resizedResults.map(det => det.detection), {\n      withScore: false\n    })\n  }\n\n  faceapi.drawFaceExpressions(\n    canvas,\n    resizedResults.map(({ detection, expressions }) => ({\n      position: detection.box,\n      expressions\n    }))\n  )\n}\n\nexport function drawFPS(\n  canvas: HTMLCanvasElement,\n  text: string,\n  color: string,\n  location: { x: number, y: number }\n) {\n  const ctx = canvas.getContext('2d')\n  ctx.font = '30px Comic Sans MS'\n  ctx.fillStyle = color\n  ctx.fillText(text, location.x, location.y)\n}\n\nexport function extractData(\n  input: string,\n  rect: { x: number, y: number, width: number, height: number }\n): ImageData | null {\n  const image = document.getElementById(input)\n  if (image instanceof HTMLCanvasElement) {\n    let canvas = document.createElement('canvas')\n    canvas.width = image.width\n    canvas.height = image.height\n    const ctx = canvas.getContext('2d')\n    ctx.drawImage(image, 0, 0, canvas.width, canvas.height)\n    return ctx.getImageData(rect.x, rect.y, rect.width, rect.height)\n  }\n  return null\n}\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport type { Dispatch } from '../../models'\nimport type { StateSetting } from '../../models/setting.model'\nimport type { StateImage } from '../../models/image.model'\nimport * as actionTrain from '../../actions/train.action'\nimport * as actionInfo from '../../actions/info.action'\nimport { Link } from 'react-router-dom'\nimport WebcamCrop from '../../componments/WebcamCrop'\nimport { extractData } from '../../helpers/face.helper'\nimport { withStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconCamera from '@material-ui/icons/Camera'\nimport IconCapture from '@material-ui/icons/CameraAlt'\nimport IconUpload from '@material-ui/icons/CloudUpload'\nimport IconCancel from '@material-ui/icons/Cancel'\nimport IconSettings from '@material-ui/icons/Settings'\n\nconst imageCamera = require('../../images/camera.jpg')\n// const imageCamerau = require('../../images/uzukicamera.jpg')\nconst imageCamerau = require('../../images/uzuki404.jpg')\n\nconst styles = (theme: Object) => ({})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  actionsI: Dispatch,\n  actionsT: Dispatch,\n  dialogStatus: Boolean,\n  setting: StateSetting,\n  image: StateImage,\n  toggleDialog: (target: string, onoff: boolean, key: number) => () => null\n}\n\ntype State = {\n  isPlaying: boolean,\n  isCaptured: boolean,\n  imageBuff: ImageData | null\n}\n\nclass DialogCamera extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    isPlaying: false,\n    isCaptured: false,\n    imageBuff: null\n  }\n\n  // ================================================================================\n  // React event handler functions\n  // ================================================================================\n  handleWebcam = () => {\n    if (this.state.isPlaying) {\n      this.setState({\n        isPlaying: false\n      })\n    } else {\n      this.setState({\n        isPlaying: true,\n        isCaptured: false,\n        imageBuff: null\n      })\n    }\n  }\n\n  handleCapture = () => {\n    const { setting } = this.props\n    const rect = {\n      x: 0,\n      y: 0,\n      width: setting.rect.width * 2,\n      height: setting.rect.height * 2\n    }\n    this.setState(\n      {\n        isPlaying: false,\n        isCaptured: true,\n        imageBuff: extractData('face_camera', rect)\n      },\n      () => this.postCapture()\n    )\n  }\n\n  postCapture = () => {\n    const canvas = document.getElementById('face_camera_screenshot')\n    if (\n      canvas instanceof HTMLCanvasElement &&\n      this.state.imageBuff instanceof ImageData\n    ) {\n      const ctx = canvas.getContext('2d')\n      // $flow-disable-line\n      ctx.putImageData(this.state.imageBuff, 0, 0)\n    }\n  }\n\n  handleExited = () => {\n    this.setState({\n      isPlaying: false,\n      isCaptured: false,\n      imageBuff: null\n    })\n  }\n\n  handleAccept = () => {\n    if (this.state.isCaptured) {\n      const canvas = document.getElementById('face_camera_screenshot')\n      if (canvas instanceof HTMLCanvasElement) {\n        const content = canvas.toDataURL('image/jpeg')\n        this.props.actionsT.faceAdd([content])\n        this.setState({\n          isPlaying: true,\n          isCaptured: false,\n          imageBuff: null\n        })\n      }\n    } else {\n      this.props.actionsI.infoSet({\n        onoff: true,\n        variant: 'error',\n        message: 'Start webcam and capture an image first.'\n      })\n    }\n  }\n\n  // ================================================================================\n  // React render functions\n  // ================================================================================\n\n  renderButton = () => {\n    const renderWebcamPower = this.state.isPlaying ? (\n      <Tooltip title=\"Webcam stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"secondary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Webcam start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"primary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    )\n\n    return (\n      <DialogActions>\n        {renderWebcamPower}\n        {this.state.isPlaying ? (\n          <Tooltip title=\"Take a screenshot\">\n            <IconButton\n              className={this.props.classes.icon}\n              onClick={this.handleCapture}\n              color=\"primary\">\n              <IconCapture />\n            </IconButton>\n          </Tooltip>\n        ) : null}\n        {this.state.isCaptured ? (\n          <Tooltip title=\"Upload Image\">\n            <IconButton\n              className={this.props.classes.icon}\n              onClick={this.handleAccept}\n              color=\"primary\">\n              <IconUpload />\n            </IconButton>\n          </Tooltip>\n        ) : null}\n        <Tooltip title=\"Camera settings\">\n          <Link to=\"/setting\">\n            <IconButton className={this.props.classes.icon} color=\"primary\">\n              <IconSettings />\n            </IconButton>\n          </Link>\n        </Tooltip>\n        <Tooltip title=\"Close\">\n          <IconButton\n            className={this.props.classes.icon}\n            onClick={this.props.toggleDialog('camera', false, 0)}\n            color=\"secondary\">\n            <IconCancel />\n          </IconButton>\n        </Tooltip>\n      </DialogActions>\n    )\n  }\n\n  renderWebCam = () => {\n    const { setting } = this.props\n\n    if (this.state.isPlaying) {\n      return (\n        <WebcamCrop\n          className={this.props.classes.webcam}\n          audio={false}\n          idCanvas={'face_camera'}\n          videoWidth={setting.rect.width * 2}\n          videoHeight={setting.rect.height * 2}\n          videoConstraints={setting.video}\n          cropx={setting.rect.x}\n          cropy={setting.rect.y}\n          cropwidth={setting.rect.width}\n          cropheight={setting.rect.height}\n        />\n      )\n    } else if (this.state.isCaptured) {\n      return (\n        <canvas\n          className={this.props.classes.webcam}\n          id={'face_camera_screenshot'}\n          width={setting.rect.width * 2}\n          height={setting.rect.height * 2}\n        />\n      )\n    } else {\n      return this.props.image.switch ? (\n        <img src={imageCamerau} alt={'camera'} width={640} height={480} />\n      ) : (\n        <img src={imageCamera} alt={'camera'} width={640} height={480} />\n      )\n    }\n  }\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.dialogStatus}\n        onClose={this.props.toggleDialog('camera', false, 0)}\n        onExited={this.handleExited}\n        aria-labelledby=\"select-dialog-title\"\n        aria-describedby=\"select-dialog-description\"\n        maxWidth={'xl'}>\n        <DialogTitle id=\"select-dialog-title\">Camera</DialogTitle>\n        <DialogContent>{this.renderWebCam()}</DialogContent>\n        {this.renderButton()}\n      </Dialog>\n    )\n  }\n}\n\nDialogCamera.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dialogStatus: PropTypes.bool.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  setting: PropTypes.shape({\n    rect: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      width: PropTypes.number,\n      height: PropTypes.number\n    }),\n    video: PropTypes.shape({\n      width: PropTypes.number,\n      height: PropTypes.number\n    })\n  })\n}\n\nconst mapStateToProps = state => {\n  return {\n    setting: state.setting,\n    image: state.image\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsT: bindActionCreators(actionTrain, dispatch),\n    actionsI: bindActionCreators(actionInfo, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(DialogCamera))\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport GridList from '@material-ui/core/GridList'\nimport GridListTile from '@material-ui/core/GridListTile'\nimport GridListTileBar from '@material-ui/core/GridListTileBar'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconDelete from '@material-ui/icons/Delete'\nimport IconAdd from '@material-ui/icons/PersonAdd'\nimport IconCamera from '@material-ui/icons/Camera'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { basename } from 'path'\n\nconst imageList = require('../../images/list.jpg')\nconst imageListu = require('../../images/uzukilist.png')\n\nconst styles = (theme: Object) => ({\n  gridList: {\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: 'translateZ(0)'\n  },\n  titleBar: {\n    background:\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)'\n  },\n  icon: {\n    color: 'white'\n  }\n})\n\ntype Props = {\n  classes: Object,\n  faces: string[],\n  toggleDialog: (target: string, onoff: boolean, key: number) => () => null,\n  toggleImage: boolean\n}\n\nconst RenderList = (props: Props) => {\n  return (\n    <GridList\n      cellHeight={256}\n      cols={5}\n      spacing={1}\n      className={props.classes.gridList}>\n      {props.faces.map((file, index) => (\n        <GridListTile key={file} cols={1} rows={1}>\n          <img src={file} alt={file} width={256} height={256} />\n          <GridListTileBar\n            title={basename(file)}\n            titlePosition=\"bottom\"\n            actionIcon={\n              <Tooltip title=\"Delete file\">\n                <IconButton\n                  className={props.classes.icon}\n                  onClick={props.toggleDialog('delete', true, index)}>\n                  <IconDelete />\n                </IconButton>\n              </Tooltip>\n            }\n            actionPosition=\"right\"\n            className={props.classes.titleBar}\n          />\n        </GridListTile>\n      ))}\n      {props.faces.length === 0 ? (\n        <GridListTile cols={1} rows={1}>\n          <img\n            src={props.toggleImage ? imageListu : imageList}\n            alt={'add'}\n            width={256}\n            height={256}\n          />\n          <GridListTileBar\n            title={'Add image'}\n            titlePosition=\"bottom\"\n            actionIcon={\n              <div>\n                <Tooltip title=\"Add face image from computer\">\n                  <IconButton\n                    className={props.classes.icon}\n                    onClick={props.toggleDialog('upload', true, 0)}>\n                    <IconAdd />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title=\"Start camera to capture face image\">\n                  <IconButton\n                    className={props.classes.icon}\n                    onClick={props.toggleDialog('camera', true, 0)}>\n                    <IconCamera />\n                  </IconButton>\n                </Tooltip>\n              </div>\n            }\n            actionPosition=\"right\"\n            className={props.classes.titleBar}\n          />\n        </GridListTile>\n      ) : null}\n    </GridList>\n  )\n}\n\nRenderList.propTypes = {\n  classes: PropTypes.object.isRequired,\n  faces: PropTypes.arrayOf(PropTypes.string).isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  toggleImage: PropTypes.bool\n}\n\nexport default withStyles(styles)(RenderList)\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionInfo from '../../actions/info.action'\nimport * as actionTrain from '../../actions/train.action'\nimport type { Dispatch } from '../../models'\nimport type { StateTrain } from '../../models/train.model'\nimport * as faceapi from 'face-api.js'\nimport Layout from '../Layout'\nimport Loading from '../Loading'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core'\nimport Typography from '@material-ui/core/Typography'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport TextField from '@material-ui/core/TextField'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconSensor from '@material-ui/icons/Contacts'\nimport IconExport from '@material-ui/icons/Archive'\nimport IconImport from '@material-ui/icons/Unarchive'\nimport IconTrain from '@material-ui/icons/Polymer'\nimport IconClear from '@material-ui/icons/HighlightOff'\nimport IconAdd from '@material-ui/icons/AddPhotoAlternate'\nimport IconCamera from '@material-ui/icons/Camera'\nimport IconDelete from '@material-ui/icons/Clear'\n\nimport DialogUpload from './DialogUpload'\nimport DialogDelete from './DialogDelete'\nimport DialogCamera from './DialogCamera'\nimport RenderList from './RenderList'\n\nconst styles = (theme: Object) => ({\n  divider: {\n    marginTop: '10px',\n    marginBottom: '10px'\n  },\n  imageList: {\n    height: 400\n  },\n  hidden: {\n    display: 'none'\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  train: StateTrain,\n  actionsI: Dispatch,\n  actionsT: Dispatch\n}\n\ntype State = {\n  isLoading: boolean,\n  isBusy: boolean,\n  dialog: {\n    upload: boolean,\n    delete: boolean,\n    camera: boolean\n  },\n  dialogKey: number,\n  processTime: number\n}\n\nclass Train extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    isLoading: true,\n    isBusy: false,\n    processTime: 0,\n    dialog: {\n      upload: false,\n      delete: false,\n      camera: false\n    },\n    dialogKey: 0\n  }\n\n  componentDidMount = async () => {\n    await faceapi.loadTinyFaceDetectorModel('/models')\n    await faceapi.loadFaceLandmarkTinyModel('/models')\n    await faceapi.loadFaceRecognitionModel('/models')\n    this.setState({ isLoading: false })\n  }\n\n  // ================================================================================\n  // React event handler functions\n  // ================================================================================\n  toggleDialog = (target: string, onoff: boolean, key: number) => () => {\n    this.setState({\n      dialog: { ...this.state.dialog, [target]: onoff },\n      dialogKey: key\n    })\n  }\n\n  handleAccept = (target: string) => (\n    event: SyntheticEvent<HTMLInputElement>\n  ) => {\n    event.preventDefault()\n    switch (target) {\n      case 'delete':\n        this.props.actionsT.faceRemove(this.state.dialogKey)\n        this.setState({\n          dialog: { ...this.state.dialog, [target]: false }\n        })\n        this.props.actionsI.infoSet({\n          onoff: true,\n          variant: 'success',\n          message: 'Image deleted'\n        })\n        break\n      default:\n        break\n    }\n  }\n\n  handleTrain = () => {\n    this.setState({ isBusy: true }, () => this.FaceTrain())\n  }\n\n  handleDataImport = (event: any) => {\n    const files = event.target.files\n    if (files.length > 0) {\n      let fr = new FileReader()\n      fr.onload = e => {\n        this.props.actionsT.dateSave(JSON.parse(e.target.result))\n        this.props.actionsI.infoSet({\n          onoff: true,\n          variant: 'success',\n          message: 'Face file imported'\n        })\n      }\n      fr.readAsText(files.item(0))\n    }\n  }\n\n  handleDataExport = () => {\n    const data =\n      'text/json;charset=utf-8,' +\n      encodeURIComponent(JSON.stringify(this.props.train.data))\n    let downloadAnchorNode = document.createElement('a')\n    downloadAnchorNode.setAttribute('href', 'data:' + data)\n    downloadAnchorNode.setAttribute('download', 'faces.json')\n    downloadAnchorNode.click()\n    downloadAnchorNode.remove()\n  }\n\n  handleDataClear = () => {\n    this.props.actionsI.infoSet({\n      onoff: true,\n      variant: 'info',\n      message: 'Face file cleared'\n    })\n    this.props.actionsT.dataClear()\n  }\n\n  handleFaceClear = () => {\n    this.props.actionsT.faceClear()\n    this.props.actionsI.infoSet({\n      onoff: true,\n      variant: 'info',\n      message: 'Faces cleared'\n    })\n  }\n\n  // ================================================================================\n  // Facec recognition functions\n  // ================================================================================\n  FaceTrain = async () => {\n    const tstart = performance.now()\n    const labeledDescriptors = []\n\n    await Promise.all(\n      this.props.train.face.map(async face => {\n        const descriptors = []\n        const image = await faceapi.fetchImage(face)\n        descriptors.push(await faceapi.computeFaceDescriptor(image))\n\n        if (descriptors.length > 0) {\n          labeledDescriptors.push(\n            new faceapi.LabeledFaceDescriptors('Boss', descriptors)\n          )\n        }\n      })\n    )\n\n    const tend = performance.now()\n    this.setState({\n      isBusy: false,\n      processTime: Math.floor(tend - tstart)\n    })\n\n    if (labeledDescriptors.length > 0) {\n      this.props.actionsT.dateSave(labeledDescriptors)\n      this.props.actionsI.infoSet({\n        onoff: true,\n        variant: 'success',\n        message: 'Training success'\n      })\n    } else {\n      this.props.actionsI.infoSet({\n        onoff: true,\n        variant: 'error',\n        message: 'Training failed'\n      })\n    }\n  }\n\n  // ================================================================================\n  // React render functions\n  // ================================================================================\n\n  render() {\n    if (this.state.isLoading) {\n      return <Loading helmet={true} title={'Face Training | Uzuki'} />\n    }\n\n    return (\n      <Layout\n        helmet={true}\n        title={'Face Training | Uzuki'}\n        gridNormal={8}\n        gridPhone={12}\n        content={\n          <Card className={this.props.classes.card}>\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                Face Training\n              </Typography>\n              <RenderList\n                faces={this.props.train.face}\n                toggleDialog={this.toggleDialog}\n              />\n            </CardContent>\n            <CardActions>\n              <Tooltip title=\"Add face image from computer\">\n                <IconButton\n                  className={this.props.classes.icon}\n                  component=\"label\"\n                  color=\"primary\"\n                  onClick={this.toggleDialog('upload', true, 0)}>\n                  <IconAdd />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Start camera to capture face image\">\n                <IconButton\n                  className={this.props.classes.icon}\n                  component=\"label\"\n                  color=\"primary\"\n                  onClick={this.toggleDialog('camera', true, 0)}>\n                  <IconCamera />\n                </IconButton>\n              </Tooltip>\n              {this.props.train.face.length > 0 ? (\n                <Tooltip title=\"Clear face image\">\n                  <IconButton\n                    className={this.props.classes.icon}\n                    component=\"label\"\n                    color=\"primary\"\n                    onClick={this.handleFaceClear}>\n                    <IconDelete />\n                  </IconButton>\n                </Tooltip>\n              ) : null}\n              <Tooltip title=\"Import face data from computer\">\n                <IconButton\n                  className={this.props.classes.icon}\n                  component=\"label\"\n                  color=\"primary\">\n                  <input\n                    className={this.props.classes.hidden}\n                    type=\"file\"\n                    accept=\"application/json\"\n                    onChange={this.handleDataImport}\n                  />\n                  <IconImport />\n                </IconButton>\n              </Tooltip>\n              {this.props.train.data.length > 0 ? (\n                <Tooltip title=\"Export face data to computer\">\n                  <IconButton\n                    className={this.props.classes.icon}\n                    color=\"primary\"\n                    onClick={this.handleDataExport}>\n                    <IconExport />\n                  </IconButton>\n                </Tooltip>\n              ) : null}\n              {this.props.train.data.length > 0 ? (\n                <Tooltip title=\"Clear the face data of the clinet\">\n                  <IconButton\n                    className={this.props.classes.icon}\n                    color=\"primary\"\n                    onClick={this.handleDataClear}>\n                    <IconClear />\n                  </IconButton>\n                </Tooltip>\n              ) : null}\n              {this.props.train.face.length > 0 ? (\n                <Tooltip title=\"Training to get face data\">\n                  <IconButton\n                    className={this.props.classes.icon}\n                    color=\"primary\"\n                    onClick={this.handleTrain}>\n                    <IconTrain />\n                  </IconButton>\n                </Tooltip>\n              ) : null}\n              <Tooltip title=\"To face recognize sensor\">\n                <Link to=\"/sensor\">\n                  <IconButton\n                    className={this.props.classes.icon}\n                    color=\"primary\">\n                    <IconSensor />\n                  </IconButton>\n                </Link>\n              </Tooltip>\n            </CardActions>\n            <CardContent>\n              {this.state.processTime > 0 ? (\n                <TextField\n                  label=\"Process time\"\n                  value={this.state.processTime.toString() + ' ms'}\n                />\n              ) : null}\n              {this.state.isBusy ? (\n                <div>\n                  <Typography>Training...</Typography>\n                  <LinearProgress />\n                </div>\n              ) : null}\n            </CardContent>\n            <DialogDelete\n              dialogStatus={this.state.dialog.delete}\n              toggleDialog={this.toggleDialog}\n              imageSrc={this.props.train.face[this.state.dialogKey]}\n              handleAccept={this.handleAccept}\n            />\n            <DialogUpload\n              dialogStatus={this.state.dialog.upload}\n              toggleDialog={this.toggleDialog}\n            />\n            <DialogCamera\n              dialogStatus={this.state.dialog.camera}\n              toggleDialog={this.toggleDialog}\n              handleAccept={this.handleAccept}\n            />\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nTrain.propTypes = {\n  classes: PropTypes.object.isRequired,\n  train: PropTypes.shape({\n    face: PropTypes.arrayOf(PropTypes.string),\n    data: PropTypes.arrayOf(PropTypes.string)\n  }).isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    train: state.train\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsI: bindActionCreators(actionInfo, dispatch),\n    actionsT: bindActionCreators(actionTrain, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(Train))\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport type { StateImage } from '../../models/image.model'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core'\nimport Layout from '../Layout'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconTrain from '@material-ui/icons/Polymer'\nimport IconSettings from '@material-ui/icons/Settings'\nimport Typography from '@material-ui/core/Typography'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nconst imageNotReady = require('../../images/notready.jpg')\nconst imageNotReadyu = require('../../images/uzukinotready.jpg')\n\nconst styles = (theme: Object) => ({})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  image: StateImage\n}\n\nclass NotReady extends React.Component<ProvidedProps & Props> {\n  render() {\n    return (\n      <Layout\n        helmet={true}\n        title={'Sensor | Uzuki'}\n        content={\n          <Card className={this.props.classes.paper}>\n            {this.props.image.switch ? (\n              <img\n                src={imageNotReadyu}\n                alt={'Not Ready'}\n                width={640}\n                height={480}\n              />\n            ) : (\n              <img\n                src={imageNotReady}\n                alt={'Not Ready'}\n                width={640}\n                height={480}\n              />\n            )}\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                Uzuki\n              </Typography>\n              <Typography component=\"p\">\n                Face data not ready, go traininig first.\n              </Typography>\n            </CardContent>\n            <CardActions>\n              <Tooltip title=\"Upload boss picture and train computer to identify boss.\">\n                <Link to=\"/train\">\n                  <IconButton\n                    className={this.props.classes.icon}\n                    color=\"primary\">\n                    <IconTrain />\n                  </IconButton>\n                </Link>\n              </Tooltip>\n              <Tooltip title=\"Configure your camera to fetch the best vision.\">\n                <Link to=\"/setting\">\n                  <IconButton\n                    className={this.props.classes.icon}\n                    color=\"primary\">\n                    <IconSettings />\n                  </IconButton>\n                </Link>\n              </Tooltip>\n            </CardActions>\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nNotReady.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    image: state.image\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {}\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(NotReady))\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core'\nimport Layout from '../Layout'\nimport Card from '@material-ui/core/Card'\nimport Typography from '@material-ui/core/Typography'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst imageBlack = require('../../images/black.png')\n\nconst styles = (theme: Object) => ({\n  paper: {\n    borderRadius: '2px',\n    paddingTop: '40px',\n    paddingBottom: '40px',\n    paddingLeft: '40px',\n    paddingRight: '40px'\n  },\n  hidden: {\n    display: 'none'\n  }\n})\n\ntype Props = {\n  classes: Object\n}\n\nconst Loading = (props: Props) => {\n  return (\n    <Layout\n      helmet={true}\n      title={'Sensor | Uzuki'}\n      content={\n        <Card className={props.classes.paper}>\n          <Typography>Loading...</Typography>\n          <LinearProgress />\n          <img\n            className={props.classes.hidden}\n            id=\"initial_black\"\n            src={imageBlack}\n            alt=\"initial_black\"\n          />\n        </Card>\n      }\n    />\n  )\n}\n\nLoading.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Loading)\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\n\nconst styles = (theme: Object) => ({\n  iframe: {\n    width: '1600px',\n    height: '800px'\n  }\n})\n\ntype Props = {\n  classes: Object,\n  dialogStatus: boolean,\n  toggleDialog: (target: string, onoff: boolean) => () => null\n}\n\nconst DialogCover = (props: Props) => {\n  return (\n    <Dialog\n      className={props.classes.root}\n      open={props.dialogStatus}\n      onClose={props.toggleDialog('cover', false)}\n      aria-labelledby=\"select-dialog-title\"\n      aria-describedby=\"select-dialog-description\"\n      maxWidth={'xl'}>\n      <iframe\n        className={props.classes.iframe}\n        title=\"nonsense\"\n        src=\"https://svenstaro.github.io/genact/\"\n      />\n    </Dialog>\n  )\n}\n\nDialogCover.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dialogStatus: PropTypes.bool.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n}\n\nexport default withStyles(styles)(DialogCover)\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionInfo from '../../actions/info.action'\nimport type { Dispatch, RouterHistory } from '../../models'\nimport type { StateSetting } from '../../models/setting.model'\nimport type { StateTrain } from '../../models/train.model'\nimport type { StateImage } from '../../models/image.model'\nimport { withRouter } from 'react-router-dom'\nimport * as faceapi from 'face-api.js'\nimport { createFaceMatcher } from '../../helpers/face.helper'\nimport { resizeCanvasAndResults, drawFPS } from '../../helpers/face.helper'\nimport Layout from '../Layout'\nimport { Link } from 'react-router-dom'\nimport WebcamCrop from '../../componments/WebcamCrop'\nimport { withStyles } from '@material-ui/core'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Typography from '@material-ui/core/Typography'\nimport Divider from '@material-ui/core/Divider'\nimport Grid from '@material-ui/core/Grid'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconCamera from '@material-ui/icons/Camera'\nimport IconSettings from '@material-ui/icons/Settings'\nimport IconSensor from '@material-ui/icons/Contacts'\nimport IconDetect from '@material-ui/icons/RecordVoiceOver'\nimport IconCover from '@material-ui/icons/BrightnessHigh'\n\nimport NotReady from './NotReady'\nimport Loading from './Loading'\nimport DialogCover from './DialogCover'\n\nconst imageSensor = require('../../images/sensor.jpg')\n// const imageSensoru = require('../../images/uzukisensor.jpg')\nconst imageSensoru = require('../../images/uzuki404.jpg')\n\nconst styles = (theme: Object) => ({\n  divider: {\n    marginTop: '10px',\n    marginBottom: '10px'\n  },\n  webcamContainer: {\n    position: 'relative'\n  },\n  webcam: {\n    position: 'absolute',\n    top: '0px',\n    left: '0px'\n  },\n  webcamOverlay: {\n    position: 'absolute',\n    top: '0px',\n    left: '0px',\n    zIndex: 10\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object,\n  history: RouterHistory\n}\n\ntype Props = {\n  train: StateTrain,\n  setting: StateSetting,\n  image: StateImage,\n  actionsI: Dispatch\n}\n\ntype State = {\n  isLoading: boolean,\n  isPlaying: boolean,\n  isSensing: boolean,\n  isDetecting: boolean,\n  processTime: number,\n  detectThreshold: number,\n  detectSize: number,\n  dialog: {\n    cover: boolean\n  }\n}\n\nclass Sensor extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    isLoading: true,\n    isPlaying: false,\n    isSensing: false,\n    isDetecting: false,\n    processTime: 0,\n    detectThreshold: 50,\n    detectSize: 160,\n    dialog: {\n      cover: false\n    }\n  }\n  interval: number = 0\n  faceMatcher = null\n\n  componentDidMount = async () => {\n    if (this.props.train.data.length > 0) {\n      await faceapi.loadTinyFaceDetectorModel('/models')\n      await faceapi.loadFaceLandmarkTinyModel('/models')\n      await faceapi.loadFaceRecognitionModel('/models')\n      const initial = document.getElementById('initial_black')\n      await faceapi\n        .detectAllFaces(\n          initial,\n          new faceapi.TinyFaceDetectorOptions({\n            inputSize: this.state.detectSize,\n            scoreThreshold: this.state.detectThreshold / 100\n          })\n        )\n        .withFaceLandmarks(true)\n        .withFaceDescriptors()\n\n      this.setState({ isLoading: false })\n    }\n  }\n\n  // ================================================================================\n  // React event handler functions\n  // ================================================================================\n  toggleDialog = (target: string, onoff: boolean) => () => {\n    this.setState({\n      dialog: { ...this.state.dialog, [target]: onoff }\n    })\n  }\n\n  handleWebcam = () => {\n    if (this.state.isPlaying) {\n      this.setState({\n        isPlaying: false,\n        isSensing: false\n      })\n    } else {\n      this.setState({\n        isPlaying: true\n      })\n    }\n  }\n\n  handleSense = async () => {\n    if (this.state.isSensing) {\n      window.clearInterval(this.interval)\n      const canvas = document.getElementById('sensor_webcamcrop_overlay')\n      if (canvas instanceof HTMLCanvasElement) {\n        const ctx = canvas.getContext('2d')\n        ctx.clearRect(\n          0,\n          0,\n          this.props.setting.rect.width * 2,\n          this.props.setting.rect.height * 2\n        )\n      }\n      this.setState({\n        isSensing: false\n      })\n    } else {\n      this.faceMatcher = await createFaceMatcher(this.props.train.data)\n      this.interval = await window.setInterval(() => this.faceMain(), 1000)\n      this.setState({\n        isSensing: true\n      })\n    }\n  }\n\n  handleDetect = () => {\n    if (this.state.isDetecting) {\n      this.setState({\n        isDetecting: false\n      })\n    } else {\n      this.setState({\n        isDetecting: true\n      })\n    }\n  }\n\n  // ================================================================================\n  // Facec recognition functions\n  // ================================================================================\n  faceMain = async () => {\n    const image = document.getElementById('sensor_webcamcrop')\n    const canvas = document.getElementById('sensor_webcamcrop_overlay')\n    if (\n      canvas instanceof HTMLCanvasElement &&\n      image instanceof HTMLCanvasElement\n    ) {\n      const tstart = performance.now()\n      await this.faceRecognize(canvas, image)\n      const tend = performance.now()\n      const tickProcess = Math.floor(tend - tstart).toString() + ' ms'\n      drawFPS(canvas, tickProcess, 'lime', {\n        x: 10,\n        y: this.props.setting.rect.height * 2 - 10\n      })\n    }\n  }\n\n  faceRecognize = async (\n    canvas: HTMLCanvasElement,\n    image: HTMLCanvasElement\n  ) => {\n    const results = await faceapi\n      .detectAllFaces(\n        image,\n        new faceapi.TinyFaceDetectorOptions({\n          inputSize: this.state.detectSize,\n          scoreThreshold: this.state.detectThreshold / 100\n        })\n      )\n      .withFaceLandmarks(true)\n      .withFaceDescriptors()\n\n    if (results) {\n      const resizedResults = resizeCanvasAndResults(image, canvas, results)\n      const boxesWithText = await Promise.all(\n        resizedResults.map(async ({ detection, descriptor }) => {\n          // $flow-disable-line\n          const match = this.faceMatcher.findBestMatch(descriptor).toString()\n\n          if (this.state.isDetecting) {\n            alert(\"Boss is apporching\")\n            this.toggleDialog('cover', true)\n            this.setState({\n              isPlaying: false,\n              isSensing: false,\n              isDetecting: false\n            })\n          }\n\n          return new faceapi.BoxWithText(detection.box, match)\n        })\n      )\n\n      faceapi.drawDetection(canvas, boxesWithText, {\n        boxColor: 'yellow',\n        textColor: 'lime'\n      })\n    }\n  }\n\n  // ================================================================================\n  // React render functions\n  // ================================================================================\n  renderButton = () => {\n    const renderWebcamPower = this.state.isPlaying ? (\n      <Tooltip title=\"Webcam stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"secondary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Webcam start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"primary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    )\n\n    const renderRecognize = this.state.isSensing ? (\n      <Tooltip title=\"Recognize stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleSense}\n          color=\"secondary\">\n          <IconSensor />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Recognize start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleSense}\n          color=\"primary\">\n          <IconSensor />\n        </IconButton>\n      </Tooltip>\n    )\n\n    const renderDetect = this.state.isDetecting ? (\n      <Tooltip title=\"Detect stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleDetect}\n          color=\"secondary\">\n          <IconDetect />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Detect start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleDetect}\n          color=\"primary\">\n          <IconDetect />\n        </IconButton>\n      </Tooltip>\n    )\n\n    return (\n      <CardActions>\n        {renderWebcamPower}\n        <Tooltip title=\"Camera settings\">\n          <Link to=\"/setting\">\n            <IconButton className={this.props.classes.icon} color=\"primary\">\n              <IconSettings />\n            </IconButton>\n          </Link>\n        </Tooltip>\n        {this.state.isPlaying ? renderRecognize : null}\n        {this.state.isSensing ? renderDetect : null}\n        <Tooltip title=\"Start non-sense generator\">\n          <IconButton\n            className={this.props.classes.icon}\n            onClick={this.toggleDialog('cover', true)}\n            color=\"primary\">\n            <IconCover />\n          </IconButton>\n        </Tooltip>\n      </CardActions>\n    )\n  }\n\n  renderWebCam = () => {\n    const { setting } = this.props\n\n    if (this.state.isPlaying) {\n      return (\n        <div className={this.props.classes.webcamContainer}>\n          <WebcamCrop\n            className={this.props.classes.webcam}\n            audio={false}\n            idCanvas={'sensor_webcamcrop'}\n            videoWidth={setting.rect.width * 2}\n            videoHeight={setting.rect.height * 2}\n            videoConstraints={setting.video}\n            cropx={setting.rect.x}\n            cropy={setting.rect.y}\n            cropwidth={setting.rect.width}\n            cropheight={setting.rect.height}\n          />\n          <canvas\n            className={this.props.classes.webcamOverlay}\n            id={'sensor_webcamcrop_overlay'}\n            width={setting.rect.width * 2}\n            height={setting.rect.height * 2}\n          />\n        </div>\n      )\n    } else {\n      return this.props.image.switch ? (\n        <img src={imageSensoru} alt={'sensor'} width={640} height={480} />\n      ) : (\n        <img src={imageSensor} alt={'sensor'} width={640} height={480} />\n      )\n    }\n  }\n\n  render() {\n    if (this.props.train.data.length === 0) return <NotReady />\n    if (this.state.isLoading) return <Loading />\n\n    return (\n      <Layout\n        helmet={true}\n        title={'Sensor | Uzuki'}\n        gridNormal={6}\n        gridPhone={10}\n        content={\n          <Card className={this.props.classes.card}>\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                Sensor\n              </Typography>\n              <Divider className={this.props.classes.divider} />\n              <Grid\n                container={true}\n                className={this.props.classes.grid}\n                justify=\"center\">\n                {this.renderWebCam()}\n              </Grid>\n              <Divider className={this.props.classes.divider} />\n            </CardContent>\n            {this.renderButton()}\n            <DialogCover\n              dialogStatus={this.state.dialog.cover}\n              toggleDialog={this.toggleDialog}\n            />\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nSensor.propTypes = {\n  classes: PropTypes.object.isRequired,\n  setting: PropTypes.shape({\n    rect: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      width: PropTypes.number,\n      height: PropTypes.number\n    }),\n    video: PropTypes.shape({\n      width: PropTypes.number,\n      height: PropTypes.number\n    })\n  }),\n  train: PropTypes.shape({\n    face: PropTypes.arrayOf(PropTypes.string),\n    data: PropTypes.arrayOf(PropTypes.string)\n  }).isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    train: state.train,\n    setting: state.setting,\n    image: state.image\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsI: bindActionCreators(actionInfo, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(withRouter(Sensor)))\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { Route, Switch } from 'react-router'\nimport { history } from './configureStore'\nimport { ConnectedRouter } from 'connected-react-router'\nimport { withStyles } from '@material-ui/core'\nimport withRoot from './withRoot'\n\nimport Header from './pages/Header'\nimport Ribbon from './pages/Ribbon'\nimport Footer from './pages/Footer'\nimport NotFound from './pages/NotFound'\n\nimport Home from './pages/Home/Home'\nimport Setting from './pages/Setting/Setting'\nimport Train from './pages/Train/Train'\nimport Sensor from './pages/Sensor/Sensor'\n\nconst styles = (theme: Object) => ({\n  root: {\n    display: 'flex',\n    minHeight: '100vh',\n    flexDirection: 'column'\n  },\n  content: {\n    marginTop: '-55vh',\n    marginBottom: '60px',\n    flex: 1\n  }\n})\n\nconst routes = () => {\n  return (\n    <Switch>\n      <Route exact={true} path=\"/\" component={Home} />\n      <Route exact={true} path=\"/home\" component={Home} />\n      <Route exact={true} path=\"/setting\" component={Setting} />\n      <Route exact={true} path=\"/train\" component={Train} />\n      <Route exact={true} path=\"/sensor\" component={Sensor} />\n      <Route component={NotFound} />\n    </Switch>\n  )\n}\n\ntype Props = {\n  classes: Object\n}\n\nconst App = (props: Props) => {\n  return (\n    <ConnectedRouter history={history}>\n      <div className={props.classes.root}>\n        <Header />\n        <Ribbon />\n        <div className={props.classes.content}>{routes()}</div>\n        <Footer />\n      </div>\n    </ConnectedRouter>\n  )\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withRoot(withStyles(styles)(App))\n","import * as React from 'react'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport App from './App'\nimport Typography from '@material-ui/core/Typography'\nimport { persistor, store } from './configureStore'\n\nconst ReduxRoot = () => {\n  return (\n    <Provider store={store}>\n      <PersistGate\n        loading={<Typography>Loading...</Typography>}\n        persistor={persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  )\n}\n\nexport default ReduxRoot\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import 'core-js/stable'\nimport 'regenerator-runtime/runtime'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport ReduxRoot from './ReduxRoot'\nimport registerServiceWorker from './serviceWorker'\n\nconst rootEl = document.getElementById('uzuki')\nReactDOM.render(<ReduxRoot />, rootEl)\n\nif (module.hot) {\n  module.hot.accept('./ReduxRoot', () => {\n    const NextApp = require('./ReduxRoot').default\n    ReactDOM.render(<NextApp />, rootEl)\n  })\n}\n\nregisterServiceWorker()\n"],"sourceRoot":""}