{"version":3,"sources":["models/info.model.js","actions/train.action.js","componments/WebcamCrop.jsx","componments/Webcam.jsx","images/uzuki404.jpg","helpers/face.helper.js","models/train.model.js","actions/info.action.js","images/404.jpg","images/uzukihome.jpg","images/setting.jpg","images/uzukisetting.jpg","images/notready.jpg","images/uzukinotready.jpg","images/black.png","images/sensor.jpg","images/sensork.jpg","reducers/createReducer.js","reducers/info.reducer.js","models/setting.model.js","reducers/setting.reducer.js","reducers/train.reducer.js","models/image.model.js","reducers/image.reducer.js","reducers/index.js","configureStore.jsx","withRoot.js","constants/link.constant.js","environment.js","pages/Header.jsx","pages/Ribbon.jsx","pages/Footer.jsx","helpers/responsive.helper.js","componments/InfoBar.jsx","pages/Layout.jsx","pages/NotFound.jsx","actions/image.action.js","pages/Home/Github.jsx","pages/Home/Home.jsx","actions/setting.action.js","componments/WebcamRectDraw.jsx","pages/Setting/Setting.jsx","helpers/validate.helper.js","helpers/model.helper.js","pages/Loading.jsx","pages/Train/Train.jsx","pages/Train/TrainKNN.jsx","pages/Sensor/NotReady.jsx","pages/Sensor/Loading.jsx","pages/Sensor/DialogCover.jsx","pages/Sensor/Sensor.jsx","pages/Sensor/SensorKNN.jsx","App.jsx","ReduxRoot.jsx","serviceWorker.js","index.jsx"],"names":["__webpack_require__","d","__webpack_exports__","actionInfo","INFO_SET","INFO_CLOSE","r","faceAdd","faceRemove","faceClear","dateSave","dataClear","knnSave","knnClear","_models_train_model__WEBPACK_IMPORTED_MODULE_1__","faces","type","actionTrain","TRAIN_FACE_ADD","payload","id","TRAIN_FACE_REMOVE","TRAIN_FACE_CLEAR","data","TRAIN_DATA_SAVE","TRAIN_DATA_CLEAR","TRAIN_KNN_SAVE","TRAIN_KNN_CLEAR","WebcamCrop","interval","handleRender","video","document","getElementById","_this","props","idVideo","canvas","idCanvas","HTMLCanvasElement","HTMLVideoElement","ctx","getContext","mulX","Math","round","videoConstraints","width","mulY","height","drawImage","cropx","cropy","cropwidth","cropheight","videoWidth","videoHeight","_this2","this","window","setInterval","tickRender","clearInterval","_this3","react__WEBPACK_IMPORTED_MODULE_5__","_Webcam__WEBPACK_IMPORTED_MODULE_6__","className","classes","hidden","audio","ref","node","webcam","audioConstraints","React","defaultProps","withStyles","theme","display","constrainStringType","PropTypes","oneOfType","string","arrayOf","shape","exact","ideal","constrainBooleanType","bool","constrainLongType","number","min","max","constrainDoubleType","Webcam","deviceId","groupId","autoGainControl","channelCount","latency","noiseSuppression","sampleRate","sampleSize","volume","aspectRatio","facingMode","frameRate","Object","_home_travis_build_Panepo_Uzuki_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_travis_build_Panepo_Uzuki_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_travis_build_Panepo_Uzuki_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","hasUserMedia","navigator","mediaDevices","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","mountedInstances","push","userMediaRequested","requestUserMedia","nextProps","JSON","stringify","index","indexOf","splice","length","stream","getVideoTracks","getAudioTracks","map","track","stop","URL","revokeObjectURL","src","getCanvas","toDataURL","screenshotFormat","screenshotQuality","createElement","canvasWidth","minScreenshotWidth","clientWidth","canvasHeight","minScreenshotHeight","imageSmoothingEnabled","imageSmoothing","clipx","clipy","clipwidth","clipheight","sourceSelected","constraints","then","forEach","instance","handleUserMedia","catch","e","optionalSource","optional","sourceId","constraintToSourceId","constraint","Array","isArray","MediaStreamTrack","getSources","sources","audioSource","videoSource","source","kind","audioSourceId","videoSourceId","err","setState","onUserMediaError","srcObject","error","createObjectURL","onUserMedia","react__WEBPACK_IMPORTED_MODULE_5___default","a","autoPlay","muted","playsInline","style","Component","module","exports","p","createFaceMatcher","_x","_createFaceMatcher","apply","arguments","_callee","labeledFaceDescriptors","_home_travis_build_Panepo_Uzuki_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","wrap","_context","prev","next","Promise","all","face","descriptors","_descriptors","desc","parsedArray","values","Float32Array","faceapi","_label","sent","abrupt","extractData","input","rect","image","getImageData","x","y","infoSet","infoClose","_models_info_model__WEBPACK_IMPORTED_MODULE_1__","createReducer","initialState","handlers","undefined","action","hasOwnProperty","onoff","variant","message","info","_createReducer","defineProperty","objectSpread","actionSetting","SETTING_VIDEO","SETTING_RECT","setting","setting_reducer_createReducer","train","knn","train_reducer_createReducer","concat","actionImage","IMAGE_SWITCH","switch","rootReducer","history","combineReducers","router","connectRouter","createLogger","createBrowserHistory","basename","process","persistConfig","key","version","storage","localforage","whitelist","persistedReducer","persistReducer","middleware","applyMiddleware","thunk","routerMiddleware","store","createStore","persistor","persistStore","createMuiTheme","palette","primary","pink","secondary","deepPurple","typography","useNextVariants","withRoot","react_default","core_styles","CssBaseline_default","linkHeader","text","link","linkDrawer","environmentValuesLoader","title","urlDev","urlProd","GithubLink","GoogleAnalyticsID","ColorMenuIcon","ColorRibbon","videoCanvas","useTinyFaceDetector","useTinyLandmark","tinyInputSize","tinyThreshold","ssdMinConfidence","ssdMaxResults","freeze","Header","drawer","toggleDrawer","side","open","renderLink","react","react_router_dom","to","Button_default","color","renderDrawer","List_default","ListItem_default","button","divider","component","href","ListItemIcon_default","Bookmarks_default","ListItemText_default","root","AppBar_default","position","appBar","Drawer_default","onClose","Typography_default","drawerTitle","noWrap","tabIndex","role","onClick","onKeyDown","Toolbar_default","IconButton_default","menuButton","aria-label","Menu_default","grow","environment","margin","spacing","unit","textAlign","marginTop","marginBottom","flexGrow","marginLeft","marginRight","background","fontSize","paddingLeft","paddingTop","allowMobile","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","InfoIcon","backgroundColor","green","dark","lightBlue","amber","icon","iconVariant","opacity","alignItems","other","objectWithoutProperties","Icon","SnackbarContent_default","assign","classNames","aria-describedby","close","Close_default","Layout","handleInfoClose","event","reason","actionsI","renderHelmet","Helmet_default","charset","name","content","rel","helmet","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","componments_InfoBar","Grid_default","container","grid","justify","item","xs","isWidthDown","gridPhone","gridNormal","connect","dispatch","bindActionCreators","withWidth","image404","require","image404u","NotFound","pages_Layout","Card_default","card","CardActionArea_default","alt","CardContent_default","gutterBottom","CardActions_default","minWidth","imageSwitch","react_github_btn","data-icon","data-size","imageHome","Home","handleRedirect","toggleImage","renderTrain","CardHeader_default","avatar","Polymer_default","subheader","Done_default","icon2","renderSetting","Settings_default","renderSensor","Contacts_default","renderImage","Image_default","renderTrainK","renderSensorK","Home_Github","lightGreen","withRouter","modifyVideo","modifyRect","WebcamRectDraw","isDrawing","isDisplaying","startx","starty","endx","endy","strokeStyle","rectColor","lineWidth","rectLine","_this$state","strokeRect","abs","handleMouseDown","getBoundingClientRect","posx","clientX","left","posy","clientY","top","handleMouseUp","handleGetPosition","handleMouseMove","handleMouseOut","_this$state2","getPosition","onMouseDown","onMouseUp","onMouseMove","onMouseOut","rectx","recty","rectwidth","rectheight","imageSetting","imageSettingu","NumberFormatCustom","inputRef","onChange","number_format_default","getInputRef","onValueChange","target","value","allowNegative","Setting","classCallCheck","possibleConstructorReturn","getPrototypeOf","handleWebcam","isPlaying","handleAccept","actionsS","handleCancel","rectError","videoError","handleInputRect","column","parseInt","isValid","errors","isEmpty","validateRect","handleInputVideo","validateVideo","renderButton","renderWebcamPower","Tooltip_default","Camera_default","Cancel_default","renderWebCam","componments_WebcamRectDraw","renderInputRect","reduce","output","i","TextField_default","toString","label","helperText","formControl","onInput","InputProps","inputComponent","renderInputVideo","Divider_default","loadModel","_ref","asyncToGenerator","regenerator_default","mark","ssdMobilenetv1","loadFromUri","faceLandmark68TinyNet","faceLandmark68Net","tinyFaceDetector","modelInitial","_ref2","_callee2","canvasId","initial","_context2","inputSize","scoreThreshold","withFaceLandmarks","minConfidence","maxResults","paper","borderRadius","paddingBottom","paddingRight","Paper_default","LinearProgress_default","DialogUpload","bind","DialogDelete","DialogCamera","RenderList","Train","isLoading","isBusy","processTime","dialog","upload","delete","camera","dialogKey","componentDidMount","toggleDialog","preventDefault","actionsT","handleTrain","FaceTrain","handleDataImport","files","fr","FileReader","onload","parse","result","readAsText","handleDataExport","encodeURIComponent","downloadAnchorNode","setAttribute","click","remove","handleDataClear","handleFaceClear","_callee3","tstart","labeledDescriptors","tend","_context3","performance","now","_ref3","t0","t1","floor","AddPhotoAlternate_default","Clear_default","accept","Unarchive_default","Archive_default","HighlightOff_default","pages_Loading","fallback","dialogStatus","imageSrc","imageList","TrainKNN","classifier","knnClassifier","tensor","tf","addExample","TrainKNN_RenderList","TrainKNN_DialogDelete","TrainKNN_DialogUpload","TrainKNN_DialogCamera","imageNotReady","imageNotReadyu","NotReady","imageBlack","iframe","Dialog_default","aria-labelledby","maxWidth","imageSensor","imageSensoru","Sensor","isSensing","isDetecting","cover","tick","faceMatcher","handleSense","clearRect","faceMain","handleDetect","_callee4","tickProcess","anchor","drawOptions","_context4","faceRecognize","anchorPosition","fontColor","DrawTextField","draw","_callee5","results","_context5","withFaceDescriptors","_ref6","detection","descriptor","findBestMatch","options","DrawBox","box","split","renderRecognize","renderDetect","RecordVoiceOver_default","BrightnessHigh_default","webcamContainer","webcamOverlay","Sensor_NotReady","Sensor_Loading","Sensor_DialogCover","zIndex","_callee6","_context6","_ref7","predict","predictClass","_x3","minHeight","flexDirection","flex","esm","pages_Header","pages_Ribbon","react_router","path","SensorKNN","pages_Footer","ReduxRoot","es","integration_react","loading","src_App","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","rootEl","ReactDOM","render","src_ReduxRoot","ReactGA","pathname","search","origin","addEventListener","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.37f009a7.chunk.js","sourcesContent":["// @flow\n\nimport type Action from './action.model'\n\nexport const actionInfo = {\n  INFO_SET: 'INFO_SET',\n  INFO_CLOSE: 'INFO_CLOSE'\n}\n\nexport type StateInfo = {\n  onoff: boolean,\n  variant: 'success' | 'warning' | 'error' | 'info',\n  message: string\n}\n\nexport type ActionInfo = Action<StateInfo> | Action<null>\n","// @flow\n\nimport { Action } from '../models/action.model'\nimport { actionTrain } from '../models/train.model'\n\nexport function faceAdd(faces: string[]): Action<string[]> {\n  return {\n    type: actionTrain.TRAIN_FACE_ADD,\n    payload: faces\n  }\n}\n\nexport function faceRemove(id: number): Action<number> {\n  return {\n    type: actionTrain.TRAIN_FACE_REMOVE,\n    payload: id\n  }\n}\n\nexport function faceClear(): Action<null> {\n  return {\n    type: actionTrain.TRAIN_FACE_CLEAR,\n    payload: null\n  }\n}\n\nexport function dateSave(data: any): Action<any> {\n  return {\n    type: actionTrain.TRAIN_DATA_SAVE,\n    payload: data\n  }\n}\n\nexport function dataClear(): Action<null> {\n  return {\n    type: actionTrain.TRAIN_DATA_CLEAR,\n    payload: null\n  }\n}\n\nexport function knnSave(data: any): Action<any> {\n  return {\n    type: actionTrain.TRAIN_KNN_SAVE,\n    payload: data\n  }\n}\n\nexport function knnClear(): Action<null> {\n  return {\n    type: actionTrain.TRAIN_KNN_CLEAR,\n    payload: null\n  }\n}\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport Webcam, { audioConstraintType, videoConstraintType } from './Webcam'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = (theme: Object) => ({\n  hidden: {\n    display: 'none'\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  classes: Object,\n  cropx: number,\n  cropy: number,\n  cropwidth: number,\n  cropheight: number,\n  audio: boolean,\n  videoWidth: number,\n  videoHeight: number,\n  tickRender: number,\n  idVideo: string,\n  idCanvas: string,\n  audioConstraints: Object,\n  videoConstraints: Object\n}\n\nclass WebcamCrop extends React.Component<ProvidedProps & Props> {\n  static propTypes = {\n    idVideo: PropTypes.string,\n    idCanvas: PropTypes.string,\n    classes: PropTypes.object.isRequired,\n    videoWidth: PropTypes.number.isRequired,\n    videoHeight: PropTypes.number.isRequired,\n    tickRender: PropTypes.number.isRequired,\n    audio: PropTypes.bool.isRequired,\n    cropx: PropTypes.number.isRequired,\n    cropy: PropTypes.number.isRequired,\n    cropwidth: PropTypes.number.isRequired,\n    cropheight: PropTypes.number.isRequired,\n    audioConstraints: audioConstraintType,\n    videoConstraints: videoConstraintType\n  }\n\n  static defaultProps = {\n    idVideo: 'react-webcam-crop',\n    idCanvas: 'react-webcam-crop-canvas',\n    videoWidth: 640,\n    videoHeight: 360,\n    tickRender: 100,\n    audio: false,\n    cropx: 0,\n    cropy: 0,\n    cropwidth: 640,\n    cropheight: 360\n  }\n  interval: number = 0\n  webcam: HTMLVideoElement | null\n\n  componentDidMount() {\n    this.interval = window.setInterval(\n      () => this.handleRender(),\n      this.props.tickRender\n    )\n  }\n\n  componentWillUnmount() {\n    window.clearInterval(this.interval)\n  }\n\n  handleRender = () => {\n    const video = document.getElementById(this.props.idVideo)\n    const canvas = document.getElementById(this.props.idCanvas)\n\n    if (\n      canvas instanceof HTMLCanvasElement &&\n      video instanceof HTMLVideoElement\n    ) {\n      const ctx = canvas.getContext('2d')\n      const mulX = Math.round(this.props.videoConstraints.width / 640)\n      const mulY = Math.round(this.props.videoConstraints.height / 360)\n      ctx.drawImage(\n        video,\n        this.props.cropx * mulX,\n        this.props.cropy * mulY,\n        this.props.cropwidth * mulX,\n        this.props.cropheight * mulY,\n        0,\n        0,\n        this.props.videoWidth,\n        this.props.videoHeight\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Webcam\n          className={this.props.classes.hidden}\n          id={this.props.idVideo}\n          audio={this.props.audio}\n          width={1280}\n          height={720}\n          ref={node => (this.webcam = node)}\n          videoConstraints={this.props.videoConstraints}\n          audioConstraints={this.props.audioConstraints}\n        />\n        <canvas\n          id={this.props.idCanvas}\n          width={this.props.videoWidth}\n          height={this.props.videoHeight}\n        />\n      </div>\n    )\n  }\n}\n\nexport default withStyles(styles)(WebcamCrop)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nfunction hasGetUserMedia() {\n  return !!(\n    (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) ||\n    navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia ||\n    navigator.msGetUserMedia\n  )\n}\n\nconst constrainStringType = PropTypes.oneOfType([\n  PropTypes.string,\n  PropTypes.arrayOf(PropTypes.string),\n  PropTypes.shape({\n    exact: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string)\n    ])\n  }),\n  PropTypes.shape({\n    ideal: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string)\n    ])\n  })\n])\n\nconst constrainBooleanType = PropTypes.oneOfType([\n  PropTypes.shape({\n    exact: PropTypes.bool\n  }),\n  PropTypes.shape({\n    ideal: PropTypes.bool\n  })\n])\n\nconst constrainLongType = PropTypes.oneOfType([\n  PropTypes.number,\n  PropTypes.shape({\n    exact: PropTypes.number,\n    ideal: PropTypes.number,\n    min: PropTypes.number,\n    max: PropTypes.number\n  })\n])\n\nconst constrainDoubleType = constrainLongType\n\nexport const audioConstraintType = PropTypes.shape({\n  deviceId: constrainStringType,\n  groupId: constrainStringType,\n  autoGainControl: constrainBooleanType,\n  channelCount: constrainLongType,\n  latency: constrainDoubleType,\n  noiseSuppression: constrainBooleanType,\n  sampleRate: constrainLongType,\n  sampleSize: constrainLongType,\n  volume: constrainDoubleType\n})\n\nexport const videoConstraintType = PropTypes.shape({\n  deviceId: constrainStringType,\n  groupId: constrainStringType,\n  aspectRatio: constrainDoubleType,\n  facingMode: constrainStringType,\n  frameRate: constrainDoubleType,\n  height: constrainLongType,\n  width: constrainLongType\n})\n\nexport default class Webcam extends Component {\n  static defaultProps = {\n    id: 'react-webcam',\n    audio: true,\n    className: '',\n    height: 480,\n    imageSmoothing: true,\n    onUserMedia: () => {},\n    onUserMediaError: () => {},\n    screenshotFormat: 'image/webp',\n    width: 640,\n    screenshotQuality: 0.92\n  }\n\n  static propTypes = {\n    id: PropTypes.string,\n    audio: PropTypes.bool,\n    onUserMedia: PropTypes.func,\n    onUserMediaError: PropTypes.func,\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    screenshotFormat: PropTypes.oneOf([\n      'image/webp',\n      'image/png',\n      'image/jpeg'\n    ]),\n    style: PropTypes.object,\n    className: PropTypes.string,\n    screenshotQuality: PropTypes.number,\n    minScreenshotWidth: PropTypes.number,\n    minScreenshotHeight: PropTypes.number,\n    audioConstraints: audioConstraintType,\n    videoConstraints: videoConstraintType,\n    imageSmoothing: PropTypes.bool\n  }\n\n  static mountedInstances = []\n\n  static userMediaRequested = false\n\n  constructor() {\n    super()\n    this.state = {\n      hasUserMedia: false\n    }\n  }\n\n  componentDidMount() {\n    if (!hasGetUserMedia()) return\n\n    Webcam.mountedInstances.push(this)\n\n    if (!this.state.hasUserMedia && !Webcam.userMediaRequested) {\n      this.requestUserMedia()\n    }\n  }\n\n  componentDidUpdate(nextProps) {\n    if (\n      JSON.stringify(nextProps.audioConstraints) !==\n        JSON.stringify(this.props.audioConstraints) ||\n      JSON.stringify(nextProps.videoConstraints) !==\n        JSON.stringify(this.props.videoConstraints)\n    ) {\n      this.requestUserMedia()\n    }\n  }\n\n  componentWillUnmount() {\n    const index = Webcam.mountedInstances.indexOf(this)\n    Webcam.mountedInstances.splice(index, 1)\n\n    Webcam.userMediaRequested = false\n    if (Webcam.mountedInstances.length === 0 && this.state.hasUserMedia) {\n      if (this.stream.getVideoTracks && this.stream.getAudioTracks) {\n        this.stream.getVideoTracks().map(track => track.stop())\n        this.stream.getAudioTracks().map(track => track.stop())\n      } else {\n        this.stream.stop()\n      }\n      window.URL.revokeObjectURL(this.state.src)\n    }\n  }\n\n  getScreenshot() {\n    if (!this.state.hasUserMedia) return null\n\n    const canvas = this.getCanvas()\n    return (\n      canvas &&\n      canvas.toDataURL(\n        this.props.screenshotFormat,\n        this.props.screenshotQuality\n      )\n    )\n  }\n\n  getCanvas() {\n    if (!this.state.hasUserMedia || !this.video.videoHeight) return null\n\n    if (!this.ctx) {\n      const canvas = document.createElement('canvas')\n      const aspectRatio = this.video.videoWidth / this.video.videoHeight\n\n      var canvasWidth = this.props.minScreenshotWidth || this.video.clientWidth\n      var canvasHeight = canvasWidth / aspectRatio\n\n      if (\n        this.props.minScreenshotHeight &&\n        canvasHeight < this.props.minScreenshotHeight\n      ) {\n        canvasHeight = this.props.minScreenshotHeight\n        canvasWidth = canvasHeight * aspectRatio\n      }\n\n      canvas.width = canvasWidth\n      canvas.height = canvasHeight\n\n      this.canvas = canvas\n      this.ctx = canvas.getContext('2d')\n    }\n\n    const { ctx, canvas } = this\n    ctx.imageSmoothingEnabled = this.props.imageSmoothing\n    ctx.drawImage(\n      this.video,\n      this.props.clipx,\n      this.props.clipy,\n      this.props.clipwidth,\n      this.props.clipheight,\n      0,\n      0,\n      canvas.width,\n      canvas.height\n    )\n\n    return canvas\n  }\n\n  requestUserMedia() {\n    navigator.getUserMedia =\n      navigator.mediaDevices.getUserMedia ||\n      navigator.webkitGetUserMedia ||\n      navigator.mozGetUserMedia ||\n      navigator.msGetUserMedia\n\n    const sourceSelected = (audioConstraints, videoConstraints) => {\n      const constraints = {\n        video: videoConstraints || true\n      }\n\n      if (this.props.audio) {\n        constraints.audio = audioConstraints || true\n      }\n\n      navigator.mediaDevices\n        .getUserMedia(constraints)\n        .then(stream => {\n          Webcam.mountedInstances.forEach(instance =>\n            instance.handleUserMedia(null, stream)\n          )\n        })\n        .catch(e => {\n          Webcam.mountedInstances.forEach(instance =>\n            instance.handleUserMedia(e)\n          )\n        })\n    }\n\n    if ('mediaDevices' in navigator) {\n      sourceSelected(this.props.audioConstraints, this.props.videoConstraints)\n    } else {\n      const optionalSource = id => ({ optional: [{ sourceId: id }] })\n\n      const constraintToSourceId = constraint => {\n        const deviceId = (constraint || {}).deviceId\n\n        if (typeof deviceId === 'string') {\n          return deviceId\n        } else if (Array.isArray(deviceId) && deviceId.length > 0) {\n          return deviceId[0]\n        } else if (typeof deviceId === 'object' && deviceId.ideal) {\n          return deviceId.ideal\n        }\n\n        return null\n      }\n\n      MediaStreamTrack.getSources(sources => {\n        let audioSource = null\n        let videoSource = null\n\n        sources.forEach(source => {\n          if (source.kind === 'audio') {\n            audioSource = source.id\n          } else if (source.kind === 'video') {\n            videoSource = source.id\n          }\n        })\n\n        const audioSourceId = constraintToSourceId(this.props.audioConstraints)\n        if (audioSourceId) {\n          audioSource = audioSourceId\n        }\n\n        const videoSourceId = constraintToSourceId(this.props.videoConstraints)\n        if (videoSourceId) {\n          videoSource = videoSourceId\n        }\n\n        sourceSelected(optionalSource(audioSource), optionalSource(videoSource))\n      })\n    }\n\n    Webcam.userMediaRequested = true\n  }\n\n  handleUserMedia(err, stream) {\n    if (err) {\n      this.setState({ hasUserMedia: false })\n      this.props.onUserMediaError(err)\n\n      return\n    }\n\n    this.stream = stream\n\n    try {\n      this.video.srcObject = stream\n      this.setState({ hasUserMedia: true })\n    } catch (error) {\n      this.setState({\n        hasUserMedia: true,\n        src: window.URL.createObjectURL(stream)\n      })\n    }\n\n    this.props.onUserMedia()\n  }\n\n  render() {\n    return (\n      <video\n        autoPlay\n        id={this.props.id}\n        width={this.props.width}\n        height={this.props.height}\n        src={this.state.src}\n        muted={this.props.audio}\n        className={this.props.className}\n        playsInline\n        style={this.props.style}\n        ref={ref => {\n          this.video = ref\n        }}\n      />\n    )\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/uzuki404.df9f82f4.jpg\";","// @flow\n\nimport * as faceapi from 'face-api.js'\n\nexport async function createFaceMatcher(\n  data: { _label: string, _descriptors: any }[]\n) {\n  const labeledFaceDescriptors = await Promise.all(\n    data.map(face => {\n      const descriptors = []\n      face._descriptors.forEach(desc => {\n        const parsedArray = Object.values(desc)\n        // $flow-disable-line\n        descriptors.push(new Float32Array(parsedArray))\n      })\n      return new faceapi.LabeledFaceDescriptors(face._label, descriptors)\n    })\n  )\n  return new faceapi.FaceMatcher(labeledFaceDescriptors)\n}\n\nexport function extractData(\n  input: string,\n  rect: { x: number, y: number, width: number, height: number }\n): ImageData | null {\n  const image = document.getElementById(input)\n  if (image instanceof HTMLCanvasElement) {\n    let canvas = document.createElement('canvas')\n    canvas.width = image.width\n    canvas.height = image.height\n    const ctx = canvas.getContext('2d')\n    ctx.drawImage(image, 0, 0, canvas.width, canvas.height)\n    return ctx.getImageData(rect.x, rect.y, rect.width, rect.height)\n  }\n  return null\n}\n","// @flow\n\nimport type Action from './action.model'\n\nexport const actionTrain = {\n  TRAIN_FACE_ADD: 'TRAIN_FACE_ADD',\n  TRAIN_FACE_REMOVE: 'TRAIN_FACE_REMOVE',\n  TRAIN_FACE_CLEAR: 'TRAIN_FACE_CLEAR',\n  TRAIN_DATA_SAVE: 'TRAIN_DATA_SAVE',\n  TRAIN_DATA_CLEAR: 'TRAIN_DATA_CLEAR',\n  TRAIN_KNN_SAVE: 'TRAIN_KNN_SAVE',\n  TRAIN_KNN_CLEAR: 'TRAIN_KNN_CLEAR'\n}\n\nexport type StateTrain = {\n  face: string[],\n  data: any,\n  knn: any | null\n}\n\nexport type ActionTrain = Action<string[]> | Action<null> | Action<number>\n","// @flow\n\nimport { Action } from '../models/action.model'\nimport { actionInfo } from '../models/info.model'\nimport type { StateInfo } from '../models/info.model'\n\nexport function infoSet(input: StateInfo): Action<StateInfo> {\n  return {\n    type: actionInfo.INFO_SET,\n    payload: input\n  }\n}\n\nexport function infoClose(): Action<null> {\n  return {\n    type: actionInfo.INFO_CLOSE,\n    payload: null\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/404.ae654961.jpg\";","module.exports = __webpack_public_path__ + \"static/media/uzukihome.44d46098.jpg\";","module.exports = __webpack_public_path__ + \"static/media/setting.fc73b925.jpg\";","module.exports = __webpack_public_path__ + \"static/media/uzukisetting.417112d7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/notready.89639fb4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/uzukinotready.07a51fdc.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAALQCAYAAADPfd1WAAAUgklEQVR4nO3YQQ0AIBDAsAP/nkEFIVlaBXtvzcwZAAAAACBp/w4AAAAAAN4xAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAICwC0cpBp8Rbaq9AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/sensor.d130849f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sensork.4139200b.jpg\";","// @flow\n\nimport type { Action } from '../models/action.model'\n\nexport default function createReducer(initialState: Object, handlers: Object) {\n  return function reducer(state: Object = initialState, action: Action<any>) {\n    if (handlers.hasOwnProperty(action.type)) {\n      return handlers[action.type](state, action)\n    } else {\n      return state\n    }\n  }\n}\n","// @flow\nimport createReducer from './createReducer'\nimport type { Action } from '../models/action.model'\nimport { actionInfo } from '../models/info.model'\nimport type { StateInfo } from '../models/info.model'\n\nexport const initialState: StateInfo = {\n  onoff: false,\n  variant: 'info',\n  message: ''\n}\n\nexport const info = createReducer(initialState, {\n  [actionInfo.INFO_SET](state: StateInfo, action: Action<StateInfo>) {\n    return action.payload\n  },\n  [actionInfo.INFO_CLOSE](state: StateInfo, action: Action<null>) {\n    return { ...state, onoff: false }\n  }\n})\n","// @flow\n\nimport type Action from './action.model'\nimport type { CanvasRect, VideoConstraints } from './misc.model'\n\nexport const actionSetting = {\n  SETTING_VIDEO: 'SETTING_VIDEO',\n  SETTING_RECT: 'SETTING_RECT'\n}\n\nexport type ActionSetting = Action<Object>\n\nexport type StateSetting = {\n  rect: CanvasRect,\n  video: VideoConstraints\n}\n","// @flow\nimport createReducer from './createReducer'\nimport type { Action } from '../models/action.model'\nimport { actionSetting } from '../models/setting.model'\nimport type { StateSetting } from '../models/setting.model'\nimport type { CanvasRect, VideoConstraints } from '../models/misc.model'\n\nexport const initialState: StateSetting = {\n  rect: { x: 100, y: 100, width: 100, height: 100 },\n  video: {\n    width: 1280,\n    height: 720\n  }\n}\n\nexport const setting = createReducer(initialState, {\n  [actionSetting.SETTING_VIDEO](\n    state: StateSetting,\n    action: Action<VideoConstraints>\n  ) {\n    return { ...state, video: action.payload }\n  },\n  [actionSetting.SETTING_RECT](\n    state: StateSetting,\n    action: Action<CanvasRect>\n  ) {\n    return { ...state, rect: action.payload }\n  }\n})\n","// @flow\nimport createReducer from './createReducer'\nimport type { Action } from '../models/action.model'\nimport { actionTrain } from '../models/train.model'\nimport type { StateTrain } from '../models/train.model'\n\nconst initialState: StateTrain = {\n  face: [],\n  data: [],\n  knn: null\n}\n\nexport const train = createReducer(initialState, {\n  [actionTrain.TRAIN_FACE_ADD](state: StateTrain, action: Action<string[]>) {\n    return { ...state, face: state.face.concat(action.payload) }\n  },\n  [actionTrain.TRAIN_FACE_REMOVE](state: StateTrain, action: Action<number>) {\n    state.face.splice(action.payload, 1)\n    return state\n  },\n  [actionTrain.TRAIN_FACE_CLEAR](state: StateTrain, action: Action<null>) {\n    return { ...state, face: [] }\n  },\n  [actionTrain.TRAIN_DATA_SAVE](state: StateTrain, action: Action<any>) {\n    return { ...state, data: action.payload }\n  },\n  [actionTrain.TRAIN_DATA_CLEAR](state: StateTrain, action: Action<null>) {\n    return { ...state, data: [] }\n  },\n  [actionTrain.TRAIN_KNN_SAVE](state: StateTrain, action: Action<any>) {\n    return { ...state, knn: action.payload }\n  },\n  [actionTrain.TRAIN_KNN_CLEAR](state: StateTrain, action: Action<null>) {\n    return { ...state, knn: null }\n  }\n})\n","// @flow\n\nimport type Action from './action.model'\n\nexport const actionImage = {\n  IMAGE_SWITCH: 'IMAGE_SWITCH'\n}\n\nexport type StateImage = {\n  switch: boolean\n}\n\nexport type ActionImage = Action<boolean>\n","// @flow\nimport createReducer from './createReducer'\nimport type { Action } from '../models/action.model'\nimport { actionImage } from '../models/image.model'\nimport type { StateImage } from '../models/image.model'\n\nexport const initialState: StateImage = {\n  switch: false\n}\n\nexport const image = createReducer(initialState, {\n  [actionImage.IMAGE_SWITCH](state: StateImage, action: Action<boolean>) {\n    return { ...state, switch: action.payload }\n  }\n})\n","import { combineReducers } from 'redux'\nimport type { History } from 'history'\nimport { connectRouter } from 'connected-react-router'\nimport * as info from './info.reducer'\nimport * as setting from './setting.reducer'\nimport * as train from './train.reducer'\nimport * as image from './image.reducer'\n\nconst rootReducer = (history: History) =>\n  combineReducers({\n    router: connectRouter(history),\n    ...info,\n    ...setting,\n    ...train,\n    ...image\n  })\n\nexport default rootReducer\n","import { createBrowserHistory } from 'history'\nimport { applyMiddleware, createStore } from 'redux'\nimport { routerMiddleware } from 'connected-react-router'\nimport thunk from 'redux-thunk'\nimport { createLogger } from 'redux-logger'\nimport { persistReducer, persistStore } from 'redux-persist'\nimport type { PersistConfig } from 'redux-persist'\nimport * as localforage from 'localforage'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport rootReducer from './reducers'\n\nconst logger = createLogger()\nexport const history = createBrowserHistory({\n  basename: process.env.PUBLIC_URL\n})\n\nconst persistConfig: PersistConfig = {\n  key: 'root',\n  version: 1,\n  storage: localforage,\n  whitelist: ['setting', 'image']\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer(history))\n\nconst dev = process.env.NODE_ENV === 'development'\n\nvar middleware = dev\n  ? applyMiddleware(logger, thunk, routerMiddleware(history))\n  : applyMiddleware(thunk, routerMiddleware(history))\n\nif (dev) {\n  middleware = composeWithDevTools(middleware)\n}\n\nexport const store = createStore(persistedReducer, {}, middleware)\nexport const persistor = persistStore(store)\n","// @flow\n\nimport React from 'react'\nimport type { ComponentType } from 'react'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport pink from '@material-ui/core/colors/pink'\nimport deepPurple from '@material-ui/core/colors/deepPurple'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport 'typeface-roboto'\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n  palette: {\n    primary: pink,\n    secondary: deepPurple\n  },\n  typography: {\n    useNextVariants: true\n  }\n})\n\nfunction withRoot(Component: ComponentType<*>) {\n  function WithRoot(props: Object) {\n    // MuiThemeProvider makes the theme available down the React tree\n    // thanks to React context.\n    return (\n      <MuiThemeProvider theme={theme}>\n        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n        <CssBaseline />\n        <Component {...props} />\n      </MuiThemeProvider>\n    )\n  }\n\n  return WithRoot\n}\n\nexport default withRoot\n","// @flow\n\nimport type { LinkSite } from '../models/misc.model'\n\nexport const linkHeader: LinkSite[] = [\n  { text: 'Home', link: '/home' },\n  { text: 'Setting', link: '/setting' },\n  { text: 'Train', link: '/train' },\n  { text: 'Sensor', link: '/sensor' },\n  { text: 'TrainK', link: '/traink' },\n  { text: 'SensorK', link: '/sensork' }\n]\n\nexport const linkDrawer: LinkSite[] = [\n  { text: 'BossSensor', link: 'https://github.com/Hironsan/BossSensor' },\n  {\n    text: 'face-api.js',\n    link: 'https://github.com/justadudewhohacks/face-api.js'\n  },\n  { text: 'Tensorflow', link: 'https://www.tensorflow.org/' },\n  { text: 'Tensorflow.js', link: 'https://js.tensorflow.org/' },\n  { text: 'React', link: 'https://facebook.github.io/react/' },\n  { text: 'Redux', link: 'http://redux.js.org/' },\n  { text: 'Material Design Lite', link: 'https://getmdl.io/' },\n  { text: 'Material-UI', link: 'https://material-ui.com/' },\n  { text: 'Uzuki', link: 'https://github.com/Panepo/Uzuki' }\n]\n","class EnvironmentValues {\n  title = 'Uzuki'\n  urlDev = '/'\n  urlProd = 'https://panepo.github.io/Uzuki/'\n  GithubLink = 'https://github.com/Panepo/Uzuki'\n  GoogleAnalyticsID = 'UA-106126363-3'\n  ColorMenuIcon = '#ff6699'\n  ColorRibbon = 'linear-gradient(165deg, #ff6699 20%, #ffccdc 90%)'\n\n  // Video options\n  videoCanvas = {\n    width: 640,\n    height: 360\n  }\n\n  useTinyFaceDetector = true\n  useTinyLandmark = true\n\n  // TinyFaceDetector options\n  tinyInputSize = 160\n  tinyThreshold = 0.5\n\n  // SSD Mobilenet v1 options\n  ssdMinConfidence = 0.5\n  ssdMaxResults = 10\n}\n\n// Export as singleton\nconst environmentValuesLoader = new EnvironmentValues()\nObject.freeze(environmentValuesLoader)\nexport { environmentValuesLoader as environment }\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport Drawer from '@material-ui/core/Drawer'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport IconBookmark from '@material-ui/icons/Bookmarks'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport { linkDrawer, linkHeader } from '../constants/link.constant'\nimport type { LinkSite } from '../models/misc.model'\nimport { environment } from '../environment'\n\nconst styles = (theme: Object) => ({\n  root: {},\n  appBar: {\n    position: 'relative'\n  },\n  button: {\n    margin: theme.spacing.unit\n  },\n  drawer: {\n    color: '#616161'\n  },\n  drawerTitle: {\n    textAlign: 'center',\n    marginTop: 20,\n    marginBottom: 10\n  },\n  grow: {\n    flexGrow: 1\n  },\n  menuButton: {\n    color: environment.ColorMenuIcon,\n    marginLeft: -12,\n    marginRight: 20\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {}\n\ntype State = {\n  drawer: boolean\n}\n\nclass Header extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    drawer: false\n  }\n\n  toggleDrawer = (side: string, open: boolean) => () => {\n    this.setState({\n      [side]: open\n    })\n  }\n\n  render() {\n    const { classes } = this.props\n\n    const renderLink = linkHeader.map((data: LinkSite) => (\n      <Link to={data.link} key={data.text}>\n        <Button color=\"primary\">{data.text}</Button>\n      </Link>\n    ))\n\n    const renderDrawer = (\n      <List>\n        {linkDrawer.map((data: LinkSite) => (\n          <ListItem\n            button\n            divider\n            key={data.text}\n            component=\"a\"\n            href={data.link}>\n            <ListItemIcon>\n              <IconBookmark color=\"secondary\" />\n            </ListItemIcon>\n            <ListItemText primary={data.text} />\n          </ListItem>\n        ))}\n      </List>\n    )\n\n    return (\n      <header className={classes.root}>\n        <AppBar position=\"static\" color=\"inherit\" className={classes.appBar}>\n          <Drawer\n            className={classes.drawer}\n            open={this.state.drawer}\n            onClose={this.toggleDrawer('drawer', false)}>\n            <Typography\n              className={classes.drawerTitle}\n              variant=\"h6\"\n              color=\"inherit\"\n              noWrap>\n              Reference\n            </Typography>\n            <div\n              tabIndex={0}\n              role=\"button\"\n              onClick={this.toggleDrawer('drawer', false)}\n              onKeyDown={this.toggleDrawer('drawer', false)}>\n              {renderDrawer}\n            </div>\n          </Drawer>\n          <Toolbar>\n            <IconButton\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"Menu\"\n              onClick={this.toggleDrawer('drawer', true)}>\n              <MenuIcon />\n            </IconButton>\n            <Typography\n              variant=\"h6\"\n              color=\"inherit\"\n              className={classes.grow}\n              noWrap>\n              {environment.title}\n            </Typography>\n            {renderLink}\n          </Toolbar>\n        </AppBar>\n      </header>\n    )\n  }\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Header)\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport { environment } from '../environment'\n\nconst styles = (theme: Object) => ({\n  root: {\n    width: '100%',\n    height: '60vh',\n    background: environment.ColorRibbon\n  }\n})\n\ntype Props = {\n  classes: Object\n}\n\nconst Ribbon = (props: Props) => {\n  return <div className={props.classes.root} />\n}\n\nRibbon.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Ribbon)\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport Typography from '@material-ui/core/Typography'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = (theme: Object) => ({\n  root: {\n    background: '#424242',\n    height: '60px',\n    width: '100%'\n  },\n  text: {\n    color: '#BDBDBD',\n    fontSize: '13px',\n    paddingLeft: '40px',\n    paddingTop: '20px'\n  }\n})\n\ntype Props = {\n  classes: Object\n}\n\nconst Footer = (props: Props) => {\n  return (\n    <footer className={props.classes.root}>\n      <Typography className={props.classes.text}>\n        Copyright &copy; Panepo@Github 2019 All Rights Reserved.\n      </Typography>\n    </footer>\n  )\n}\n\nFooter.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Footer)\n","// @flow\n\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints'\nimport { isWidthDown, isWidthUp } from '@material-ui/core/withWidth'\n\nconst allowMobile = true\nexport function isSmartphone(width: Breakpoint): boolean {\n  return allowMobile && isWidthDown('xs', width)\n}\n\nexport function isTablet(width: Breakpoint): boolean {\n  return allowMobile && isWidthDown('sm', width)\n}\n\nexport function isMobile(width: Breakpoint): boolean {\n  return allowMobile && isTablet(width)\n}\n\nexport function isDesktop(width: Breakpoint): boolean {\n  return !allowMobile || isWidthUp('md', width)\n}\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport IconButton from '@material-ui/core/IconButton'\nimport green from '@material-ui/core/colors/green'\nimport amber from '@material-ui/core/colors/amber'\nimport lightBlue from '@material-ui/core/colors/lightBlue'\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n}\n\nconst styles = (theme: Object) => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: lightBlue[900]\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing.unit\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n})\n\ntype Props = {\n  classes: Object,\n  className: string,\n  message: string,\n  onClose: () => {},\n  variant: 'success' | 'warning' | 'error' | 'info'\n}\n\nconst InfoBar = (props: Props) => {\n  const { classes, className, message, onClose, variant, ...other } = props\n  const Icon = variantIcon[variant]\n\n  return (\n    <SnackbarContent\n      className={classNames(classes[variant], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={classNames(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          className={classes.close}\n          onClick={onClose}>\n          <CloseIcon className={classes.icon} />\n        </IconButton>\n      ]}\n      {...other}\n    />\n  )\n}\n\nInfoBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  message: PropTypes.node,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired\n}\n\nexport default withStyles(styles)(InfoBar)\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport * as actionInfo from '../actions/info.action'\nimport { bindActionCreators } from 'redux'\nimport type { Dispatch } from '../models'\nimport type { StateInfo } from '../models/info.model'\nimport type { Node } from 'react'\nimport Helmet from 'react-helmet'\nimport { environment } from '../environment'\nimport { withStyles, withWidth } from '@material-ui/core'\nimport { isSmartphone } from '../helpers/responsive.helper'\nimport Grid from '@material-ui/core/Grid'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport InfoBar from '../componments/InfoBar'\n\nconst styles = (theme: Object) => ({\n  root: {\n    flexGrow: 1,\n    width: '100%'\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object,\n  width: string\n}\n\ntype Props = {\n  helmet: boolean,\n  title: string,\n  content: Node,\n  gridNormal: number,\n  gridPhone: number,\n  actionsI: Dispatch,\n  info: StateInfo\n}\n\nclass Layout extends React.Component<ProvidedProps & Props> {\n  static defaultProps = {\n    helmet: false,\n    title: 'title',\n    gridNormal: 4,\n    gridPhone: 8\n  }\n\n  handleInfoClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return\n    }\n    this.props.actionsI.infoClose()\n  }\n\n  render() {\n    const renderHelmet = (\n      <Helmet>\n        <meta charset=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\n        />\n        <meta name=\"author\" content=\"Panepo@github\" />\n        <link rel=\"manifest\" href=\"./manifest.json\" />\n        <link rel=\"shortcut icon\" href=\"./favicon.ico\" />\n        <title>{this.props.title + ' | ' + environment.title}</title>\n      </Helmet>\n    )\n\n    return (\n      <main className={this.props.classes.root}>\n        {this.props.helmet ? renderHelmet : null}\n        <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left'\n          }}\n          open={this.props.info.onoff}\n          autoHideDuration={6000}\n          onClose={this.handleInfoClose}>\n          <InfoBar\n            onClose={this.handleInfoClose}\n            variant={this.props.info.variant}\n            message={this.props.info.message}\n          />\n        </Snackbar>\n        <Grid\n          container={true}\n          className={this.props.classes.grid}\n          justify=\"center\">\n          <Grid\n            item={true}\n            xs={\n              isSmartphone(this.props.width)\n                ? this.props.gridPhone\n                : this.props.gridNormal\n            }>\n            {this.props.content}\n          </Grid>\n        </Grid>\n      </main>\n    )\n  }\n}\n\nLayout.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n  content: PropTypes.element.isRequired,\n  helmet: PropTypes.bool,\n  title: PropTypes.string,\n  gridNormal: PropTypes.number,\n  gridPhone: PropTypes.number,\n  info: PropTypes.shape({\n    onoff: PropTypes.bool.isRequired,\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info'])\n      .isRequired,\n    message: PropTypes.string.isRequired\n  })\n}\n\nconst mapStateToProps = state => {\n  return {\n    info: state.info\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsI: bindActionCreators(actionInfo, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withWidth()(withStyles(styles)(Layout)))\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport type { StateImage } from '../models/image.model'\nimport Layout from './Layout'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core'\nimport Typography from '@material-ui/core/Typography'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport Button from '@material-ui/core/Button'\n\nconst image404 = require('../images/404.jpg')\nconst image404u = require('../images/uzuki404.jpg')\n\nconst styles = (theme: Object) => ({\n  card: {\n    minWidth: 275\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  image: StateImage\n}\n\nclass NotFound extends React.Component<ProvidedProps & Props> {\n  render() {\n    return (\n      <Layout\n        helmet={true}\n        title={'File Not Found'}\n        content={\n          <Card className={this.props.classes.card}>\n            <CardActionArea>\n              {this.props.image.switch ? (\n                <img src={image404u} alt={'404'} width={640} height={480} />\n              ) : (\n                <img src={image404} alt={'404'} width={640} height={480} />\n              )}\n            </CardActionArea>\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                File Not Found\n              </Typography>\n            </CardContent>\n            <CardActions>\n              <Link to=\"/home\">\n                <Button color=\"primary\">Home</Button>\n              </Link>\n            </CardActions>\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nNotFound.propTypes = {\n  classes: PropTypes.object.isRequired,\n  image: PropTypes.shape({\n    switch: PropTypes.bool.isRequired\n  })\n}\n\nconst mapStateToProps = state => {\n  return {\n    image: state.image\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {}\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(NotFound))\n","// @flow\n\nimport { Action } from '../models/action.model'\nimport { actionImage } from '../models/image.model'\n\nexport function imageSwitch(onoff: boolean): Action<boolean> {\n  return {\n    type: actionImage.IMAGE_SWITCH,\n    payload: onoff\n  }\n}\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport GitHubButton from 'react-github-btn'\nimport { environment } from '../../environment'\n\nconst styles = (theme: Object) => ({\n  root: {}\n})\n\ntype Props = {\n  classes: Object\n}\n\nconst Github = (props: Props) => {\n  return (\n    <Grid container={true} className={props.classes.grid} justify=\"center\">\n      <GitHubButton\n        href={environment.GithubLink + '/subscription'}\n        data-icon=\"octicon-eye\"\n        data-size=\"large\"\n        aria-label={'Watch ' + environment.title + ' on GitHub'}>\n        Watch\n      </GitHubButton>\n      <GitHubButton\n        href={environment.GithubLink}\n        data-icon=\"octicon-star\"\n        data-size=\"large\"\n        aria-label={'Star ' + environment.title + ' on GitHub'}>\n        Star\n      </GitHubButton>\n      <GitHubButton\n        href={environment.GithubLink + '/fork'}\n        data-icon=\"octicon-repo-forked\"\n        data-size=\"large\"\n        aria-label={'Fork ' + environment.title + ' on GitHub'}>\n        Fork\n      </GitHubButton>\n    </Grid>\n  )\n}\n\nGithub.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Github)\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionImage from '../../actions/image.action'\nimport type { Dispatch, RouterHistory } from '../../models'\nimport type { StateImage } from '../../models/image.model'\nimport type { StateTrain } from '../../models/train.model'\nimport { withRouter } from 'react-router-dom'\nimport Layout from '../Layout'\nimport { withStyles } from '@material-ui/core'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport IconTrain from '@material-ui/icons/Polymer'\nimport IconSettings from '@material-ui/icons/Settings'\nimport IconSensor from '@material-ui/icons/Contacts'\nimport IconDone from '@material-ui/icons/Done'\nimport IconImage from '@material-ui/icons/Image'\nimport lightGreen from '@material-ui/core/colors/lightGreen'\n\nimport Github from './Github'\n\nconst imageHome = require('../../images/uzukihome.jpg')\n\nconst styles = (theme: Object) => ({\n  card: {\n    minWidth: 275,\n    marginBottom: theme.spacing.unit\n  },\n  icon2: {\n    color: lightGreen[500]\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object,\n  history: RouterHistory\n}\n\ntype Props = {\n  image: StateImage,\n  train: StateTrain,\n  actionsI: Dispatch\n}\n\nclass Home extends React.Component<ProvidedProps & Props> {\n  handleRedirect = (link: string) => () => {\n    this.props.history.push('/' + link)\n  }\n\n  toggleImage = (onoff: boolean) => () => {\n    this.props.actionsI.imageSwitch(onoff)\n  }\n\n  render() {\n    const renderTrain = (\n      <Card className={this.props.classes.card}>\n        <CardActionArea onClick={this.handleRedirect('train')}>\n          <CardHeader\n            avatar={<IconTrain color=\"primary\" />}\n            title={\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                Train\n              </Typography>\n            }\n            subheader={\n              'Upload boss picture and train computer to identify boss.'\n            }\n            action={\n              this.props.train.data.length > 0 ? (\n                <IconDone className={this.props.classes.icon2} />\n              ) : null\n            }\n          />\n        </CardActionArea>\n      </Card>\n    )\n\n    const renderSetting = (\n      <Card className={this.props.classes.card}>\n        <CardActionArea onClick={this.handleRedirect('setting')}>\n          <CardHeader\n            avatar={<IconSettings color=\"primary\" />}\n            title={\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                Setting\n              </Typography>\n            }\n            subheader={'Configure your camera to fetch the best vision.'}\n          />\n        </CardActionArea>\n      </Card>\n    )\n\n    const renderSensor = (\n      <Card className={this.props.classes.card}>\n        <CardActionArea onClick={this.handleRedirect('sensor')}>\n          <CardHeader\n            avatar={<IconSensor color=\"primary\" />}\n            title={\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                Sensor\n              </Typography>\n            }\n            subheader={\n              'Start the sensor to detect if your boss is approaching.'\n            }\n          />\n        </CardActionArea>\n      </Card>\n    )\n\n    const renderImage = (\n      <Card className={this.props.classes.card}>\n        <CardActionArea\n          onClick={\n            this.props.image.switch\n              ? this.toggleImage(false)\n              : this.toggleImage(true)\n          }>\n          <CardHeader\n            avatar={<IconImage color=\"primary\" />}\n            title={\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                Image\n              </Typography>\n            }\n            subheader={'Toggle Uzuki images.'}\n            action={\n              this.props.image.switch ? (\n                <IconDone className={this.props.classes.icon2} />\n              ) : null\n            }\n          />\n        </CardActionArea>\n      </Card>\n    )\n\n    const renderTrainK = (\n      <Card className={this.props.classes.card}>\n        <CardActionArea onClick={this.handleRedirect('traink')}>\n          <CardHeader\n            avatar={<IconTrain color=\"primary\" />}\n            title={\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                Train with KNN\n              </Typography>\n            }\n            subheader={\n              'Upload boss picture and train computer to identify boss with KNN classifier.'\n            }\n            action={\n              this.props.train.data.length > 0 ? (\n                <IconDone className={this.props.classes.icon2} />\n              ) : null\n            }\n          />\n        </CardActionArea>\n      </Card>\n    )\n\n    const renderSensorK = (\n      <Card className={this.props.classes.card}>\n        <CardActionArea onClick={this.handleRedirect('sensork')}>\n          <CardHeader\n            avatar={<IconSensor color=\"primary\" />}\n            title={\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                Sensor with KNN\n              </Typography>\n            }\n            subheader={\n              'Start the sensor with KNN classifier to detect if your boss is approaching.'\n            }\n          />\n        </CardActionArea>\n      </Card>\n    )\n\n    return (\n      <Layout\n        helmet={true}\n        title={'Home'}\n        gridNormal={10}\n        gridPhone={12}\n        content={\n          <Grid\n            container={true}\n            className={this.props.classes.grid}\n            spacing={16}\n            justify=\"center\">\n            {this.props.image.switch ? (\n              <Grid item={true} xs={8}>\n                <Card>\n                  <CardActionArea>\n                    <img src={imageHome} alt={'Uzuki'} />\n                  </CardActionArea>\n                </Card>\n              </Grid>\n            ) : null}\n            <Grid item={true} xs={4}>\n              {renderSetting}\n              {renderTrain}\n              {this.props.train.data.length > 0 ? renderSensor : null}\n              {renderTrainK}\n              {this.props.train.knn ? renderSensorK : null}\n              {renderImage}\n              <Github />\n            </Grid>\n          </Grid>\n        }\n      />\n    )\n  }\n}\n\nHome.propTypes = {\n  classes: PropTypes.object.isRequired,\n  image: PropTypes.shape({\n    switch: PropTypes.bool\n  }).isRequired,\n  train: PropTypes.shape({\n    face: PropTypes.arrayOf(PropTypes.object),\n    data: PropTypes.arrayOf(PropTypes.object),\n    knn: PropTypes.any\n  }).isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    image: state.image,\n    train: state.train\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsI: bindActionCreators(actionImage, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(withRouter(Home)))\n","// @flow\n\nimport { Action } from '../models/action.model'\nimport { actionSetting } from '../models/setting.model'\nimport type { CanvasRect, VideoConstraints } from '../models/misc.model'\n\nexport function modifyVideo(input: VideoConstraints): Action<VideoConstraints> {\n  return {\n    type: actionSetting.SETTING_VIDEO,\n    payload: input\n  }\n}\n\nexport function modifyRect(input: CanvasRect): Action<CanvasRect> {\n  return {\n    type: actionSetting.SETTING_RECT,\n    payload: input\n  }\n}\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport Webcam, { audioConstraintType, videoConstraintType } from './Webcam'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = (theme: Object) => ({\n  hidden: {\n    display: 'none'\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  classes: Object,\n  rect: {\n    x: number,\n    y: number,\n    width: number,\n    height: number\n  },\n  rectLine: number,\n  rectColor: string,\n  audio: boolean,\n  videoWidth: number,\n  videoHeight: number,\n  tickRender: number,\n  idVideo: string,\n  idCanvas: string,\n  audioConstraints: Object,\n  videoConstraints: Object,\n  getPosition: ({ x: number, y: number, width: number, height: number }) => {}\n}\n\ntype State = {\n  isDrawing: boolean,\n  isDisplaying: boolean,\n  startx: number,\n  starty: number,\n  endx: number,\n  endy: number\n}\n\nclass WebcamRectDraw extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    isDrawing: false,\n    isDisplaying: this.props.rect ? true : false,\n    startx: this.props.rect ? this.props.rect.x : 0,\n    starty: this.props.rect ? this.props.rect.y : 0,\n    endx: this.props.rect ? this.props.rect.x + this.props.rect.width : 0,\n    endy: this.props.rect ? this.props.rect.y + this.props.rect.height : 0\n  }\n\n  static propTypes = {\n    idVideo: PropTypes.string,\n    idCanvas: PropTypes.string,\n    classes: PropTypes.object.isRequired,\n    videoWidth: PropTypes.number.isRequired,\n    videoHeight: PropTypes.number.isRequired,\n    tickRender: PropTypes.number.isRequired,\n    audio: PropTypes.bool.isRequired,\n    rect: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      width: PropTypes.number,\n      height: PropTypes.number\n    }),\n    rectColor: PropTypes.string.isRequired,\n    rectLine: PropTypes.number.isRequired,\n    audioConstraints: audioConstraintType,\n    videoConstraints: videoConstraintType,\n    getPosition: PropTypes.func\n  }\n\n  static defaultProps = {\n    idVideo: 'react-webcam-rect',\n    idCanvas: 'react-webcam-rect-canvas',\n    videoWidth: 640,\n    videoHeight: 360,\n    tickRender: 100,\n    audio: false,\n    rectx: 0,\n    recty: 0,\n    rectwidth: 640,\n    rectheight: 360,\n    rectColor: 'yellow',\n    rectLine: 4\n  }\n  interval: number = 0\n  webcam: HTMLVideoElement | null\n\n  componentDidMount() {\n    this.interval = window.setInterval(\n      () => this.handleRender(),\n      this.props.tickRender\n    )\n  }\n\n  componentWillUnmount() {\n    window.clearInterval(this.interval)\n  }\n\n  componentWillReceiveProps(nextProps: ProvidedProps & Props) {\n    this.setState({\n      isDisplaying: true,\n      startx: nextProps.rect.x,\n      starty: nextProps.rect.y,\n      endx: nextProps.rect.x + nextProps.rect.width,\n      endy: nextProps.rect.y + nextProps.rect.height\n    })\n  }\n\n  handleRender = () => {\n    const video = document.getElementById(this.props.idVideo)\n    const canvas = document.getElementById(this.props.idCanvas)\n\n    if (\n      canvas instanceof HTMLCanvasElement &&\n      video instanceof HTMLVideoElement\n    ) {\n      canvas.width = this.props.videoWidth\n      const ctx = canvas.getContext('2d')\n      ctx.drawImage(\n        video,\n        0,\n        0,\n        this.props.videoConstraints.width,\n        this.props.videoConstraints.height,\n        0,\n        0,\n        this.props.videoWidth,\n        this.props.videoHeight\n      )\n      if (this.state.isDisplaying) {\n        ctx.strokeStyle = this.props.rectColor\n        ctx.lineWidth = this.state.isDrawing\n          ? Math.round(this.props.rectLine / 2)\n          : this.props.rectLine\n\n        const { startx, starty, endx, endy } = this.state\n\n        ctx.strokeRect(\n          startx > endx ? endx : startx,\n          starty > endy ? endy : starty,\n          Math.abs(startx - endx),\n          Math.abs(starty - endy)\n        )\n      }\n    }\n  }\n\n  handleMouseDown = event => {\n    const canvas = document.getElementById(this.props.idCanvas)\n    if (canvas instanceof HTMLCanvasElement) {\n      const rect = canvas.getBoundingClientRect()\n      const posx = event.clientX - rect.left\n      const posy = event.clientY - rect.top\n      this.setState({\n        isDisplaying: true,\n        isDrawing: true,\n        startx: posx,\n        starty: posy,\n        endx: posx,\n        endy: posy\n      })\n    }\n  }\n\n  handleMouseUp = () => {\n    this.setState({ isDrawing: false })\n    this.handleGetPosition()\n  }\n\n  handleMouseMove = event => {\n    if (this.state.isDrawing) {\n      const canvas = document.getElementById(this.props.idCanvas)\n      if (canvas instanceof HTMLCanvasElement) {\n        const rect = canvas.getBoundingClientRect()\n        this.setState({\n          endx: event.clientX - rect.left,\n          endy: event.clientY - rect.top\n        })\n      }\n    }\n  }\n\n  handleMouseOut = () => {\n    if (this.state.isDrawing) {\n      this.setState({\n        isDrawing: false,\n        isDisplaying: false\n      })\n    }\n  }\n\n  handleGetPosition = () => {\n    const { startx, starty, endx, endy } = this.state\n    const rect = {\n      x: Math.round(startx > endx ? endx : startx),\n      y: Math.round(starty > endy ? endy : starty),\n      width: Math.abs(startx - endx),\n      height: Math.abs(starty - endy)\n    }\n    this.props.getPosition(rect)\n  }\n\n  render() {\n    return (\n      <div>\n        <Webcam\n          className={this.props.classes.hidden}\n          id={this.props.idVideo}\n          audio={this.props.audio}\n          width={this.props.videoWidth}\n          height={this.props.videoHeight}\n          ref={node => (this.webcam = node)}\n          videoConstraints={this.props.videoConstraints}\n          audioConstraints={this.props.audioConstraints}\n        />\n        <canvas\n          id={this.props.idCanvas}\n          width={this.props.videoWidth}\n          height={this.props.videoHeight}\n          onMouseDown={this.handleMouseDown}\n          onMouseUp={this.handleMouseUp}\n          onMouseMove={this.handleMouseMove}\n          onMouseOut={this.handleMouseOut}\n        />\n      </div>\n    )\n  }\n}\n\nexport default withStyles(styles)(WebcamRectDraw)\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionSetting from '../../actions/setting.action'\nimport * as actionInfo from '../../actions/info.action'\nimport type { Dispatch } from '../../models'\nimport type { StateSetting } from '../../models/setting.model'\nimport type { StateImage } from '../../models/image.model'\nimport type {\n  CanvasRect,\n  CanvasRectError,\n  VideoConstraints,\n  VideoConstraintsError\n} from '../../models/misc.model'\nimport NumberFormat from 'react-number-format'\nimport WebcamRectDraw from '../../componments/WebcamRectDraw'\nimport { validateRect, validateVideo } from '../../helpers/validate.helper'\nimport { environment } from '../../environment'\nimport Layout from '../Layout'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Grid from '@material-ui/core/Grid'\nimport Divider from '@material-ui/core/Divider'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconCamera from '@material-ui/icons/Camera'\nimport IconAccept from '@material-ui/icons/Done'\nimport IconCancel from '@material-ui/icons/Cancel'\nimport IconSensor from '@material-ui/icons/Contacts'\n\nconst imageSetting = require('../../images/setting.jpg')\nconst imageSettingu = require('../../images/uzukisetting.jpg')\n\nconst styles = (theme: Object) => ({\n  formControl: {\n    margin: theme.spacing.unit,\n    width: 160\n  },\n  divider: {\n    marginTop: '10px',\n    marginBottom: '10px'\n  }\n})\n\nconst NumberFormatCustom = (props: any) => {\n  const { inputRef, onChange, ...other } = props\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values: any) => {\n        onChange({\n          target: {\n            value: values.value\n          }\n        })\n      }}\n      allowNegative={false}\n    />\n  )\n}\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  actionsS: Dispatch,\n  actionsI: Dispatch,\n  classes: Object,\n  setting: StateSetting,\n  image: StateImage\n}\n\ntype State = {\n  isPlaying: boolean,\n  rect: CanvasRect,\n  rectError: CanvasRectError,\n  video: VideoConstraints,\n  videoError: VideoConstraintsError\n}\n\nclass Setting extends React.Component<ProvidedProps & Props, State> {\n  constructor(props: ProvidedProps & Props) {\n    super(props)\n    this.state = {\n      isPlaying: false,\n      rect: this.props.setting.rect,\n      rectError: {\n        x: { onoff: false, message: '' },\n        y: { onoff: false, message: '' },\n        width: { onoff: false, message: '' },\n        height: { onoff: false, message: '' }\n      },\n      video: this.props.setting.video,\n      videoError: {\n        width: { onoff: false, message: '' },\n        height: { onoff: false, message: '' }\n      }\n    }\n  }\n\n  // ================================================================================\n  // React event handler functions\n  // ================================================================================\n  handleWebcam = () => {\n    if (this.state.isPlaying) {\n      this.setState({\n        isPlaying: false\n      })\n    } else {\n      this.setState({\n        isPlaying: true\n      })\n    }\n  }\n\n  handleGetPosition = (input: CanvasRect) => {\n    this.setState({ rect: input })\n  }\n\n  handleAccept = () => {\n    this.props.actionsS.modifyRect(this.state.rect)\n    this.props.actionsS.modifyVideo(this.state.video)\n    this.props.actionsI.infoSet({\n      onoff: true,\n      variant: 'info',\n      message: 'Configuration set'\n    })\n  }\n\n  handleCancel = () => {\n    this.setState({\n      rect: this.props.setting.rect,\n      rectError: {\n        x: { onoff: false, message: '' },\n        y: { onoff: false, message: '' },\n        width: { onoff: false, message: '' },\n        height: { onoff: false, message: '' }\n      },\n      video: this.props.setting.video,\n      videoError: {\n        width: { onoff: false, message: '' },\n        height: { onoff: false, message: '' }\n      }\n    })\n  }\n\n  handleInputRect = (column: string) => (event: any) => {\n    if (event.target.value.length > 0) {\n      const value = parseInt(event.target.value)\n      const input = { ...this.state.rect, [column]: value }\n      const error = validateRect(input)\n\n      if (error.isValid) {\n        this.setState({ rect: input, rectError: error.errors })\n        this.props.actionsI.infoSet({\n          onoff: true,\n          variant: 'error',\n          message: 'Invalid inputs'\n        })\n      } else {\n        this.setState({\n          rect: input,\n          rectError: {\n            x: { onoff: false, message: '' },\n            y: { onoff: false, message: '' },\n            width: { onoff: false, message: '' },\n            height: { onoff: false, message: '' }\n          }\n        })\n      }\n    }\n  }\n\n  handleInputVideo = (column: string) => (event: any) => {\n    if (event.target.value.length > 0) {\n      const value = parseInt(event.target.value)\n      const input = { ...this.state.video, [column]: value }\n      const error = validateVideo(input)\n\n      if (error.isValid) {\n        this.setState({ video: input, videoError: error.errors })\n        this.props.actionsI.infoSet({\n          onoff: true,\n          variant: 'error',\n          message: 'Invalid inputs'\n        })\n      } else {\n        this.setState({\n          video: input,\n          videoError: {\n            width: { onoff: false, message: '' },\n            height: { onoff: false, message: '' }\n          }\n        })\n      }\n    }\n  }\n\n  // ================================================================================\n  // React render functions\n  // ================================================================================\n\n  renderButton = () => {\n    const renderWebcamPower = this.state.isPlaying ? (\n      <Tooltip title=\"Webcam stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"secondary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Webcam start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"primary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    )\n\n    return (\n      <div>\n        {renderWebcamPower}\n        <Tooltip title=\"Set configuration\">\n          <IconButton\n            className={this.props.classes.icon}\n            onClick={this.handleAccept}\n            color=\"primary\">\n            <IconAccept />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title=\"Cancel\">\n          <IconButton\n            className={this.props.classes.icon}\n            onClick={this.handleCancel}\n            color=\"primary\">\n            <IconCancel />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title=\"To face recognize sensor\">\n          <Link to=\"/sensor\">\n            <IconButton className={this.props.classes.icon} color=\"primary\">\n              <IconSensor />\n            </IconButton>\n          </Link>\n        </Tooltip>\n      </div>\n    )\n  }\n\n  renderWebCam = () => {\n    if (this.state.isPlaying) {\n      return (\n        <WebcamRectDraw\n          audio={false}\n          videoWidth={environment.videoCanvas.width}\n          videoHeight={environment.videoCanvas.height}\n          videoConstraints={this.props.setting.video}\n          rectColor={'lime'}\n          getPosition={rect => this.handleGetPosition(rect)}\n          rect={this.state.rect}\n        />\n      )\n    } else {\n      return this.props.image.switch ? (\n        <img src={imageSettingu} alt={'setting'} width={640} height={480} />\n      ) : (\n        <img src={imageSetting} alt={'setting'} width={640} height={480} />\n      )\n    }\n  }\n\n  renderInputRect = () => {\n    const listRect = ['x', 'y', 'width', 'height']\n\n    return listRect.reduce((output: any[], data: string, i: number) => {\n      output.push(\n        <TextField\n          id={data}\n          key={data + i.toString()}\n          label={'Rect:' + data}\n          error={this.state.rectError[data].onoff}\n          helperText={this.state.rectError[data].message}\n          className={this.props.classes.formControl}\n          value={this.state.rect[data]}\n          onInput={this.handleInputRect(data)}\n          margin=\"normal\"\n          InputProps={{\n            inputComponent: NumberFormatCustom\n          }}\n        />\n      )\n      return output\n    }, [])\n  }\n\n  renderInputVideo = () => {\n    const listVideo = ['width', 'height']\n\n    return listVideo.reduce((output: any[], data: string, i: number) => {\n      output.push(\n        <TextField\n          id={data}\n          key={data + i.toString()}\n          label={'Video:' + data}\n          error={this.state.videoError[data].onoff}\n          helperText={this.state.videoError[data].message}\n          className={this.props.classes.formControl}\n          value={this.state.video[data]}\n          onInput={this.handleInputVideo(data)}\n          margin=\"normal\"\n          InputProps={{\n            inputComponent: NumberFormatCustom\n          }}\n        />\n      )\n      return output\n    }, [])\n  }\n\n  render() {\n    return (\n      <Layout\n        helmet={true}\n        title={'Camera Settings'}\n        gridNormal={6}\n        gridPhone={10}\n        content={\n          <Card className={this.props.classes.card}>\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                Camera Settings\n              </Typography>\n              <Divider className={this.props.classes.divider} />\n              <Grid\n                container={true}\n                className={this.props.classes.grid}\n                justify=\"center\">\n                {this.renderWebCam()}\n              </Grid>\n              <Divider className={this.props.classes.divider} />\n              {this.renderButton()}\n              <div>{this.renderInputRect()}</div>\n              <div>{this.renderInputVideo()}</div>\n            </CardContent>\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nSetting.propTypes = {\n  classes: PropTypes.object.isRequired,\n  setting: PropTypes.shape({\n    rect: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      width: PropTypes.number,\n      height: PropTypes.number\n    }),\n    video: PropTypes.shape({\n      width: PropTypes.number,\n      height: PropTypes.number\n    })\n  })\n}\n\nconst mapStateToProps = state => {\n  return {\n    setting: state.setting,\n    image: state.image\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsS: bindActionCreators(actionSetting, dispatch),\n    actionsI: bindActionCreators(actionInfo, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(Setting))\n","// @flow\n\n// import Validator from 'validator'\nimport isEmpty from 'is-empty'\nimport type {\n  CanvasRect,\n  CanvasRectError,\n  VideoConstraints,\n  VideoConstraintsError\n} from '../models/misc.model'\n\nexport function validateRect(\n  input: CanvasRect\n): {\n  errors: CanvasRectError,\n  isValid: boolean\n} {\n  let isValid = false\n  const errors = {\n    x: { onoff: false, message: '' },\n    y: { onoff: false, message: '' },\n    width: { onoff: false, message: '' },\n    height: { onoff: false, message: '' }\n  }\n\n  if (isEmpty(input.x)) {\n    errors.x = { onoff: true, message: 'Invalid input' }\n    isValid = true\n  }\n  if (isEmpty(input.y)) {\n    errors.y = { onoff: true, message: 'Invalid input' }\n    isValid = true\n  }\n  if (isEmpty(input.width)) {\n    errors.width = { onoff: true, message: 'Invalid input' }\n    isValid = true\n  }\n  if (isEmpty(input.height)) {\n    errors.height = { onoff: true, message: 'Invalid input' }\n    isValid = true\n  }\n\n  return {\n    errors,\n    isValid: isValid\n  }\n}\n\nexport function validateVideo(\n  input: VideoConstraints\n): {\n  errors: VideoConstraintsError,\n  isValid: boolean\n} {\n  let isValid = false\n  const errors = {\n    width: { onoff: false, message: '' },\n    height: { onoff: false, message: '' }\n  }\n\n  if (isEmpty(input.width)) {\n    errors.width = { onoff: true, message: 'Invalid input' }\n    isValid = true\n  }\n  if (isEmpty(input.height)) {\n    errors.height = { onoff: true, message: 'Invalid input' }\n    isValid = true\n  }\n\n  return {\n    errors,\n    isValid: isValid\n  }\n}\n","// @flow\n\nimport * as faceapi from 'face-api.js'\nimport { environment } from '../environment'\n\nexport const loadModel = async () => {\n  const dev = process.env.NODE_ENV === 'development'\n  if (dev) {\n    if (environment.useTinyFaceDetector) {\n      await faceapi.nets.tinyFaceDetector.loadFromUri(\n        environment.urlDev + 'models'\n      )\n    } else {\n      await faceapi.nets.ssdMobilenetv1.loadFromUri(\n        environment.urlDev + 'models'\n      )\n    }\n    if (environment.useTinyLandmark) {\n      await faceapi.nets.faceLandmark68TinyNet.loadFromUri(\n        environment.urlDev + 'models'\n      )\n    } else {\n      await faceapi.nets.faceLandmark68Net.loadFromUri(\n        environment.urlDev + 'models'\n      )\n    }\n    await faceapi.loadFaceRecognitionModel(environment.urlDev + 'models')\n  } else {\n    if (environment.useTinyFaceDetector) {\n      await faceapi.nets.tinyFaceDetector.loadFromUri(\n        environment.urlProd + 'models'\n      )\n    } else {\n      await faceapi.nets.ssdMobilenetv1.loadFromUri(\n        environment.urlProd + 'models'\n      )\n    }\n    if (environment.useTinyLandmark) {\n      await faceapi.nets.faceLandmark68TinyNet.loadFromUri(\n        environment.urlProd + 'models'\n      )\n    } else {\n      await faceapi.nets.faceLandmark68Net.loadFromUri(\n        environment.urlProd + 'models'\n      )\n    }\n    await faceapi.loadFaceRecognitionModel(environment.urlProd + 'models')\n  }\n}\n\nexport const modelInitial = async (canvasId: string) => {\n  const initial = document.getElementById(canvasId)\n  if (environment.useTinyFaceDetector) {\n    await faceapi\n      .detectAllFaces(\n        initial,\n        new faceapi.TinyFaceDetectorOptions({\n          inputSize: environment.tinyInputSize,\n          scoreThreshold: environment.tinyThreshold\n        })\n      )\n      .withFaceLandmarks(environment.useTinyLandmark)\n  } else {\n    await faceapi\n      .detectAllFaces(\n        initial,\n        new faceapi.SsdMobilenetv1Options({\n          minConfidence: environment.ssdMinConfidence,\n          maxResults: environment.ssdMaxResults\n        })\n      )\n      .withFaceLandmarks(environment.useTinyLandmark)\n  }\n}\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport Layout from './Layout'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst styles = (theme: Object) => ({\n  paper: {\n    borderRadius: '2px',\n    paddingTop: '40px',\n    paddingBottom: '40px',\n    paddingLeft: '40px',\n    paddingRight: '40px'\n  }\n})\n\ntype Props = {\n  classes: Object,\n  helmet: boolean,\n  title: string\n}\n\nconst Loading = (props: Props) => {\n  return (\n    <Layout\n      helmet={props.helmet}\n      title={props.title}\n      content={\n        <Paper className={props.classes.paper}>\n          <Typography>Loading...</Typography>\n          <LinearProgress />\n        </Paper>\n      }\n    />\n  )\n}\n\nLoading.propTypes = {\n  classes: PropTypes.object.isRequired,\n  helmet: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired\n}\n\nexport default withStyles(styles)(Loading)\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionInfo from '../../actions/info.action'\nimport * as actionTrain from '../../actions/train.action'\nimport type { Dispatch } from '../../models'\nimport type { StateTrain } from '../../models/train.model'\nimport * as faceapi from 'face-api.js'\nimport { loadModel } from '../../helpers/model.helper'\nimport Layout from '../Layout'\nimport Loading from '../Loading'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core'\nimport Typography from '@material-ui/core/Typography'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport TextField from '@material-ui/core/TextField'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconSensor from '@material-ui/icons/Contacts'\nimport IconExport from '@material-ui/icons/Archive'\nimport IconImport from '@material-ui/icons/Unarchive'\nimport IconTrain from '@material-ui/icons/Polymer'\nimport IconClear from '@material-ui/icons/HighlightOff'\nimport IconAdd from '@material-ui/icons/AddPhotoAlternate'\nimport IconCamera from '@material-ui/icons/Camera'\nimport IconDelete from '@material-ui/icons/Clear'\n\n// Lazy component\nconst DialogUpload = React.lazy(() => import('./DialogUpload'))\nconst DialogDelete = React.lazy(() => import('./DialogDelete'))\nconst DialogCamera = React.lazy(() => import('./DialogCamera'))\nconst RenderList = React.lazy(() => import('./RenderList'))\n\nconst styles = (theme: Object) => ({\n  divider: {\n    marginTop: '10px',\n    marginBottom: '10px'\n  },\n  imageList: {\n    height: 400\n  },\n  hidden: {\n    display: 'none'\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  train: StateTrain,\n  actionsI: Dispatch,\n  actionsT: Dispatch\n}\n\ntype State = {\n  isLoading: boolean,\n  isBusy: boolean,\n  dialog: {\n    upload: boolean,\n    delete: boolean,\n    camera: boolean\n  },\n  dialogKey: number,\n  processTime: number\n}\n\nclass Train extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    isLoading: true,\n    isBusy: false,\n    processTime: 0,\n    dialog: {\n      upload: false,\n      delete: false,\n      camera: false\n    },\n    dialogKey: 0\n  }\n\n  componentDidMount = async () => {\n    await loadModel()\n    this.setState({ isLoading: false })\n  }\n\n  // ================================================================================\n  // React event handler functions\n  // ================================================================================\n  toggleDialog = (target: string, onoff: boolean, key: number) => () => {\n    this.setState({\n      dialog: { ...this.state.dialog, [target]: onoff },\n      dialogKey: key\n    })\n  }\n\n  handleAccept = (target: string) => (\n    event: SyntheticEvent<HTMLInputElement>\n  ) => {\n    event.preventDefault()\n    switch (target) {\n      case 'delete':\n        this.props.actionsT.faceRemove(this.state.dialogKey)\n        this.setState({\n          dialog: { ...this.state.dialog, [target]: false }\n        })\n        this.props.actionsI.infoSet({\n          onoff: true,\n          variant: 'success',\n          message: 'Image deleted'\n        })\n        break\n      default:\n        break\n    }\n  }\n\n  handleTrain = () => {\n    this.setState({ isBusy: true }, () => this.FaceTrain())\n  }\n\n  handleDataImport = (event: any) => {\n    const files = event.target.files\n    if (files.length > 0) {\n      let fr = new FileReader()\n      fr.onload = e => {\n        this.props.actionsT.dateSave(JSON.parse(e.target.result))\n        this.props.actionsI.infoSet({\n          onoff: true,\n          variant: 'success',\n          message: 'Face file imported'\n        })\n      }\n      fr.readAsText(files.item(0))\n    }\n  }\n\n  handleDataExport = () => {\n    const data =\n      'text/json;charset=utf-8,' +\n      encodeURIComponent(JSON.stringify(this.props.train.data))\n    let downloadAnchorNode = document.createElement('a')\n    downloadAnchorNode.setAttribute('href', 'data:' + data)\n    downloadAnchorNode.setAttribute('download', 'boss.json')\n    downloadAnchorNode.click()\n    downloadAnchorNode.remove()\n  }\n\n  handleDataClear = () => {\n    this.props.actionsI.infoSet({\n      onoff: true,\n      variant: 'info',\n      message: 'Face file cleared'\n    })\n    this.props.actionsT.dataClear()\n  }\n\n  handleFaceClear = () => {\n    this.props.actionsT.faceClear()\n    this.props.actionsI.infoSet({\n      onoff: true,\n      variant: 'info',\n      message: 'Faces cleared'\n    })\n  }\n\n  // ================================================================================\n  // Facec recognition functions\n  // ================================================================================\n  FaceTrain = async () => {\n    const tstart = performance.now()\n    const labeledDescriptors = []\n\n    await Promise.all(\n      this.props.train.face.map(async face => {\n        const descriptors = []\n        const image = await faceapi.fetchImage(face)\n        descriptors.push(await faceapi.computeFaceDescriptor(image))\n\n        if (descriptors.length > 0) {\n          labeledDescriptors.push(\n            new faceapi.LabeledFaceDescriptors('Boss', descriptors)\n          )\n        }\n      })\n    )\n\n    const tend = performance.now()\n    this.setState({\n      isBusy: false,\n      processTime: Math.floor(tend - tstart)\n    })\n\n    if (labeledDescriptors.length > 0) {\n      this.props.actionsT.dateSave(labeledDescriptors)\n      this.props.actionsI.infoSet({\n        onoff: true,\n        variant: 'success',\n        message: 'Training success'\n      })\n    } else {\n      this.props.actionsI.infoSet({\n        onoff: true,\n        variant: 'error',\n        message: 'Training failed'\n      })\n    }\n  }\n\n  // ================================================================================\n  // React render functions\n  // ================================================================================\n\n  render() {\n    const renderButton = (\n      <CardActions>\n        <Tooltip title=\"Add face image from computer\">\n          <IconButton\n            className={this.props.classes.icon}\n            component=\"label\"\n            color=\"primary\"\n            onClick={this.toggleDialog('upload', true, 0)}>\n            <IconAdd />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title=\"Start camera to capture face image\">\n          <IconButton\n            className={this.props.classes.icon}\n            component=\"label\"\n            color=\"primary\"\n            onClick={this.toggleDialog('camera', true, 0)}>\n            <IconCamera />\n          </IconButton>\n        </Tooltip>\n        {this.props.train.face.length > 0 ? (\n          <Tooltip title=\"Clear face image\">\n            <IconButton\n              className={this.props.classes.icon}\n              component=\"label\"\n              color=\"primary\"\n              onClick={this.handleFaceClear}>\n              <IconDelete />\n            </IconButton>\n          </Tooltip>\n        ) : null}\n        <Tooltip title=\"Import face data from computer\">\n          <IconButton\n            className={this.props.classes.icon}\n            component=\"label\"\n            color=\"primary\">\n            <input\n              className={this.props.classes.hidden}\n              type=\"file\"\n              accept=\"application/json\"\n              onChange={this.handleDataImport}\n            />\n            <IconImport />\n          </IconButton>\n        </Tooltip>\n        {this.props.train.data.length > 0 ? (\n          <Tooltip title=\"Export face data to computer\">\n            <IconButton\n              className={this.props.classes.icon}\n              color=\"primary\"\n              onClick={this.handleDataExport}>\n              <IconExport />\n            </IconButton>\n          </Tooltip>\n        ) : null}\n        {this.props.train.data.length > 0 ? (\n          <Tooltip title=\"Clear the face data of the clinet\">\n            <IconButton\n              className={this.props.classes.icon}\n              color=\"primary\"\n              onClick={this.handleDataClear}>\n              <IconClear />\n            </IconButton>\n          </Tooltip>\n        ) : null}\n        {this.props.train.face.length > 0 ? (\n          <Tooltip title=\"Training to get face data\">\n            <IconButton\n              className={this.props.classes.icon}\n              color=\"primary\"\n              onClick={this.handleTrain}>\n              <IconTrain />\n            </IconButton>\n          </Tooltip>\n        ) : null}\n        <Tooltip title=\"To face recognize sensor\">\n          <Link to=\"/sensor\">\n            <IconButton className={this.props.classes.icon} color=\"primary\">\n              <IconSensor />\n            </IconButton>\n          </Link>\n        </Tooltip>\n      </CardActions>\n    )\n\n    if (this.state.isLoading) {\n      return <Loading helmet={true} title={'Face Training'} />\n    }\n\n    return (\n      <Layout\n        helmet={true}\n        title={'Face Training'}\n        gridNormal={8}\n        gridPhone={12}\n        content={\n          <Card className={this.props.classes.card}>\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                Face Training\n              </Typography>\n              <React.Suspense fallback={<Typography>Loading...</Typography>}>\n                <RenderList\n                  faces={this.props.train.face}\n                  toggleDialog={this.toggleDialog}\n                />\n              </React.Suspense>\n            </CardContent>\n            {renderButton}\n            <CardContent>\n              {this.state.processTime > 0 ? (\n                <TextField\n                  label=\"Process time\"\n                  value={this.state.processTime.toString() + ' ms'}\n                />\n              ) : null}\n              {this.state.isBusy ? (\n                <div>\n                  <Typography>Training...</Typography>\n                  <LinearProgress />\n                </div>\n              ) : null}\n            </CardContent>\n            <React.Suspense fallback={<Typography>Loading...</Typography>}>\n              <DialogDelete\n                dialogStatus={this.state.dialog.delete}\n                toggleDialog={this.toggleDialog}\n                imageSrc={this.props.train.face[this.state.dialogKey]}\n                handleAccept={this.handleAccept}\n              />\n              <DialogUpload\n                dialogStatus={this.state.dialog.upload}\n                toggleDialog={this.toggleDialog}\n              />\n              <DialogCamera\n                dialogStatus={this.state.dialog.camera}\n                toggleDialog={this.toggleDialog}\n                handleAccept={this.handleAccept}\n              />\n            </React.Suspense>\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nTrain.propTypes = {\n  classes: PropTypes.object.isRequired,\n  train: PropTypes.shape({\n    face: PropTypes.arrayOf(PropTypes.object),\n    data: PropTypes.arrayOf(PropTypes.object),\n    knn: PropTypes.any\n  }).isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    train: state.train\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsI: bindActionCreators(actionInfo, dispatch),\n    actionsT: bindActionCreators(actionTrain, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(Train))\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionInfo from '../../actions/info.action'\nimport * as actionTrain from '../../actions/train.action'\nimport type { Dispatch } from '../../models'\nimport type { StateTrain } from '../../models/train.model'\nimport * as faceapi from 'face-api.js'\nimport * as tf from '@tensorflow/tfjs-core'\nimport * as knnClassifier from '@tensorflow-models/knn-classifier'\nimport { loadModel } from '../../helpers/model.helper'\nimport Layout from '../Layout'\nimport Loading from '../Loading'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core'\nimport Typography from '@material-ui/core/Typography'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport TextField from '@material-ui/core/TextField'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconSensor from '@material-ui/icons/Contacts'\nimport IconTrain from '@material-ui/icons/Polymer'\nimport IconClear from '@material-ui/icons/HighlightOff'\nimport IconAdd from '@material-ui/icons/AddPhotoAlternate'\nimport IconCamera from '@material-ui/icons/Camera'\nimport IconDelete from '@material-ui/icons/Clear'\n\n// Lazy component\nconst DialogUpload = React.lazy(() => import('./DialogUpload'))\nconst DialogDelete = React.lazy(() => import('./DialogDelete'))\nconst DialogCamera = React.lazy(() => import('./DialogCamera'))\nconst RenderList = React.lazy(() => import('./RenderList'))\n\nconst styles = (theme: Object) => ({\n  divider: {\n    marginTop: '10px',\n    marginBottom: '10px'\n  },\n  imageList: {\n    height: 400\n  },\n  hidden: {\n    display: 'none'\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  train: StateTrain,\n  actionsI: Dispatch,\n  actionsT: Dispatch\n}\n\ntype State = {\n  isLoading: boolean,\n  isBusy: boolean,\n  dialog: {\n    upload: boolean,\n    delete: boolean,\n    camera: boolean\n  },\n  dialogKey: number,\n  processTime: number\n}\n\nclass TrainKNN extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    isLoading: true,\n    isBusy: false,\n    processTime: 0,\n    dialog: {\n      upload: false,\n      delete: false,\n      camera: false\n    },\n    dialogKey: 0\n  }\n\n  componentDidMount = async () => {\n    await loadModel()\n    this.setState({ isLoading: false })\n  }\n\n  // ================================================================================\n  // React event handler functions\n  // ================================================================================\n  toggleDialog = (target: string, onoff: boolean, key: number) => () => {\n    this.setState({\n      dialog: { ...this.state.dialog, [target]: onoff },\n      dialogKey: key\n    })\n  }\n\n  handleAccept = (target: string) => (\n    event: SyntheticEvent<HTMLInputElement>\n  ) => {\n    event.preventDefault()\n    switch (target) {\n      case 'delete':\n        this.props.actionsT.faceRemove(this.state.dialogKey)\n        this.setState({\n          dialog: { ...this.state.dialog, [target]: false }\n        })\n        this.props.actionsI.infoSet({\n          onoff: true,\n          variant: 'success',\n          message: 'Image deleted'\n        })\n        break\n      default:\n        break\n    }\n  }\n\n  handleTrain = () => {\n    this.setState({ isBusy: true }, () => this.FaceTrain())\n  }\n\n  handleDataClear = () => {\n    this.props.actionsI.infoSet({\n      onoff: true,\n      variant: 'info',\n      message: 'Face file cleared'\n    })\n    this.props.actionsT.knnClear()\n  }\n\n  handleFaceClear = () => {\n    this.props.actionsT.faceClear()\n    this.props.actionsI.infoSet({\n      onoff: true,\n      variant: 'info',\n      message: 'Faces cleared'\n    })\n  }\n\n  // ================================================================================\n  // Facec recognition functions\n  // ================================================================================\n  FaceTrain = async () => {\n    const tstart = performance.now()\n    const classifier = knnClassifier.create()\n\n    await Promise.all(\n      this.props.train.face.map(async face => {\n        const image = await faceapi.fetchImage(face)\n        const descriptors = await faceapi.computeFaceDescriptor(image)\n        const tensor = tf.tensor(descriptors)\n        classifier.addExample(tensor, 'Boss')\n      })\n    )\n\n    const tend = performance.now()\n    this.setState({\n      isBusy: false,\n      processTime: Math.floor(tend - tstart)\n    })\n    this.props.actionsT.knnSave(classifier)\n    this.props.actionsI.infoSet({\n      onoff: true,\n      variant: 'success',\n      message: 'Training success'\n    })\n  }\n\n  // ================================================================================\n  // React render functions\n  // ================================================================================\n\n  render() {\n    const renderButton = (\n      <CardActions>\n        <Tooltip title=\"Add face image from computer\">\n          <IconButton\n            className={this.props.classes.icon}\n            component=\"label\"\n            color=\"primary\"\n            onClick={this.toggleDialog('upload', true, 0)}>\n            <IconAdd />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title=\"Start camera to capture face image\">\n          <IconButton\n            className={this.props.classes.icon}\n            component=\"label\"\n            color=\"primary\"\n            onClick={this.toggleDialog('camera', true, 0)}>\n            <IconCamera />\n          </IconButton>\n        </Tooltip>\n        {this.props.train.face.length > 0 ? (\n          <Tooltip title=\"Clear face image\">\n            <IconButton\n              className={this.props.classes.icon}\n              component=\"label\"\n              color=\"primary\"\n              onClick={this.handleFaceClear}>\n              <IconDelete />\n            </IconButton>\n          </Tooltip>\n        ) : null}\n        {this.props.train.data.length > 0 ? (\n          <Tooltip title=\"Clear the face data of the clinet\">\n            <IconButton\n              className={this.props.classes.icon}\n              color=\"primary\"\n              onClick={this.handleDataClear}>\n              <IconClear />\n            </IconButton>\n          </Tooltip>\n        ) : null}\n        {this.props.train.face.length > 0 ? (\n          <Tooltip title=\"Training to get face data\">\n            <IconButton\n              className={this.props.classes.icon}\n              color=\"primary\"\n              onClick={this.handleTrain}>\n              <IconTrain />\n            </IconButton>\n          </Tooltip>\n        ) : null}\n        <Tooltip title=\"To face recognize sensor\">\n          <Link to=\"/sensor\">\n            <IconButton className={this.props.classes.icon} color=\"primary\">\n              <IconSensor />\n            </IconButton>\n          </Link>\n        </Tooltip>\n      </CardActions>\n    )\n\n    if (this.state.isLoading) {\n      return <Loading helmet={true} title={'Face Training'} />\n    }\n\n    return (\n      <Layout\n        helmet={true}\n        title={'Face Training'}\n        gridNormal={8}\n        gridPhone={12}\n        content={\n          <Card className={this.props.classes.card}>\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                Face Training\n              </Typography>\n              <React.Suspense fallback={<Typography>Loading...</Typography>}>\n                <RenderList\n                  faces={this.props.train.face}\n                  toggleDialog={this.toggleDialog}\n                />\n              </React.Suspense>\n            </CardContent>\n            {renderButton}\n            <CardContent>\n              {this.state.processTime > 0 ? (\n                <TextField\n                  label=\"Process time\"\n                  value={this.state.processTime.toString() + ' ms'}\n                />\n              ) : null}\n              {this.state.isBusy ? (\n                <div>\n                  <Typography>Training...</Typography>\n                  <LinearProgress />\n                </div>\n              ) : null}\n            </CardContent>\n            <React.Suspense fallback={<Typography>Loading...</Typography>}>\n              <DialogDelete\n                dialogStatus={this.state.dialog.delete}\n                toggleDialog={this.toggleDialog}\n                imageSrc={this.props.train.face[this.state.dialogKey]}\n                handleAccept={this.handleAccept}\n              />\n              <DialogUpload\n                dialogStatus={this.state.dialog.upload}\n                toggleDialog={this.toggleDialog}\n              />\n              <DialogCamera\n                dialogStatus={this.state.dialog.camera}\n                toggleDialog={this.toggleDialog}\n                handleAccept={this.handleAccept}\n              />\n            </React.Suspense>\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nTrainKNN.propTypes = {\n  classes: PropTypes.object.isRequired,\n  train: PropTypes.shape({\n    face: PropTypes.arrayOf(PropTypes.object),\n    data: PropTypes.arrayOf(PropTypes.object),\n    knn: PropTypes.any\n  }).isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    train: state.train\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsI: bindActionCreators(actionInfo, dispatch),\n    actionsT: bindActionCreators(actionTrain, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(TrainKNN))\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport type { StateImage } from '../../models/image.model'\nimport { Link } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core'\nimport Layout from '../Layout'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconTrain from '@material-ui/icons/Polymer'\nimport IconSettings from '@material-ui/icons/Settings'\nimport Typography from '@material-ui/core/Typography'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nconst imageNotReady = require('../../images/notready.jpg')\nconst imageNotReadyu = require('../../images/uzukinotready.jpg')\n\nconst styles = (theme: Object) => ({})\n\ntype ProvidedProps = {\n  classes: Object\n}\n\ntype Props = {\n  image: StateImage\n}\n\nclass NotReady extends React.Component<ProvidedProps & Props> {\n  render() {\n    return (\n      <Layout\n        helmet={true}\n        title={'Sensor'}\n        content={\n          <Card className={this.props.classes.paper}>\n            {this.props.image.switch ? (\n              <img\n                src={imageNotReadyu}\n                alt={'Not Ready'}\n                width={640}\n                height={480}\n              />\n            ) : (\n              <img\n                src={imageNotReady}\n                alt={'Not Ready'}\n                width={640}\n                height={480}\n              />\n            )}\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                Uzuki\n              </Typography>\n              <Typography component=\"p\">\n                Face data not ready, go traininig first.\n              </Typography>\n            </CardContent>\n            <CardActions>\n              <Tooltip title=\"Upload boss picture and train computer to identify boss.\">\n                <Link to=\"/train\">\n                  <IconButton\n                    className={this.props.classes.icon}\n                    color=\"primary\">\n                    <IconTrain />\n                  </IconButton>\n                </Link>\n              </Tooltip>\n              <Tooltip title=\"Configure your camera to fetch the best vision.\">\n                <Link to=\"/setting\">\n                  <IconButton\n                    className={this.props.classes.icon}\n                    color=\"primary\">\n                    <IconSettings />\n                  </IconButton>\n                </Link>\n              </Tooltip>\n            </CardActions>\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nNotReady.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    image: state.image\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {}\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(NotReady))\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core'\nimport Layout from '../Layout'\nimport Card from '@material-ui/core/Card'\nimport Typography from '@material-ui/core/Typography'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst imageBlack = require('../../images/black.png')\n\nconst styles = (theme: Object) => ({\n  paper: {\n    borderRadius: '2px',\n    paddingTop: '40px',\n    paddingBottom: '40px',\n    paddingLeft: '40px',\n    paddingRight: '40px'\n  },\n  hidden: {\n    display: 'none'\n  }\n})\n\ntype Props = {\n  classes: Object\n}\n\nconst Loading = (props: Props) => {\n  return (\n    <Layout\n      helmet={true}\n      title={'Sensor'}\n      content={\n        <Card className={props.classes.paper}>\n          <Typography>Loading...</Typography>\n          <LinearProgress />\n          <img\n            className={props.classes.hidden}\n            id=\"initial_black\"\n            src={imageBlack}\n            alt=\"initial_black\"\n          />\n        </Card>\n      }\n    />\n  )\n}\n\nLoading.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Loading)\n","// @flow\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\n\nconst styles = (theme: Object) => ({\n  iframe: {\n    width: '1600px',\n    height: '800px'\n  }\n})\n\ntype Props = {\n  classes: Object,\n  dialogStatus: boolean,\n  toggleDialog: (target: string, onoff: boolean) => () => null\n}\n\nconst DialogCover = (props: Props) => {\n  return (\n    <Dialog\n      className={props.classes.root}\n      open={props.dialogStatus}\n      onClose={props.toggleDialog('cover', false)}\n      aria-labelledby=\"select-dialog-title\"\n      aria-describedby=\"select-dialog-description\"\n      maxWidth={'xl'}>\n      <iframe\n        className={props.classes.iframe}\n        title=\"nonsense\"\n        src=\"https://svenstaro.github.io/genact/\"\n      />\n    </Dialog>\n  )\n}\n\nDialogCover.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dialogStatus: PropTypes.bool.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n}\n\nexport default withStyles(styles)(DialogCover)\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionInfo from '../../actions/info.action'\nimport type { Dispatch, RouterHistory } from '../../models'\nimport type { StateSetting } from '../../models/setting.model'\nimport type { StateTrain } from '../../models/train.model'\nimport type { StateImage } from '../../models/image.model'\nimport { withRouter } from 'react-router-dom'\nimport * as faceapi from 'face-api.js'\nimport { createFaceMatcher } from '../../helpers/face.helper'\nimport { loadModel, modelInitial } from '../../helpers/model.helper'\nimport { environment } from '../../environment'\nimport Layout from '../Layout'\nimport { Link } from 'react-router-dom'\nimport WebcamCrop from '../../componments/WebcamCrop'\nimport { withStyles } from '@material-ui/core'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Typography from '@material-ui/core/Typography'\nimport Divider from '@material-ui/core/Divider'\nimport Grid from '@material-ui/core/Grid'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconCamera from '@material-ui/icons/Camera'\nimport IconSettings from '@material-ui/icons/Settings'\nimport IconSensor from '@material-ui/icons/Contacts'\nimport IconDetect from '@material-ui/icons/RecordVoiceOver'\nimport IconCover from '@material-ui/icons/BrightnessHigh'\n\nimport NotReady from './NotReady'\nimport Loading from './Loading'\nimport DialogCover from './DialogCover'\n\nconst imageSensor = require('../../images/sensor.jpg')\n// const imageSensoru = require('../../images/uzukisensor.jpg')\nconst imageSensoru = require('../../images/uzuki404.jpg')\n\nconst styles = (theme: Object) => ({\n  divider: {\n    marginTop: '10px',\n    marginBottom: '10px'\n  },\n  webcamContainer: {\n    position: 'relative'\n  },\n  webcam: {\n    position: 'absolute',\n    top: '0px',\n    left: '0px'\n  },\n  webcamOverlay: {\n    position: 'absolute',\n    top: '0px',\n    left: '0px',\n    zIndex: 10\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object,\n  history: RouterHistory\n}\n\ntype Props = {\n  train: StateTrain,\n  setting: StateSetting,\n  image: StateImage,\n  actionsI: Dispatch\n}\n\ntype State = {\n  isLoading: boolean,\n  isPlaying: boolean,\n  isSensing: boolean,\n  isDetecting: boolean,\n  processTime: number,\n  dialog: {\n    cover: boolean\n  }\n}\n\nclass Sensor extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    isLoading: true,\n    isPlaying: false,\n    isSensing: false,\n    isDetecting: false,\n    processTime: 0,\n    dialog: {\n      cover: false\n    }\n  }\n  interval: number = 0\n  tick: number = 0\n  faceMatcher = null\n\n  componentDidMount = async () => {\n    if (this.props.train.data.length > 0) {\n      await loadModel()\n      await modelInitial('initial_black')\n      this.setState({ isLoading: false })\n    }\n  }\n\n  // ================================================================================\n  // React event handler functions\n  // ================================================================================\n  toggleDialog = (target: string, onoff: boolean) => () => {\n    this.setState({\n      dialog: { ...this.state.dialog, [target]: onoff }\n    })\n  }\n\n  handleWebcam = () => {\n    if (this.state.isPlaying) {\n      this.setState({\n        isPlaying: false,\n        isSensing: false\n      })\n    } else {\n      this.setState({\n        isPlaying: true\n      })\n    }\n  }\n\n  handleSense = async () => {\n    if (this.state.isSensing) {\n      window.clearInterval(this.interval)\n      const canvas = document.getElementById('sensor_webcamcrop_overlay')\n      if (canvas instanceof HTMLCanvasElement) {\n        const ctx = canvas.getContext('2d')\n        ctx.clearRect(\n          0,\n          0,\n          this.props.setting.rect.width * 2,\n          this.props.setting.rect.height * 2\n        )\n      }\n      this.setState({\n        isSensing: false\n      })\n    } else {\n      this.faceMatcher = await createFaceMatcher(this.props.train.data)\n      this.interval = window.setInterval(async () => await this.faceMain(), 10)\n      this.setState({\n        isSensing: true\n      })\n    }\n  }\n\n  handleDetect = () => {\n    if (this.state.isDetecting) {\n      this.setState({\n        isDetecting: false\n      })\n    } else {\n      this.setState({\n        isDetecting: true\n      })\n    }\n  }\n\n  // ================================================================================\n  // Facec recognition functions\n  // ================================================================================\n  faceMain = async () => {\n    const image = document.getElementById('sensor_webcamcrop')\n    const canvas = document.getElementById('sensor_webcamcrop_overlay')\n    if (\n      canvas instanceof HTMLCanvasElement &&\n      image instanceof HTMLCanvasElement\n    ) {\n      await this.faceRecognize(canvas, image)\n      const tend = performance.now()\n      const tickProcess = Math.floor(tend - this.tick).toString() + ' ms'\n      const anchor = { x: 0, y: this.props.setting.rect.height * 2 }\n      const drawOptions = {\n        anchorPosition: 'TOP_LEFT',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        fontColor: 'yellow'\n      }\n      const drawBox = new faceapi.draw.DrawTextField(\n        tickProcess,\n        anchor,\n        drawOptions\n      )\n      drawBox.draw(canvas)\n      this.tick = tend\n    }\n  }\n\n  faceRecognize = async (\n    canvas: HTMLCanvasElement,\n    image: HTMLCanvasElement\n  ) => {\n    const results = await faceapi\n      .detectAllFaces(\n        image,\n        new faceapi.TinyFaceDetectorOptions({\n          inputSize: environment.tinyInputSize,\n          scoreThreshold: environment.tinyThreshold\n        })\n      )\n      .withFaceLandmarks(true)\n      .withFaceDescriptors()\n\n    if (results) {\n      faceapi.matchDimensions(canvas, image)\n      const resizedResults = faceapi.resizeResults(results, image)\n      resizedResults.forEach(({ detection, descriptor }) => {\n        // $flow-disable-line\n        const label = this.faceMatcher.findBestMatch(descriptor).toString()\n        const options = { label }\n        const drawBox = new faceapi.draw.DrawBox(detection.box, options)\n        drawBox.draw(canvas)\n\n        if (this.state.isDetecting) {\n          const labelSplit = label.split(' ')\n          if (labelSplit[0] === 'Boss') {\n            this.setState({\n              isPlaying: false,\n              isSensing: false,\n              isDetecting: false,\n              dialog: {\n                cover: true\n              }\n            })\n          }\n        }\n      })\n    } else {\n      const context = canvas.getContext('2d')\n      context.clearRect(0, 0, canvas.width, canvas.height)\n    }\n  }\n\n  // ================================================================================\n  // React render functions\n  // ================================================================================\n  renderButton = () => {\n    const renderWebcamPower = this.state.isPlaying ? (\n      <Tooltip title=\"Webcam stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"secondary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Webcam start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"primary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    )\n\n    const renderRecognize = this.state.isSensing ? (\n      <Tooltip title=\"Recognize stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleSense}\n          color=\"secondary\">\n          <IconSensor />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Recognize start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleSense}\n          color=\"primary\">\n          <IconSensor />\n        </IconButton>\n      </Tooltip>\n    )\n\n    const renderDetect = this.state.isDetecting ? (\n      <Tooltip title=\"Detect stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleDetect}\n          color=\"secondary\">\n          <IconDetect />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Detect start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleDetect}\n          color=\"primary\">\n          <IconDetect />\n        </IconButton>\n      </Tooltip>\n    )\n\n    return (\n      <CardActions>\n        {renderWebcamPower}\n        <Tooltip title=\"Camera settings\">\n          <Link to=\"/setting\">\n            <IconButton className={this.props.classes.icon} color=\"primary\">\n              <IconSettings />\n            </IconButton>\n          </Link>\n        </Tooltip>\n        {this.state.isPlaying ? renderRecognize : null}\n        {this.state.isSensing ? renderDetect : null}\n        <Tooltip title=\"Start non-sense generator\">\n          <IconButton\n            className={this.props.classes.icon}\n            onClick={this.toggleDialog('cover', true)}\n            color=\"primary\">\n            <IconCover />\n          </IconButton>\n        </Tooltip>\n      </CardActions>\n    )\n  }\n\n  renderWebCam = () => {\n    const { setting } = this.props\n\n    if (this.state.isPlaying) {\n      return (\n        <div className={this.props.classes.webcamContainer}>\n          <WebcamCrop\n            className={this.props.classes.webcam}\n            audio={false}\n            idCanvas={'sensor_webcamcrop'}\n            videoWidth={setting.rect.width * 2}\n            videoHeight={setting.rect.height * 2}\n            videoConstraints={setting.video}\n            cropx={setting.rect.x}\n            cropy={setting.rect.y}\n            cropwidth={setting.rect.width}\n            cropheight={setting.rect.height}\n          />\n          <canvas\n            className={this.props.classes.webcamOverlay}\n            id={'sensor_webcamcrop_overlay'}\n            width={setting.rect.width * 2}\n            height={setting.rect.height * 2}\n          />\n        </div>\n      )\n    } else {\n      return this.props.image.switch ? (\n        <img src={imageSensoru} alt={'sensor'} width={640} height={480} />\n      ) : (\n        <img src={imageSensor} alt={'sensor'} width={640} height={480} />\n      )\n    }\n  }\n\n  render() {\n    if (this.props.train.data.length === 0) return <NotReady />\n    if (this.state.isLoading) return <Loading />\n\n    return (\n      <Layout\n        helmet={true}\n        title={'Sensor'}\n        gridNormal={6}\n        gridPhone={10}\n        content={\n          <Card className={this.props.classes.card}>\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                Sensor\n              </Typography>\n              <Divider className={this.props.classes.divider} />\n              <Grid\n                container={true}\n                className={this.props.classes.grid}\n                justify=\"center\">\n                {this.renderWebCam()}\n              </Grid>\n              <Divider className={this.props.classes.divider} />\n            </CardContent>\n            {this.renderButton()}\n            <DialogCover\n              dialogStatus={this.state.dialog.cover}\n              toggleDialog={this.toggleDialog}\n            />\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nSensor.propTypes = {\n  classes: PropTypes.object.isRequired,\n  setting: PropTypes.shape({\n    rect: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      width: PropTypes.number,\n      height: PropTypes.number\n    }),\n    video: PropTypes.shape({\n      width: PropTypes.number,\n      height: PropTypes.number\n    })\n  }),\n  train: PropTypes.shape({\n    face: PropTypes.arrayOf(PropTypes.object),\n    data: PropTypes.arrayOf(PropTypes.object),\n    knn: PropTypes.any\n  }).isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    train: state.train,\n    setting: state.setting,\n    image: state.image\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsI: bindActionCreators(actionInfo, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(withRouter(Sensor)))\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as actionInfo from '../../actions/info.action'\nimport type { Dispatch, RouterHistory } from '../../models'\nimport type { StateSetting } from '../../models/setting.model'\nimport type { StateTrain } from '../../models/train.model'\nimport type { StateImage } from '../../models/image.model'\nimport { withRouter } from 'react-router-dom'\nimport * as faceapi from 'face-api.js'\nimport * as tf from '@tensorflow/tfjs-core'\nimport { loadModel } from '../../helpers/model.helper'\nimport { environment } from '../../environment'\nimport Layout from '../Layout'\nimport { Link } from 'react-router-dom'\nimport WebcamCrop from '../../componments/WebcamCrop'\nimport { withStyles } from '@material-ui/core'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Typography from '@material-ui/core/Typography'\nimport Divider from '@material-ui/core/Divider'\nimport Grid from '@material-ui/core/Grid'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport IconButton from '@material-ui/core/IconButton'\nimport IconCamera from '@material-ui/icons/Camera'\nimport IconSettings from '@material-ui/icons/Settings'\nimport IconSensor from '@material-ui/icons/Contacts'\nimport IconDetect from '@material-ui/icons/RecordVoiceOver'\nimport IconCover from '@material-ui/icons/BrightnessHigh'\n\nimport NotReady from './NotReady'\nimport Loading from './Loading'\nimport DialogCover from './DialogCover'\n\nconst imageSensor = require('../../images/sensork.jpg')\n// const imageSensoru = require('../../images/uzukisensor.jpg')\nconst imageSensoru = require('../../images/uzuki404.jpg')\n\nconst styles = (theme: Object) => ({\n  divider: {\n    marginTop: '10px',\n    marginBottom: '10px'\n  },\n  webcamContainer: {\n    position: 'relative'\n  },\n  webcam: {\n    position: 'absolute',\n    top: '0px',\n    left: '0px'\n  },\n  webcamOverlay: {\n    position: 'absolute',\n    top: '0px',\n    left: '0px',\n    zIndex: 10\n  }\n})\n\ntype ProvidedProps = {\n  classes: Object,\n  history: RouterHistory\n}\n\ntype Props = {\n  train: StateTrain,\n  setting: StateSetting,\n  image: StateImage,\n  actionsI: Dispatch\n}\n\ntype State = {\n  isLoading: boolean,\n  isPlaying: boolean,\n  isSensing: boolean,\n  isDetecting: boolean,\n  processTime: number,\n  dialog: {\n    cover: boolean\n  }\n}\n\nclass Sensor extends React.Component<ProvidedProps & Props, State> {\n  state = {\n    isLoading: true,\n    isPlaying: false,\n    isSensing: false,\n    isDetecting: false,\n    processTime: 0,\n    dialog: {\n      cover: false\n    }\n  }\n  interval: number = 0\n  tick: number = 0\n  classifier = null\n\n  componentDidMount = async () => {\n    if (this.props.train.knn) {\n      await loadModel()\n      this.setState({ isLoading: false })\n      this.classifier = this.props.train.knn\n    }\n  }\n\n  // ================================================================================\n  // React event handler functions\n  // ================================================================================\n  toggleDialog = (target: string, onoff: boolean) => () => {\n    this.setState({\n      dialog: { ...this.state.dialog, [target]: onoff }\n    })\n  }\n\n  handleWebcam = () => {\n    if (this.state.isPlaying) {\n      this.setState({\n        isPlaying: false,\n        isSensing: false\n      })\n    } else {\n      this.setState({\n        isPlaying: true\n      })\n    }\n  }\n\n  handleSense = async () => {\n    if (this.state.isSensing) {\n      window.clearInterval(this.interval)\n      const canvas = document.getElementById('sensor_webcamcrop_overlay')\n      if (canvas instanceof HTMLCanvasElement) {\n        const ctx = canvas.getContext('2d')\n        ctx.clearRect(\n          0,\n          0,\n          this.props.setting.rect.width * 2,\n          this.props.setting.rect.height * 2\n        )\n      }\n      this.setState({\n        isSensing: false\n      })\n    } else {\n      this.interval = window.setInterval(async () => await this.faceMain(), 10)\n      this.setState({\n        isSensing: true\n      })\n    }\n  }\n\n  handleDetect = () => {\n    if (this.state.isDetecting) {\n      this.setState({\n        isDetecting: false\n      })\n    } else {\n      this.setState({\n        isDetecting: true\n      })\n    }\n  }\n\n  // ================================================================================\n  // Facec recognition functions\n  // ================================================================================\n  faceMain = async () => {\n    const image = document.getElementById('sensor_webcamcrop')\n    const canvas = document.getElementById('sensor_webcamcrop_overlay')\n    if (\n      canvas instanceof HTMLCanvasElement &&\n      image instanceof HTMLCanvasElement\n    ) {\n      await this.faceRecognize(canvas, image)\n      const tend = performance.now()\n      const tickProcess = Math.floor(tend - this.tick).toString() + ' ms'\n      const anchor = { x: 0, y: this.props.setting.rect.height * 2 }\n      const drawOptions = {\n        anchorPosition: 'TOP_LEFT',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        fontColor: 'yellow'\n      }\n      const drawBox = new faceapi.draw.DrawTextField(\n        tickProcess,\n        anchor,\n        drawOptions\n      )\n      drawBox.draw(canvas)\n      this.tick = tend\n    }\n  }\n\n  faceRecognize = async (\n    canvas: HTMLCanvasElement,\n    image: HTMLCanvasElement\n  ) => {\n    const results = await faceapi\n      .detectAllFaces(\n        image,\n        new faceapi.TinyFaceDetectorOptions({\n          inputSize: environment.tinyInputSize,\n          scoreThreshold: environment.tinyThreshold\n        })\n      )\n      .withFaceLandmarks(true)\n      .withFaceDescriptors()\n\n    if (results) {\n      faceapi.matchDimensions(canvas, image)\n      const resizedResults = faceapi.resizeResults(results, image)\n      resizedResults.forEach( async ({ detection, descriptor }) => {\n        const tensor = tf.tensor(descriptor)\n        const predict = await this.classifier.predictClass(tensor, 1)\n        const label = predict.label.toString()\n        const options = { label }\n        const drawBox = new faceapi.draw.DrawBox(detection.box, options)\n        drawBox.draw(canvas)\n\n        if (this.state.isDetecting) {\n          const labelSplit = label.split(' ')\n          if (labelSplit[0] === 'Boss') {\n            this.setState({\n              isPlaying: false,\n              isSensing: false,\n              isDetecting: false,\n              dialog: {\n                cover: true\n              }\n            })\n          }\n        }\n      })\n    } else {\n      const context = canvas.getContext('2d')\n      context.clearRect(0, 0, canvas.width, canvas.height)\n    }\n  }\n\n  // ================================================================================\n  // React render functions\n  // ================================================================================\n  renderButton = () => {\n    const renderWebcamPower = this.state.isPlaying ? (\n      <Tooltip title=\"Webcam stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"secondary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Webcam start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleWebcam}\n          color=\"primary\">\n          <IconCamera />\n        </IconButton>\n      </Tooltip>\n    )\n\n    const renderRecognize = this.state.isSensing ? (\n      <Tooltip title=\"Recognize stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleSense}\n          color=\"secondary\">\n          <IconSensor />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Recognize start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleSense}\n          color=\"primary\">\n          <IconSensor />\n        </IconButton>\n      </Tooltip>\n    )\n\n    const renderDetect = this.state.isDetecting ? (\n      <Tooltip title=\"Detect stop\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleDetect}\n          color=\"secondary\">\n          <IconDetect />\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <Tooltip title=\"Detect start\">\n        <IconButton\n          className={this.props.classes.icon}\n          onClick={this.handleDetect}\n          color=\"primary\">\n          <IconDetect />\n        </IconButton>\n      </Tooltip>\n    )\n\n    return (\n      <CardActions>\n        {renderWebcamPower}\n        <Tooltip title=\"Camera settings\">\n          <Link to=\"/setting\">\n            <IconButton className={this.props.classes.icon} color=\"primary\">\n              <IconSettings />\n            </IconButton>\n          </Link>\n        </Tooltip>\n        {this.state.isPlaying ? renderRecognize : null}\n        {this.state.isSensing ? renderDetect : null}\n        <Tooltip title=\"Start non-sense generator\">\n          <IconButton\n            className={this.props.classes.icon}\n            onClick={this.toggleDialog('cover', true)}\n            color=\"primary\">\n            <IconCover />\n          </IconButton>\n        </Tooltip>\n      </CardActions>\n    )\n  }\n\n  renderWebCam = () => {\n    const { setting } = this.props\n\n    if (this.state.isPlaying) {\n      return (\n        <div className={this.props.classes.webcamContainer}>\n          <WebcamCrop\n            className={this.props.classes.webcam}\n            audio={false}\n            idCanvas={'sensor_webcamcrop'}\n            videoWidth={setting.rect.width * 2}\n            videoHeight={setting.rect.height * 2}\n            videoConstraints={setting.video}\n            cropx={setting.rect.x}\n            cropy={setting.rect.y}\n            cropwidth={setting.rect.width}\n            cropheight={setting.rect.height}\n          />\n          <canvas\n            className={this.props.classes.webcamOverlay}\n            id={'sensor_webcamcrop_overlay'}\n            width={setting.rect.width * 2}\n            height={setting.rect.height * 2}\n          />\n        </div>\n      )\n    } else {\n      return this.props.image.switch ? (\n        <img src={imageSensoru} alt={'sensor'} width={640} height={480} />\n      ) : (\n        <img src={imageSensor} alt={'sensor'} width={640} height={480} />\n      )\n    }\n  }\n\n  render() {\n    if (this.props.train.knn === 0) return <NotReady />\n    if (this.state.isLoading) return <Loading />\n\n    return (\n      <Layout\n        helmet={true}\n        title={'Sensor'}\n        gridNormal={6}\n        gridPhone={10}\n        content={\n          <Card className={this.props.classes.card}>\n            <CardContent>\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                Sensor\n              </Typography>\n              <Divider className={this.props.classes.divider} />\n              <Grid\n                container={true}\n                className={this.props.classes.grid}\n                justify=\"center\">\n                {this.renderWebCam()}\n              </Grid>\n              <Divider className={this.props.classes.divider} />\n            </CardContent>\n            {this.renderButton()}\n            <DialogCover\n              dialogStatus={this.state.dialog.cover}\n              toggleDialog={this.toggleDialog}\n            />\n          </Card>\n        }\n      />\n    )\n  }\n}\n\nSensor.propTypes = {\n  classes: PropTypes.object.isRequired,\n  setting: PropTypes.shape({\n    rect: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      width: PropTypes.number,\n      height: PropTypes.number\n    }),\n    video: PropTypes.shape({\n      width: PropTypes.number,\n      height: PropTypes.number\n    })\n  }),\n  train: PropTypes.shape({\n    face: PropTypes.arrayOf(PropTypes.object),\n    data: PropTypes.arrayOf(PropTypes.object),\n    knn: PropTypes.any\n  }).isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    train: state.train,\n    setting: state.setting,\n    image: state.image\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actionsI: bindActionCreators(actionInfo, dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(withRouter(Sensor)))\n","// @flow\n\nimport * as React from 'react'\nimport PropTypes from 'prop-types'\nimport { Route, Switch } from 'react-router'\nimport { history } from './configureStore'\nimport { ConnectedRouter } from 'connected-react-router'\nimport { withStyles } from '@material-ui/core'\nimport withRoot from './withRoot'\n\nimport Header from './pages/Header'\nimport Ribbon from './pages/Ribbon'\nimport Footer from './pages/Footer'\nimport NotFound from './pages/NotFound'\n\nimport Home from './pages/Home/Home'\nimport Setting from './pages/Setting/Setting'\nimport Train from './pages/Train/Train'\nimport TrainKNN from './pages/Train/TrainKNN'\nimport Sensor from './pages/Sensor/Sensor'\nimport SensorKNN from './pages/Sensor/SensorKNN'\n\nconst styles = (theme: Object) => ({\n  root: {\n    display: 'flex',\n    minHeight: '100vh',\n    flexDirection: 'column'\n  },\n  content: {\n    marginTop: '-55vh',\n    marginBottom: '60px',\n    flex: 1\n  }\n})\n\nconst routes = () => {\n  return (\n    <Switch>\n      <Route exact={true} path=\"/\" component={Home} />\n      <Route exact={true} path=\"/home\" component={Home} />\n      <Route exact={true} path=\"/setting\" component={Setting} />\n      <Route exact={true} path=\"/train\" component={Train} />\n      <Route exact={true} path=\"/traink\" component={TrainKNN} />\n      <Route exact={true} path=\"/sensor\" component={Sensor} />\n      <Route exact={true} path=\"/sensork\" component={SensorKNN} />\n      <Route component={NotFound} />\n    </Switch>\n  )\n}\n\ntype Props = {\n  classes: Object\n}\n\nconst App = (props: Props) => {\n  return (\n    <ConnectedRouter history={history}>\n      <div className={props.classes.root}>\n        <Header />\n        <Ribbon />\n        <div className={props.classes.content}>{routes()}</div>\n        <Footer />\n      </div>\n    </ConnectedRouter>\n  )\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withRoot(withStyles(styles)(App))\n","import * as React from 'react'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport App from './App'\nimport Typography from '@material-ui/core/Typography'\nimport { persistor, store } from './configureStore'\n\nconst ReduxRoot = () => {\n  return (\n    <Provider store={store}>\n      <PersistGate\n        loading={<Typography>Loading...</Typography>}\n        persistor={persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  )\n}\n\nexport default ReduxRoot\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import 'core-js/stable'\nimport 'regenerator-runtime/runtime'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport ReduxRoot from './ReduxRoot'\nimport registerServiceWorker from './serviceWorker'\nimport * as ReactGA from 'react-ga'\nimport { environment } from './environment'\n\nconst rootEl = document.getElementById('uzuki')\nReactDOM.render(<ReduxRoot />, rootEl)\n\nReactGA.initialize(environment.GoogleAnalyticsID)\nReactGA.pageview(window.location.pathname + window.location.search)\n\nif (module.hot) {\n  module.hot.accept('./ReduxRoot', () => {\n    const NextApp = require('./ReduxRoot').default\n    ReactDOM.render(<NextApp />, rootEl)\n  })\n}\n\nregisterServiceWorker()\n"],"sourceRoot":""}