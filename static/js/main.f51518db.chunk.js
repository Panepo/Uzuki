(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{119:function(e,A,t){"use strict";t.d(A,"a",function(){return o}),t.d(A,"c",function(){return l}),t.d(A,"b",function(){return p});var a=t(11),n=t.n(a),r=t(43),i=t(22),s=t(16);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(n.a.mark(function e(A){var t;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(A.map(function(e){var A=[];return e._descriptors.forEach(function(e){var t=Object.values(e);A.push(new Float32Array(t))}),new i.b(e._label,A)}));case 2:return t=e.sent,e.abrupt("return",new i.a(t));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e,A){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(n.a.mark(function e(A,t){var a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.a.useTinyFaceDetector){e.next=10;break}return a=i.f(A,new i.d({inputSize:s.a.tinyInputSize,scoreThreshold:s.a.tinyThreshold})),t&&t.expressionsEnabled&&(a=a.withFaceExpressions()),t&&(t.landmarksEnabled||t.descriptorsEnabled)&&(a=a.withFaceLandmarks(s.a.useTinyLandmark)),t&&t.descriptorsEnabled&&(a=a.withFaceDescriptors()),e.next=7,a;case 7:return e.abrupt("return",e.sent);case 10:return r=i.f(A,new i.c({minConfidence:s.a.ssdMinConfidence,maxResults:s.a.ssdMaxResults})),t&&t.expressionsEnabled&&(r=r.withFaceExpressions()),t&&(t.landmarksEnabled||t.descriptorsEnabled)&&(r=r.withFaceLandmarks(s.a.useTinyLandmark)),t&&t.descriptorsEnabled&&(r=r.withFaceDescriptors()),e.next=16,r;case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e,A){var t=document.getElementById(e);if(t instanceof HTMLCanvasElement){var a=document.createElement("canvas");a.width=t.width,a.height=t.height;var n=a.getContext("2d");return n.drawImage(t,0,0,a.width,a.height),n.getImageData(A.x,A.y,A.width,A.height)}return null}},141:function(e,A,t){"use strict";t.d(A,"a",function(){return a});var a={INFO_SET:"INFO_SET",INFO_CLOSE:"INFO_CLOSE"}},16:function(e,A,t){"use strict";t.d(A,"a",function(){return n});var a=t(34),n=new function e(){Object(a.a)(this,e),this.title="Uzuki",this.urlDev="/",this.urlProd="https://panepo.github.io/Uzuki/",this.GithubLink="https://github.com/Panepo/Uzuki",this.GoogleAnalyticsID="UA-106126363-3",this.ColorMenuIcon="#ff6699",this.ColorRibbon="linear-gradient(165deg, #ff6699 20%, #ffccdc 90%)",this.videoCanvas={width:640,height:360},this.useTinyFaceDetector=!0,this.useTinyLandmark=!0,this.tinyInputSize=160,this.tinyThreshold=.5,this.ssdMinConfidence=.5,this.ssdMaxResults=10};Object.freeze(n)},202:function(e,A){},204:function(e,A,t){"use strict";t.r(A),t.d(A,"faceAdd",function(){return n}),t.d(A,"faceRemove",function(){return r}),t.d(A,"faceClear",function(){return i}),t.d(A,"dateSave",function(){return s}),t.d(A,"dataClear",function(){return o}),t.d(A,"knnSave",function(){return c}),t.d(A,"knnClear",function(){return l});t(202);var a=t(61);function n(e){return{type:a.a.TRAIN_FACE_ADD,payload:e}}function r(e){return{type:a.a.TRAIN_FACE_REMOVE,payload:e}}function i(){return{type:a.a.TRAIN_FACE_CLEAR,payload:null}}function s(e){return{type:a.a.TRAIN_DATA_SAVE,payload:e}}function o(){return{type:a.a.TRAIN_DATA_CLEAR,payload:null}}function c(e){return{type:a.a.TRAIN_KNN_SAVE,payload:e}}function l(){return{type:a.a.TRAIN_KNN_CLEAR,payload:null}}},221:function(e,A,t){"use strict";var a=t(34),n=t(39),r=t(41),i=t(40),s=t(42),o=t(0),c=t(224),l=t(29),u=function(e){function A(){var e,t;Object(a.a)(this,A);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(i.a)(A)).call.apply(e,[this].concat(s)))).interval=0,t.handleRender=function(){var e=document.getElementById(t.props.idVideo),A=document.getElementById(t.props.idCanvas);if(A instanceof HTMLCanvasElement&&e instanceof HTMLVideoElement){var a=A.getContext("2d"),n=Math.round(t.props.videoConstraints.width/640),r=Math.round(t.props.videoConstraints.height/360);a.drawImage(e,t.props.cropx*n,t.props.cropy*r,t.props.cropwidth*n,t.props.cropheight*r,0,0,t.props.videoWidth,t.props.videoHeight)}},t}return Object(s.a)(A,e),Object(n.a)(A,[{key:"componentDidMount",value:function(){var e=this;this.interval=window.setInterval(function(){return e.handleRender()},this.props.tickRender)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return o.createElement("div",null,o.createElement(c.a,{className:this.props.classes.hidden,id:this.props.idVideo,audio:this.props.audio,width:1280,height:720,ref:function(A){return e.webcam=A},videoConstraints:this.props.videoConstraints,audioConstraints:this.props.audioConstraints}),o.createElement("canvas",{id:this.props.idCanvas,width:this.props.videoWidth,height:this.props.videoHeight}))}}]),A}(o.Component);u.defaultProps={idVideo:"react-webcam-crop",idCanvas:"react-webcam-crop-canvas",videoWidth:640,videoHeight:360,tickRender:100,audio:!1,cropx:0,cropy:0,cropwidth:640,cropheight:360},A.a=Object(l.withStyles)(function(e){return{hidden:{display:"none"}}})(u)},224:function(e,A,t){"use strict";t.d(A,"a",function(){return h});var a=t(34),n=t(39),r=t(41),i=t(40),s=t(42),o=t(0),c=t.n(o),l=t(5),u=t.n(l);var p=u.a.oneOfType([u.a.string,u.a.arrayOf(u.a.string),u.a.shape({exact:u.a.oneOfType([u.a.string,u.a.arrayOf(u.a.string)])}),u.a.shape({ideal:u.a.oneOfType([u.a.string,u.a.arrayOf(u.a.string)])})]),d=u.a.oneOfType([u.a.shape({exact:u.a.bool}),u.a.shape({ideal:u.a.bool})]),m=u.a.oneOfType([u.a.number,u.a.shape({exact:u.a.number,ideal:u.a.number,min:u.a.number,max:u.a.number})]),g=m,h=(u.a.shape({deviceId:p,groupId:p,autoGainControl:d,channelCount:m,latency:g,noiseSuppression:d,sampleRate:m,sampleSize:m,volume:g}),u.a.shape({deviceId:p,groupId:p,aspectRatio:g,facingMode:p,frameRate:g,height:m,width:m}),function(e){function A(){var e;return Object(a.a)(this,A),(e=Object(r.a)(this,Object(i.a)(A).call(this))).state={hasUserMedia:!1},e}return Object(s.a)(A,e),Object(n.a)(A,[{key:"componentDidMount",value:function(){(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)&&(A.mountedInstances.push(this),this.state.hasUserMedia||A.userMediaRequested||this.requestUserMedia())}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.audioConstraints)===JSON.stringify(this.props.audioConstraints)&&JSON.stringify(e.videoConstraints)===JSON.stringify(this.props.videoConstraints)||this.requestUserMedia()}},{key:"componentWillUnmount",value:function(){var e=A.mountedInstances.indexOf(this);A.mountedInstances.splice(e,1),A.userMediaRequested=!1,0===A.mountedInstances.length&&this.state.hasUserMedia&&(this.stream.getVideoTracks&&this.stream.getAudioTracks?(this.stream.getVideoTracks().map(function(e){return e.stop()}),this.stream.getAudioTracks().map(function(e){return e.stop()})):this.stream.stop(),window.URL.revokeObjectURL(this.state.src))}},{key:"getScreenshot",value:function(){if(!this.state.hasUserMedia)return null;var e=this.getCanvas();return e&&e.toDataURL(this.props.screenshotFormat,this.props.screenshotQuality)}},{key:"getCanvas",value:function(){if(!this.state.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var e=document.createElement("canvas"),A=this.video.videoWidth/this.video.videoHeight,t=this.props.minScreenshotWidth||this.video.clientWidth,a=t/A;this.props.minScreenshotHeight&&a<this.props.minScreenshotHeight&&(t=(a=this.props.minScreenshotHeight)*A),e.width=t,e.height=a,this.canvas=e,this.ctx=e.getContext("2d")}var n=this.ctx,r=this.canvas;return n.imageSmoothingEnabled=this.props.imageSmoothing,n.drawImage(this.video,this.props.clipx,this.props.clipy,this.props.clipwidth,this.props.clipheight,0,0,r.width,r.height),r}},{key:"requestUserMedia",value:function(){var e=this;navigator.getUserMedia=navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var t=function(t,a){var n={video:a||!0};e.props.audio&&(n.audio=t||!0),navigator.mediaDevices.getUserMedia(n).then(function(e){A.mountedInstances.forEach(function(A){return A.handleUserMedia(null,e)})}).catch(function(e){A.mountedInstances.forEach(function(A){return A.handleUserMedia(e)})})};if("mediaDevices"in navigator)t(this.props.audioConstraints,this.props.videoConstraints);else{var a=function(e){return{optional:[{sourceId:e}]}},n=function(e){var A=(e||{}).deviceId;return"string"===typeof A?A:Array.isArray(A)&&A.length>0?A[0]:"object"===typeof A&&A.ideal?A.ideal:null};MediaStreamTrack.getSources(function(A){var r=null,i=null;A.forEach(function(e){"audio"===e.kind?r=e.id:"video"===e.kind&&(i=e.id)});var s=n(e.props.audioConstraints);s&&(r=s);var o=n(e.props.videoConstraints);o&&(i=o),t(a(r),a(i))})}A.userMediaRequested=!0}},{key:"handleUserMedia",value:function(e,A){if(e)return this.setState({hasUserMedia:!1}),void this.props.onUserMediaError(e);this.stream=A;try{this.video.srcObject=A,this.setState({hasUserMedia:!0})}catch(t){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(A)})}this.props.onUserMedia()}},{key:"render",value:function(){var e=this;return c.a.createElement("video",{autoPlay:!0,id:this.props.id,width:this.props.width,height:this.props.height,src:this.state.src,muted:this.props.audio,className:this.props.className,playsInline:!0,style:this.props.style,ref:function(A){e.video=A}})}}]),A}(o.Component));h.defaultProps={id:"react-webcam",audio:!0,className:"",height:480,imageSmoothing:!0,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",width:640,screenshotQuality:.92},h.mountedInstances=[],h.userMediaRequested=!1},232:function(e,A,t){e.exports=t.p+"static/media/uzuki404.df9f82f4.jpg"},489:function(e,A,t){e.exports=t(960)},61:function(e,A,t){"use strict";t.d(A,"a",function(){return a});var a={TRAIN_FACE_ADD:"TRAIN_FACE_ADD",TRAIN_FACE_REMOVE:"TRAIN_FACE_REMOVE",TRAIN_FACE_CLEAR:"TRAIN_FACE_CLEAR",TRAIN_DATA_SAVE:"TRAIN_DATA_SAVE",TRAIN_DATA_CLEAR:"TRAIN_DATA_CLEAR",TRAIN_KNN_SAVE:"TRAIN_KNN_SAVE",TRAIN_KNN_CLEAR:"TRAIN_KNN_CLEAR"}},833:function(e,A,t){e.exports=t.p+"static/media/404.ae654961.jpg"},839:function(e,A,t){e.exports=t.p+"static/media/uzukihome.44d46098.jpg"},84:function(e,A,t){"use strict";t.r(A),t.d(A,"infoSet",function(){return n}),t.d(A,"infoClose",function(){return r});t(202);var a=t(141);function n(e){return{type:a.a.INFO_SET,payload:e}}function r(){return{type:a.a.INFO_CLOSE,payload:null}}},842:function(e,A,t){e.exports=t.p+"static/media/setting.fc73b925.jpg"},843:function(e,A,t){e.exports=t.p+"static/media/uzukisetting.417112d7.jpg"},871:function(e,A){},873:function(e,A){},906:function(e,A){},907:function(e,A){},952:function(e,A){},954:function(e,A,t){e.exports=t.p+"static/media/notready.89639fb4.jpg"},955:function(e,A,t){e.exports=t.p+"static/media/uzukinotready.07a51fdc.jpg"},956:function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAALQCAYAAADPfd1WAAAUgklEQVR4nO3YQQ0AIBDAsAP/nkEFIVlaBXtvzcwZAAAAACBp/w4AAAAAAN4xAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAICwC0cpBp8Rbaq9AAAAAElFTkSuQmCC"},958:function(e,A,t){e.exports=t.p+"static/media/sensor.d130849f.jpg"},959:function(e,A,t){e.exports=t.p+"static/media/sensork.4139200b.jpg"},960:function(e,A,t){"use strict";t.r(A);var a={};t.r(a),t.d(a,"initialState",function(){return j}),t.d(a,"info",function(){return S});var n={};t.r(n),t.d(n,"initialState",function(){return N}),t.d(n,"setting",function(){return T});var r={};t.r(r),t.d(r,"train",function(){return R});var i={};t.r(i),t.d(i,"initialState",function(){return L}),t.d(i,"image",function(){return F});var s={};t.r(s),t.d(s,"imageSwitch",function(){return BA});var o={};t.r(o),t.d(o,"modifyVideo",function(){return XA}),t.d(o,"modifyRect",function(){return ZA});t(490),t(708);var c=t(0),l=t.n(c),u=t(63),p=t.n(u),d=t(47),m=t(409),g=t(51),h=t(76),f=t(35),E=t(344),M=t(293),w=t(410),D=t(297),C=t(411),v=(t(412),t(30)),b=t(171),I=t(24);function y(e,A){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0;return A.hasOwnProperty(a.type)?A[a.type](t,a):t}}var x,O,Q,k=t(141),j={onoff:!1,variant:"info",message:""},S=y(j,(x={},Object(I.a)(x,k.a.INFO_SET,function(e,A){return A.payload}),Object(I.a)(x,k.a.INFO_CLOSE,function(e,A){return Object(v.a)({},e,{onoff:!1})}),x)),B={SETTING_VIDEO:"SETTING_VIDEO",SETTING_RECT:"SETTING_RECT"},N={rect:{x:100,y:100,width:100,height:100},video:{width:1280,height:720}},T=y(N,(O={},Object(I.a)(O,B.SETTING_VIDEO,function(e,A){return Object(v.a)({},e,{video:A.payload})}),Object(I.a)(O,B.SETTING_RECT,function(e,A){return Object(v.a)({},e,{rect:A.payload})}),O)),z=t(61),R=y({face:[],data:[],knn:null},(Q={},Object(I.a)(Q,z.a.TRAIN_FACE_ADD,function(e,A){return Object(v.a)({},e,{face:e.face.concat(A.payload)})}),Object(I.a)(Q,z.a.TRAIN_FACE_REMOVE,function(e,A){return e.face.splice(A.payload,1),e}),Object(I.a)(Q,z.a.TRAIN_FACE_CLEAR,function(e,A){return Object(v.a)({},e,{face:[]})}),Object(I.a)(Q,z.a.TRAIN_DATA_SAVE,function(e,A){return Object(v.a)({},e,{data:A.payload})}),Object(I.a)(Q,z.a.TRAIN_DATA_CLEAR,function(e,A){return Object(v.a)({},e,{data:[]})}),Object(I.a)(Q,z.a.TRAIN_KNN_SAVE,function(e,A){return Object(v.a)({},e,{knn:A.payload})}),Object(I.a)(Q,z.a.TRAIN_KNN_CLEAR,function(e,A){return Object(v.a)({},e,{knn:null})}),Q)),_={IMAGE_SWITCH:"IMAGE_SWITCH"},L={switch:!1},F=y(L,Object(I.a)({},_.IMAGE_SWITCH,function(e,A){return Object(v.a)({},e,{switch:A.payload})})),P=function(e){return Object(f.combineReducers)(Object(v.a)({router:Object(b.b)(e)},a,n,r,i))},U=(Object(w.createLogger)(),Object(h.a)({basename:"/Uzuki"})),W={key:"root",version:1,storage:C,whitelist:["setting","image"]},V=Object(D.a)(W,P(U)),H=Object(f.applyMiddleware)(M.a,Object(E.a)(U));var G=Object(f.createStore)(V,{},H),K=Object(D.b)(G),q=t(29),J=t(292),Y=t.n(J),X=t(414),Z=t.n(X),$=t(212),ee=t.n($),Ae=(t(722),Object(q.createMuiTheme)({palette:{primary:Y.a,secondary:Z.a},typography:{useNextVariants:!0}}));var te=function(e){return function(A){return l.a.createElement(q.MuiThemeProvider,{theme:Ae},l.a.createElement(ee.a,null),l.a.createElement(e,A))}},ae=t(34),ne=t(39),re=t(41),ie=t(40),se=t(42),oe=t(56),ce=t(216),le=t.n(ce),ue=t(218),pe=t.n(ue),de=t(10),me=t.n(de),ge=t(416),he=t.n(ge),fe=t(217),Ee=t.n(fe),Me=t(169),we=t.n(Me),De=t(213),Ce=t.n(De),ve=t(215),be=t.n(ve),Ie=t(214),ye=t.n(Ie),xe=t(415),Oe=t.n(xe),Qe=t(17),ke=t.n(Qe),je=t(111),Se=t.n(je),Be=[{text:"Home",link:"/home"},{text:"Setting",link:"/setting"},{text:"Train",link:"/train"},{text:"Sensor",link:"/sensor"}],Ne=[{text:"BossSensor",link:"https://github.com/Hironsan/BossSensor"},{text:"face-api.js",link:"https://github.com/justadudewhohacks/face-api.js"},{text:"Tensorflow",link:"https://www.tensorflow.org/"},{text:"Tensorflow.js",link:"https://js.tensorflow.org/"},{text:"React",link:"https://facebook.github.io/react/"},{text:"Redux",link:"http://redux.js.org/"},{text:"Material Design Lite",link:"https://getmdl.io/"},{text:"Material-UI",link:"https://material-ui.com/"},{text:"Uzuki",link:"https://github.com/Panepo/Uzuki"}],Te=t(16),ze=function(e){function A(){var e,t;Object(ae.a)(this,A);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(re.a)(this,(e=Object(ie.a)(A)).call.apply(e,[this].concat(n)))).state={drawer:!1},t.toggleDrawer=function(e,A){return function(){t.setState(Object(I.a)({},e,A))}},t}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"render",value:function(){var e=this.props.classes,A=Be.map(function(e){return c.createElement(oe.a,{to:e.link,key:e.text},c.createElement(Se.a,{color:"primary"},e.text))}),t=c.createElement(we.a,null,Ne.map(function(e){return c.createElement(Ce.a,{button:!0,divider:!0,key:e.text,component:"a",href:e.link},c.createElement(ye.a,null,c.createElement(Oe.a,{color:"secondary"})),c.createElement(be.a,{primary:e.text}))}));return c.createElement("header",{className:e.root},c.createElement(le.a,{position:"static",color:"inherit",className:e.appBar},c.createElement(Ee.a,{className:e.drawer,open:this.state.drawer,onClose:this.toggleDrawer("drawer",!1)},c.createElement(ke.a,{className:e.drawerTitle,variant:"h6",color:"inherit",noWrap:!0},"Reference"),c.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer("drawer",!1),onKeyDown:this.toggleDrawer("drawer",!1)},t)),c.createElement(pe.a,null,c.createElement(me.a,{className:e.menuButton,color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer("drawer",!0)},c.createElement(he.a,null)),c.createElement(ke.a,{variant:"h6",color:"inherit",className:e.grow,noWrap:!0},Te.a.title),A)))}}]),A}(c.Component),Re=Object(q.withStyles)(function(e){return{root:{},appBar:{position:"relative"},button:{margin:e.spacing.unit},drawer:{color:"#616161"},drawerTitle:{textAlign:"center",marginTop:20,marginBottom:10},grow:{flexGrow:1},menuButton:{color:Te.a.ColorMenuIcon,marginLeft:-12,marginRight:20}}})(ze),_e=Object(q.withStyles)(function(e){return{root:{width:"100%",height:"60vh",background:Te.a.ColorRibbon}}})(function(e){return l.a.createElement("div",{className:e.classes.root})}),Le=Object(q.withStyles)(function(e){return{root:{background:"#424242",height:"60px",width:"100%"},text:{color:"#BDBDBD",fontSize:"13px",paddingLeft:"40px",paddingTop:"20px"}}})(function(e){return l.a.createElement("footer",{className:e.classes.root},l.a.createElement(ke.a,{className:e.classes.text},"Copyright \xa9 Panepo@Github 2019 All Rights Reserved."))}),Fe=t(84),Pe=t(417),Ue=t.n(Pe),We=t(83),Ve=t(139),He=!0;var Ge=t(58),Ke=t.n(Ge),qe=t(219),Je=t.n(qe),Ye=t(230),Xe=t(12),Ze=t.n(Xe),$e=t(170),eA=t.n($e),AA=t(418),tA=t.n(AA),aA=t(420),nA=t.n(aA),rA=t(421),iA=t.n(rA),sA=t(425),oA=t.n(sA),cA=t(419),lA=t.n(cA),uA=t(422),pA=t.n(uA),dA=t(424),mA=t.n(dA),gA=t(423),hA=t.n(gA),fA={success:tA.a,warning:lA.a,error:nA.a,info:iA.a},EA=Object(q.withStyles)(function(e){return{success:{backgroundColor:pA.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:hA.a[900]},warning:{backgroundColor:mA.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var A=e.classes,t=e.className,a=e.message,n=e.onClose,r=e.variant,i=Object(Ye.a)(e,["classes","className","message","onClose","variant"]),s=fA[r];return c.createElement(eA.a,Object.assign({className:Ze()(A[r],t),"aria-describedby":"client-snackbar",message:c.createElement("span",{id:"client-snackbar",className:A.message},c.createElement(s,{className:Ze()(A.icon,A.iconVariant)}),a),action:[c.createElement(me.a,{key:"close","aria-label":"Close",color:"inherit",className:A.close,onClick:n},c.createElement(oA.a,{className:A.icon}))]},i))}),MA=function(e){function A(){var e,t;Object(ae.a)(this,A);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(re.a)(this,(e=Object(ie.a)(A)).call.apply(e,[this].concat(n)))).handleInfoClose=function(e,A){"clickaway"!==A&&t.props.actionsI.infoClose()},t}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"render",value:function(){var e,A=l.a.createElement(Ue.a,null,l.a.createElement("meta",{charset:"utf-8"}),l.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),l.a.createElement("meta",{name:"author",content:"Panepo@github"}),l.a.createElement("link",{rel:"manifest",href:"./manifest.json"}),l.a.createElement("link",{rel:"shortcut icon",href:"./favicon.ico"}),l.a.createElement("title",null,this.props.title+" | "+Te.a.title));return l.a.createElement("main",{className:this.props.classes.root},this.props.helmet?A:null,l.a.createElement(Je.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.props.info.onoff,autoHideDuration:6e3,onClose:this.handleInfoClose},l.a.createElement(EA,{onClose:this.handleInfoClose,variant:this.props.info.variant,message:this.props.info.message})),l.a.createElement(Ke.a,{container:!0,className:this.props.classes.grid,justify:"center"},l.a.createElement(Ke.a,{item:!0,xs:(e=this.props.width,He&&Object(Ve.isWidthDown)("xs",e)?this.props.gridPhone:this.props.gridNormal)},this.props.content)))}}]),A}(l.a.Component);MA.defaultProps={helmet:!1,title:"title",gridNormal:4,gridPhone:8};var wA=Object(d.c)(function(e){return{info:e.info}},function(e){return{actionsI:Object(f.bindActionCreators)(Fe,e)}})(Object(We.a)()(Object(q.withStyles)(function(e){return{root:{flexGrow:1,width:"100%"}}})(MA))),DA=t(48),CA=t.n(DA),vA=t(67),bA=t.n(vA),IA=t(57),yA=t.n(IA),xA=t(100),OA=t.n(xA),QA=t(833),kA=t(232),jA=function(e){function A(){return Object(ae.a)(this,A),Object(re.a)(this,Object(ie.a)(A).apply(this,arguments))}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"render",value:function(){return l.a.createElement(wA,{helmet:!0,title:"File Not Found",content:l.a.createElement(CA.a,{className:this.props.classes.card},l.a.createElement(OA.a,null,this.props.image.switch?l.a.createElement("img",{src:kA,alt:"404",width:640,height:480}):l.a.createElement("img",{src:QA,alt:"404",width:640,height:480})),l.a.createElement(yA.a,null,l.a.createElement(ke.a,{variant:"h5",component:"h2",gutterBottom:!0},"File Not Found")),l.a.createElement(bA.a,null,l.a.createElement(oe.a,{to:"/home"},l.a.createElement(Se.a,{color:"primary"},"Home"))))})}}]),A}(l.a.Component),SA=Object(d.c)(function(e){return{image:e.image}},function(e){return{}})(Object(q.withStyles)(function(e){return{card:{minWidth:275}}})(jA));t(202);function BA(e){return{type:_.IMAGE_SWITCH,payload:e}}var NA=t(140),TA=t.n(NA),zA=t(109),RA=t.n(zA),_A=t(108),LA=t.n(_A),FA=t(68),PA=t.n(FA),UA=t(223),WA=t.n(UA),VA=t(426),HA=t.n(VA),GA=t(231),KA=Object(q.withStyles)(function(e){return{root:{}}})(function(e){return l.a.createElement(Ke.a,{container:!0,className:e.classes.grid,justify:"center"},l.a.createElement(GA.a,{href:Te.a.GithubLink+"/subscription","data-icon":"octicon-eye","data-size":"large","aria-label":"Watch "+Te.a.title+" on GitHub"},"Watch"),l.a.createElement(GA.a,{href:Te.a.GithubLink,"data-icon":"octicon-star","data-size":"large","aria-label":"Star "+Te.a.title+" on GitHub"},"Star"),l.a.createElement(GA.a,{href:Te.a.GithubLink+"/fork","data-icon":"octicon-repo-forked","data-size":"large","aria-label":"Fork "+Te.a.title+" on GitHub"},"Fork"))}),qA=t(839),JA=function(e){function A(){var e,t;Object(ae.a)(this,A);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(re.a)(this,(e=Object(ie.a)(A)).call.apply(e,[this].concat(n)))).handleRedirect=function(e){return function(){t.props.history.push("/"+e)}},t.toggleImage=function(e){return function(){t.props.actionsI.imageSwitch(e)}},t}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"render",value:function(){var e=c.createElement(CA.a,{className:this.props.classes.card},c.createElement(OA.a,{onClick:this.handleRedirect("train")},c.createElement(TA.a,{avatar:c.createElement(RA.a,{color:"primary"}),title:c.createElement(ke.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Train"),subheader:"Upload boss picture and train computer to identify boss.",action:this.props.train.data.length>0?c.createElement(WA.a,{className:this.props.classes.icon2}):null}))),A=c.createElement(CA.a,{className:this.props.classes.card},c.createElement(OA.a,{onClick:this.handleRedirect("setting")},c.createElement(TA.a,{avatar:c.createElement(LA.a,{color:"primary"}),title:c.createElement(ke.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Setting"),subheader:"Configure your camera to fetch the best vision."}))),t=c.createElement(CA.a,{className:this.props.classes.card},c.createElement(OA.a,{onClick:this.handleRedirect("sensor")},c.createElement(TA.a,{avatar:c.createElement(PA.a,{color:"primary"}),title:c.createElement(ke.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Sensor"),subheader:"Start the sensor to detect if your boss is approaching."})));return c.createElement(wA,{helmet:!0,title:"Home",gridNormal:10,gridPhone:12,content:c.createElement(Ke.a,{container:!0,className:this.props.classes.grid,spacing:16,justify:"center"},this.props.image.switch?c.createElement(Ke.a,{item:!0,xs:8},c.createElement(CA.a,null,c.createElement(OA.a,null,c.createElement("img",{src:qA,alt:"Uzuki"})))):null,c.createElement(Ke.a,{item:!0,xs:4},A,e,this.props.train.data.length>0?t:null,c.createElement(KA,null)))})}}]),A}(c.Component),YA=Object(d.c)(function(e){return{image:e.image,train:e.train}},function(e){return{actionsI:Object(f.bindActionCreators)(s,e)}})(Object(q.withStyles)(function(e){return{card:{minWidth:275,marginBottom:e.spacing.unit},icon2:{color:HA.a[500]}}})(Object(g.f)(JA)));function XA(e){return{type:B.SETTING_VIDEO,payload:e}}function ZA(e){return{type:B.SETTING_RECT,payload:e}}var $A=t(427),et=t.n($A),At=t(224),tt=function(e){function A(){var e,t;Object(ae.a)(this,A);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(re.a)(this,(e=Object(ie.a)(A)).call.apply(e,[this].concat(n)))).state={isDrawing:!1,isDisplaying:!!t.props.rect,startx:t.props.rect?t.props.rect.x:0,starty:t.props.rect?t.props.rect.y:0,endx:t.props.rect?t.props.rect.x+t.props.rect.width:0,endy:t.props.rect?t.props.rect.y+t.props.rect.height:0},t.interval=0,t.handleRender=function(){var e=document.getElementById(t.props.idVideo),A=document.getElementById(t.props.idCanvas);if(A instanceof HTMLCanvasElement&&e instanceof HTMLVideoElement){A.width=t.props.videoWidth;var a=A.getContext("2d");if(a.drawImage(e,0,0,t.props.videoConstraints.width,t.props.videoConstraints.height,0,0,t.props.videoWidth,t.props.videoHeight),t.state.isDisplaying){a.strokeStyle=t.props.rectColor,a.lineWidth=t.state.isDrawing?Math.round(t.props.rectLine/2):t.props.rectLine;var n=t.state,r=n.startx,i=n.starty,s=n.endx,o=n.endy;a.strokeRect(r>s?s:r,i>o?o:i,Math.abs(r-s),Math.abs(i-o))}}},t.handleMouseDown=function(e){var A=document.getElementById(t.props.idCanvas);if(A instanceof HTMLCanvasElement){var a=A.getBoundingClientRect(),n=e.clientX-a.left,r=e.clientY-a.top;t.setState({isDisplaying:!0,isDrawing:!0,startx:n,starty:r,endx:n,endy:r})}},t.handleMouseUp=function(){t.setState({isDrawing:!1}),t.handleGetPosition()},t.handleMouseMove=function(e){if(t.state.isDrawing){var A=document.getElementById(t.props.idCanvas);if(A instanceof HTMLCanvasElement){var a=A.getBoundingClientRect();t.setState({endx:e.clientX-a.left,endy:e.clientY-a.top})}}},t.handleMouseOut=function(){t.state.isDrawing&&t.setState({isDrawing:!1,isDisplaying:!1})},t.handleGetPosition=function(){var e=t.state,A=e.startx,a=e.starty,n=e.endx,r=e.endy,i={x:Math.round(A>n?n:A),y:Math.round(a>r?r:a),width:Math.abs(A-n),height:Math.abs(a-r)};t.props.getPosition(i)},t}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"componentDidMount",value:function(){var e=this;this.interval=window.setInterval(function(){return e.handleRender()},this.props.tickRender)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"componentWillReceiveProps",value:function(e){this.setState({isDisplaying:!0,startx:e.rect.x,starty:e.rect.y,endx:e.rect.x+e.rect.width,endy:e.rect.y+e.rect.height})}},{key:"render",value:function(){var e=this;return c.createElement("div",null,c.createElement(At.a,{className:this.props.classes.hidden,id:this.props.idVideo,audio:this.props.audio,width:this.props.videoWidth,height:this.props.videoHeight,ref:function(A){return e.webcam=A},videoConstraints:this.props.videoConstraints,audioConstraints:this.props.audioConstraints}),c.createElement("canvas",{id:this.props.idCanvas,width:this.props.videoWidth,height:this.props.videoHeight,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}))}}]),A}(c.Component);tt.defaultProps={idVideo:"react-webcam-rect",idCanvas:"react-webcam-rect-canvas",videoWidth:640,videoHeight:360,tickRender:100,audio:!1,rectx:0,recty:0,rectwidth:640,rectheight:360,rectColor:"yellow",rectLine:4};var at=Object(q.withStyles)(function(e){return{hidden:{display:"none"}}})(tt),nt=t(120),rt=t.n(nt);var it=t(99),st=t.n(it),ot=t(88),ct=t.n(ot),lt=t(13),ut=t.n(lt),pt=t(75),dt=t.n(pt),mt=t(299),gt=t.n(mt),ht=t(842),ft=t(843),Et=function(e){var A=e.inputRef,t=e.onChange,a=Object(Ye.a)(e,["inputRef","onChange"]);return c.createElement(et.a,Object.assign({},a,{getInputRef:A,onValueChange:function(e){t({target:{value:e.value}})},allowNegative:!1}))},Mt=function(e){function A(e){var t;return Object(ae.a)(this,A),(t=Object(re.a)(this,Object(ie.a)(A).call(this,e))).handleWebcam=function(){t.state.isPlaying?t.setState({isPlaying:!1}):t.setState({isPlaying:!0})},t.handleGetPosition=function(e){t.setState({rect:e})},t.handleAccept=function(){t.props.actionsS.modifyRect(t.state.rect),t.props.actionsS.modifyVideo(t.state.video),t.props.actionsI.infoSet({onoff:!0,variant:"info",message:"Configuration set"})},t.handleCancel=function(){t.setState({rect:t.props.setting.rect,rectError:{x:{onoff:!1,message:""},y:{onoff:!1,message:""},width:{onoff:!1,message:""},height:{onoff:!1,message:""}},video:t.props.setting.video,videoError:{width:{onoff:!1,message:""},height:{onoff:!1,message:""}}})},t.handleInputRect=function(e){return function(A){if(A.target.value.length>0){var a=parseInt(A.target.value),n=Object(v.a)({},t.state.rect,Object(I.a)({},e,a)),r=function(e){var A=!1,t={x:{onoff:!1,message:""},y:{onoff:!1,message:""},width:{onoff:!1,message:""},height:{onoff:!1,message:""}};return rt()(e.x)&&(t.x={onoff:!0,message:"Invalid input"},A=!0),rt()(e.y)&&(t.y={onoff:!0,message:"Invalid input"},A=!0),rt()(e.width)&&(t.width={onoff:!0,message:"Invalid input"},A=!0),rt()(e.height)&&(t.height={onoff:!0,message:"Invalid input"},A=!0),{errors:t,isValid:A}}(n);r.isValid?(t.setState({rect:n,rectError:r.errors}),t.props.actionsI.infoSet({onoff:!0,variant:"error",message:"Invalid inputs"})):t.setState({rect:n,rectError:{x:{onoff:!1,message:""},y:{onoff:!1,message:""},width:{onoff:!1,message:""},height:{onoff:!1,message:""}}})}}},t.handleInputVideo=function(e){return function(A){if(A.target.value.length>0){var a=parseInt(A.target.value),n=Object(v.a)({},t.state.video,Object(I.a)({},e,a)),r=function(e){var A=!1,t={width:{onoff:!1,message:""},height:{onoff:!1,message:""}};return rt()(e.width)&&(t.width={onoff:!0,message:"Invalid input"},A=!0),rt()(e.height)&&(t.height={onoff:!0,message:"Invalid input"},A=!0),{errors:t,isValid:A}}(n);r.isValid?(t.setState({video:n,videoError:r.errors}),t.props.actionsI.infoSet({onoff:!0,variant:"error",message:"Invalid inputs"})):t.setState({video:n,videoError:{width:{onoff:!1,message:""},height:{onoff:!1,message:""}}})}}},t.renderButton=function(){var e=t.state.isPlaying?c.createElement(ut.a,{title:"Webcam stop"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleWebcam,color:"secondary"},c.createElement(dt.a,null))):c.createElement(ut.a,{title:"Webcam start"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleWebcam,color:"primary"},c.createElement(dt.a,null)));return c.createElement("div",null,e,c.createElement(ut.a,{title:"Set configuration"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleAccept,color:"primary"},c.createElement(WA.a,null))),c.createElement(ut.a,{title:"Cancel"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleCancel,color:"primary"},c.createElement(gt.a,null))),c.createElement(ut.a,{title:"To face recognize sensor"},c.createElement(oe.a,{to:"/sensor"},c.createElement(me.a,{className:t.props.classes.icon,color:"primary"},c.createElement(PA.a,null)))))},t.renderWebCam=function(){return t.state.isPlaying?c.createElement(at,{audio:!1,videoWidth:Te.a.videoCanvas.width,videoHeight:Te.a.videoCanvas.height,videoConstraints:t.props.setting.video,rectColor:"lime",getPosition:function(e){return t.handleGetPosition(e)},rect:t.state.rect}):t.props.image.switch?c.createElement("img",{src:ft,alt:"setting",width:640,height:480}):c.createElement("img",{src:ht,alt:"setting",width:640,height:480})},t.renderInputRect=function(){return["x","y","width","height"].reduce(function(e,A,a){return e.push(c.createElement(st.a,{id:A,key:A+a.toString(),label:"Rect:"+A,error:t.state.rectError[A].onoff,helperText:t.state.rectError[A].message,className:t.props.classes.formControl,value:t.state.rect[A],onInput:t.handleInputRect(A),margin:"normal",InputProps:{inputComponent:Et}})),e},[])},t.renderInputVideo=function(){return["width","height"].reduce(function(e,A,a){return e.push(c.createElement(st.a,{id:A,key:A+a.toString(),label:"Video:"+A,error:t.state.videoError[A].onoff,helperText:t.state.videoError[A].message,className:t.props.classes.formControl,value:t.state.video[A],onInput:t.handleInputVideo(A),margin:"normal",InputProps:{inputComponent:Et}})),e},[])},t.state={isPlaying:!1,rect:t.props.setting.rect,rectError:{x:{onoff:!1,message:""},y:{onoff:!1,message:""},width:{onoff:!1,message:""},height:{onoff:!1,message:""}},video:t.props.setting.video,videoError:{width:{onoff:!1,message:""},height:{onoff:!1,message:""}}},t}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"render",value:function(){return c.createElement(wA,{helmet:!0,title:"Camera Settings",gridNormal:6,gridPhone:10,content:c.createElement(CA.a,{className:this.props.classes.card},c.createElement(yA.a,null,c.createElement(ke.a,{variant:"h5",component:"h2",gutterBottom:!0},"Camera Settings"),c.createElement(ct.a,{className:this.props.classes.divider}),c.createElement(Ke.a,{container:!0,className:this.props.classes.grid,justify:"center"},this.renderWebCam()),c.createElement(ct.a,{className:this.props.classes.divider}),this.renderButton(),c.createElement("div",null,this.renderInputRect()),c.createElement("div",null,this.renderInputVideo())))})}}]),A}(c.Component),wt=Object(d.c)(function(e){return{setting:e.setting,image:e.image}},function(e){return{actionsS:Object(f.bindActionCreators)(o,e),actionsI:Object(f.bindActionCreators)(Fe,e)}})(Object(q.withStyles)(function(e){return{formControl:{margin:e.spacing.unit,width:160},divider:{marginTop:"10px",marginBottom:"10px"}}})(Mt)),Dt=t(11),Ct=t.n(Dt),vt=t(43),bt=t(204),It=t(22),yt=function(){var e=Object(vt.a)(Ct.a.mark(function e(){return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!1,e.next=20;break;case 5:e.next=9;break;case 7:return e.next=9,It.k.ssdMobilenetv1.loadFromUri(Te.a.urlDev+"models");case 9:if(!Te.a.useTinyLandmark){e.next=14;break}return e.next=12,It.k.faceLandmark68TinyNet.loadFromUri(Te.a.urlDev+"models");case 12:e.next=16;break;case 14:return e.next=16,It.k.faceLandmark68Net.loadFromUri(Te.a.urlDev+"models");case 16:return e.next=18,It.i(Te.a.urlDev+"models");case 18:e.next=36;break;case 20:if(!Te.a.useTinyFaceDetector){e.next=25;break}return e.next=23,It.k.tinyFaceDetector.loadFromUri(Te.a.urlProd+"models");case 23:e.next=27;break;case 25:return e.next=27,It.k.ssdMobilenetv1.loadFromUri(Te.a.urlProd+"models");case 27:if(!Te.a.useTinyLandmark){e.next=32;break}return e.next=30,It.k.faceLandmark68TinyNet.loadFromUri(Te.a.urlProd+"models");case 30:e.next=34;break;case 32:return e.next=34,It.k.faceLandmark68Net.loadFromUri(Te.a.urlProd+"models");case 34:return e.next=36,It.i(Te.a.urlProd+"models");case 36:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),xt=t(93),Ot=t.n(xt),Qt=t(94),kt=t.n(Qt),jt=Object(q.withStyles)(function(e){return{paper:{borderRadius:"2px",paddingTop:"40px",paddingBottom:"40px",paddingLeft:"40px",paddingRight:"40px"}}})(function(e){return l.a.createElement(wA,{helmet:e.helmet,title:e.title,content:l.a.createElement(Ot.a,{className:e.classes.paper},l.a.createElement(ke.a,null,"Loading..."),l.a.createElement(kt.a,null))})}),St=t(429),Bt=t.n(St),Nt=t(428),Tt=t.n(Nt),zt=t(227),Rt=t.n(zt),_t=t(220),Lt=t.n(_t),Ft=t(226),Pt=t.n(Ft),Ut=c.lazy(function(){return Promise.all([t.e(3),t.e(4)]).then(t.bind(null,979))}),Wt=c.lazy(function(){return t.e(2).then(t.bind(null,976))}),Vt=c.lazy(function(){return t.e(1).then(t.bind(null,977))}),Ht=c.lazy(function(){return t.e(0).then(t.bind(null,978))}),Gt=function(e){function A(){var e,t;Object(ae.a)(this,A);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(re.a)(this,(e=Object(ie.a)(A)).call.apply(e,[this].concat(n)))).state={isLoading:!0,isBusy:!1,processTime:0,dialog:{upload:!1,delete:!1,camera:!1},dialogKey:0},t.componentDidMount=Object(vt.a)(Ct.a.mark(function e(){return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt();case 2:t.setState({isLoading:!1});case 3:case"end":return e.stop()}},e)})),t.toggleDialog=function(e,A,a){return function(){t.setState({dialog:Object(v.a)({},t.state.dialog,Object(I.a)({},e,A)),dialogKey:a})}},t.handleAccept=function(e){return function(A){switch(A.preventDefault(),e){case"delete":t.props.actionsT.faceRemove(t.state.dialogKey),t.setState({dialog:Object(v.a)({},t.state.dialog,Object(I.a)({},e,!1))}),t.props.actionsI.infoSet({onoff:!0,variant:"success",message:"Image deleted"})}}},t.handleTrain=function(){t.setState({isBusy:!0},function(){return t.FaceTrain()})},t.handleDataImport=function(e){var A=e.target.files;if(A.length>0){var a=new FileReader;a.onload=function(e){t.props.actionsT.dateSave(JSON.parse(e.target.result)),t.props.actionsI.infoSet({onoff:!0,variant:"success",message:"Face file imported"})},a.readAsText(A.item(0))}},t.handleDataExport=function(){var e="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t.props.train.data)),A=document.createElement("a");A.setAttribute("href","data:"+e),A.setAttribute("download","boss.json"),A.click(),A.remove()},t.handleDataClear=function(){t.props.actionsI.infoSet({onoff:!0,variant:"info",message:"Face file cleared"}),t.props.actionsT.dataClear()},t.handleFaceClear=function(){t.props.actionsT.faceClear(),t.props.actionsI.infoSet({onoff:!0,variant:"info",message:"Faces cleared"})},t.FaceTrain=Object(vt.a)(Ct.a.mark(function e(){var A,a,n;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A=performance.now(),a=[],e.next=4,Promise.all(t.props.train.face.map(function(){var e=Object(vt.a)(Ct.a.mark(function e(A){var t,n;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,It.h(A);case 3:return n=e.sent,e.t0=t,e.next=7,It.e(n);case 7:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),t.length>0&&a.push(new It.b("Boss",t));case 10:case"end":return e.stop()}},e)}));return function(A){return e.apply(this,arguments)}}()));case 4:n=performance.now(),t.setState({isBusy:!1,processTime:Math.floor(n-A)}),a.length>0?(t.props.actionsT.dateSave(a),t.props.actionsI.infoSet({onoff:!0,variant:"success",message:"Training success"})):t.props.actionsI.infoSet({onoff:!0,variant:"error",message:"Training failed"});case 7:case"end":return e.stop()}},e)})),t}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"render",value:function(){var e=c.createElement(bA.a,null,c.createElement(ut.a,{title:"Add face image from computer"},c.createElement(me.a,{className:this.props.classes.icon,component:"label",color:"primary",onClick:this.toggleDialog("upload",!0,0)},c.createElement(Lt.a,null))),c.createElement(ut.a,{title:"Start camera to capture face image"},c.createElement(me.a,{className:this.props.classes.icon,component:"label",color:"primary",onClick:this.toggleDialog("camera",!0,0)},c.createElement(dt.a,null))),this.props.train.face.length>0?c.createElement(ut.a,{title:"Clear face image"},c.createElement(me.a,{className:this.props.classes.icon,component:"label",color:"primary",onClick:this.handleFaceClear},c.createElement(Pt.a,null))):null,c.createElement(ut.a,{title:"Import face data from computer"},c.createElement(me.a,{className:this.props.classes.icon,component:"label",color:"primary"},c.createElement("input",{className:this.props.classes.hidden,type:"file",accept:"application/json",onChange:this.handleDataImport}),c.createElement(Tt.a,null))),this.props.train.data.length>0?c.createElement(ut.a,{title:"Export face data to computer"},c.createElement(me.a,{className:this.props.classes.icon,color:"primary",onClick:this.handleDataExport},c.createElement(Bt.a,null))):null,this.props.train.data.length>0?c.createElement(ut.a,{title:"Clear the face data of the clinet"},c.createElement(me.a,{className:this.props.classes.icon,color:"primary",onClick:this.handleDataClear},c.createElement(Rt.a,null))):null,this.props.train.face.length>0?c.createElement(ut.a,{title:"Training to get face data"},c.createElement(me.a,{className:this.props.classes.icon,color:"primary",onClick:this.handleTrain},c.createElement(RA.a,null))):null,c.createElement(ut.a,{title:"To face recognize sensor"},c.createElement(oe.a,{to:"/sensor"},c.createElement(me.a,{className:this.props.classes.icon,color:"primary"},c.createElement(PA.a,null)))));return this.state.isLoading?c.createElement(jt,{helmet:!0,title:"Face Training"}):c.createElement(wA,{helmet:!0,title:"Face Training",gridNormal:8,gridPhone:12,content:c.createElement(CA.a,{className:this.props.classes.card},c.createElement(yA.a,null,c.createElement(ke.a,{variant:"h5",component:"h2",gutterBottom:!0},"Face Training"),c.createElement(c.Suspense,{fallback:c.createElement(ke.a,null,"Loading...")},c.createElement(Ht,{faces:this.props.train.face,toggleDialog:this.toggleDialog}))),e,c.createElement(yA.a,null,this.state.processTime>0?c.createElement(st.a,{label:"Process time",value:this.state.processTime.toString()+" ms"}):null,this.state.isBusy?c.createElement("div",null,c.createElement(ke.a,null,"Training..."),c.createElement(kt.a,null)):null),c.createElement(c.Suspense,{fallback:c.createElement(ke.a,null,"Loading...")},c.createElement(Wt,{dialogStatus:this.state.dialog.delete,toggleDialog:this.toggleDialog,imageSrc:this.props.train.face[this.state.dialogKey],handleAccept:this.handleAccept}),c.createElement(Ut,{dialogStatus:this.state.dialog.upload,toggleDialog:this.toggleDialog}),c.createElement(Vt,{dialogStatus:this.state.dialog.camera,toggleDialog:this.toggleDialog,handleAccept:this.handleAccept})))})}}]),A}(c.Component),Kt=Object(d.c)(function(e){return{train:e.train}},function(e){return{actionsI:Object(f.bindActionCreators)(Fe,e),actionsT:Object(f.bindActionCreators)(bt,e)}})(Object(q.withStyles)(function(e){return{divider:{marginTop:"10px",marginBottom:"10px"},imageList:{height:400},hidden:{display:"none"}}})(Gt)),qt=t(228),Jt=t(430),Yt=c.lazy(function(){return Promise.all([t.e(3),t.e(4)]).then(t.bind(null,979))}),Xt=c.lazy(function(){return t.e(2).then(t.bind(null,976))}),Zt=c.lazy(function(){return t.e(1).then(t.bind(null,977))}),$t=c.lazy(function(){return t.e(0).then(t.bind(null,978))}),ea=function(e){function A(){var e,t;Object(ae.a)(this,A);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(re.a)(this,(e=Object(ie.a)(A)).call.apply(e,[this].concat(n)))).state={isLoading:!0,isBusy:!1,processTime:0,dialog:{upload:!1,delete:!1,camera:!1},dialogKey:0},t.componentDidMount=Object(vt.a)(Ct.a.mark(function e(){return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt();case 2:t.setState({isLoading:!1});case 3:case"end":return e.stop()}},e)})),t.toggleDialog=function(e,A,a){return function(){t.setState({dialog:Object(v.a)({},t.state.dialog,Object(I.a)({},e,A)),dialogKey:a})}},t.handleAccept=function(e){return function(A){switch(A.preventDefault(),e){case"delete":t.props.actionsT.faceRemove(t.state.dialogKey),t.setState({dialog:Object(v.a)({},t.state.dialog,Object(I.a)({},e,!1))}),t.props.actionsI.infoSet({onoff:!0,variant:"success",message:"Image deleted"})}}},t.handleTrain=function(){t.setState({isBusy:!0},function(){return t.FaceTrain()})},t.handleDataClear=function(){t.props.actionsI.infoSet({onoff:!0,variant:"info",message:"Face file cleared"}),t.props.actionsT.knnClear()},t.handleFaceClear=function(){t.props.actionsT.faceClear(),t.props.actionsI.infoSet({onoff:!0,variant:"info",message:"Faces cleared"})},t.FaceTrain=Object(vt.a)(Ct.a.mark(function e(){var A,a,n;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A=performance.now(),a=Jt.a(),e.next=4,Promise.all(t.props.train.face.map(function(){var e=Object(vt.a)(Ct.a.mark(function e(A){var t,n,r;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It.h(A);case 2:return t=e.sent,e.next=5,It.e(t);case 5:n=e.sent,r=qt.a(n),a.addExample(r,"Boss");case 8:case"end":return e.stop()}},e)}));return function(A){return e.apply(this,arguments)}}()));case 4:n=performance.now(),t.setState({isBusy:!1,processTime:Math.floor(n-A)}),t.props.actionsT.knnSave(a),t.props.actionsI.infoSet({onoff:!0,variant:"success",message:"Training success"});case 8:case"end":return e.stop()}},e)})),t}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"render",value:function(){var e=c.createElement(bA.a,null,c.createElement(ut.a,{title:"Add face image from computer"},c.createElement(me.a,{className:this.props.classes.icon,component:"label",color:"primary",onClick:this.toggleDialog("upload",!0,0)},c.createElement(Lt.a,null))),c.createElement(ut.a,{title:"Start camera to capture face image"},c.createElement(me.a,{className:this.props.classes.icon,component:"label",color:"primary",onClick:this.toggleDialog("camera",!0,0)},c.createElement(dt.a,null))),this.props.train.face.length>0?c.createElement(ut.a,{title:"Clear face image"},c.createElement(me.a,{className:this.props.classes.icon,component:"label",color:"primary",onClick:this.handleFaceClear},c.createElement(Pt.a,null))):null,this.props.train.data.length>0?c.createElement(ut.a,{title:"Clear the face data of the clinet"},c.createElement(me.a,{className:this.props.classes.icon,color:"primary",onClick:this.handleDataClear},c.createElement(Rt.a,null))):null,this.props.train.face.length>0?c.createElement(ut.a,{title:"Training to get face data"},c.createElement(me.a,{className:this.props.classes.icon,color:"primary",onClick:this.handleTrain},c.createElement(RA.a,null))):null,c.createElement(ut.a,{title:"To face recognize sensor"},c.createElement(oe.a,{to:"/sensor"},c.createElement(me.a,{className:this.props.classes.icon,color:"primary"},c.createElement(PA.a,null)))));return this.state.isLoading?c.createElement(jt,{helmet:!0,title:"Face Training"}):c.createElement(wA,{helmet:!0,title:"Face Training",gridNormal:8,gridPhone:12,content:c.createElement(CA.a,{className:this.props.classes.card},c.createElement(yA.a,null,c.createElement(ke.a,{variant:"h5",component:"h2",gutterBottom:!0},"Face Training"),c.createElement(c.Suspense,{fallback:c.createElement(ke.a,null,"Loading...")},c.createElement($t,{faces:this.props.train.face,toggleDialog:this.toggleDialog}))),e,c.createElement(yA.a,null,this.state.processTime>0?c.createElement(st.a,{label:"Process time",value:this.state.processTime.toString()+" ms"}):null,this.state.isBusy?c.createElement("div",null,c.createElement(ke.a,null,"Training..."),c.createElement(kt.a,null)):null),c.createElement(c.Suspense,{fallback:c.createElement(ke.a,null,"Loading...")},c.createElement(Xt,{dialogStatus:this.state.dialog.delete,toggleDialog:this.toggleDialog,imageSrc:this.props.train.face[this.state.dialogKey],handleAccept:this.handleAccept}),c.createElement(Yt,{dialogStatus:this.state.dialog.upload,toggleDialog:this.toggleDialog}),c.createElement(Zt,{dialogStatus:this.state.dialog.camera,toggleDialog:this.toggleDialog,handleAccept:this.handleAccept})))})}}]),A}(c.Component),Aa=Object(d.c)(function(e){return{train:e.train}},function(e){return{actionsI:Object(f.bindActionCreators)(Fe,e),actionsT:Object(f.bindActionCreators)(bt,e)}})(Object(q.withStyles)(function(e){return{divider:{marginTop:"10px",marginBottom:"10px"},imageList:{height:400},hidden:{display:"none"}}})(ea)),ta=t(119),aa=t(221),na=t(142),ra=t.n(na),ia=t(229),sa=t.n(ia),oa=t(954),ca=t(955),la=function(e){function A(){return Object(ae.a)(this,A),Object(re.a)(this,Object(ie.a)(A).apply(this,arguments))}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"render",value:function(){return c.createElement(wA,{helmet:!0,title:"Sensor",content:c.createElement(CA.a,{className:this.props.classes.paper},this.props.image.switch?c.createElement("img",{src:ca,alt:"Not Ready",width:640,height:480}):c.createElement("img",{src:oa,alt:"Not Ready",width:640,height:480}),c.createElement(yA.a,null,c.createElement(ke.a,{variant:"h5",component:"h2",gutterBottom:!0},"Uzuki"),c.createElement(ke.a,{component:"p"},"Face data not ready, go traininig first.")),c.createElement(bA.a,null,c.createElement(ut.a,{title:"Upload boss picture and train computer to identify boss."},c.createElement(oe.a,{to:"/train"},c.createElement(me.a,{className:this.props.classes.icon,color:"primary"},c.createElement(RA.a,null)))),c.createElement(ut.a,{title:"Configure your camera to fetch the best vision."},c.createElement(oe.a,{to:"/setting"},c.createElement(me.a,{className:this.props.classes.icon,color:"primary"},c.createElement(LA.a,null))))))})}}]),A}(c.Component),ua=Object(d.c)(function(e){return{image:e.image}},function(e){return{}})(Object(q.withStyles)(function(e){return{}})(la)),pa=t(956),da=Object(q.withStyles)(function(e){return{paper:{borderRadius:"2px",paddingTop:"40px",paddingBottom:"40px",paddingLeft:"40px",paddingRight:"40px"},hidden:{display:"none"}}})(function(e){return c.createElement(wA,{helmet:!0,title:"Sensor",content:c.createElement(CA.a,{className:e.classes.paper},c.createElement(ke.a,null,"Loading..."),c.createElement(kt.a,null),c.createElement("img",{className:e.classes.hidden,id:"initial_black",src:pa,alt:"initial_black"}))})}),ma=t(172),ga=t.n(ma),ha=Object(q.withStyles)(function(e){return{iframe:{width:"1600px",height:"800px"}}})(function(e){return l.a.createElement(ga.a,{className:e.classes.root,open:e.dialogStatus,onClose:e.toggleDialog("cover",!1),"aria-labelledby":"select-dialog-title","aria-describedby":"select-dialog-description",maxWidth:"xl"},l.a.createElement("iframe",{className:e.classes.iframe,title:"nonsense",src:"https://svenstaro.github.io/genact/"}))}),fa=t(958),Ea=t(232),Ma=function(e){function A(){var e,t;Object(ae.a)(this,A);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(re.a)(this,(e=Object(ie.a)(A)).call.apply(e,[this].concat(n)))).state={isLoading:!0,isPlaying:!1,isSensing:!1,isDetecting:!1,processTime:0,dialog:{cover:!1}},t.interval=0,t.tick=0,t.faceMatcher=null,t.faceOption={expressionsEnabled:!1,landmarksEnabled:!0,descriptorsEnabled:!0},t.componentDidMount=Object(vt.a)(Ct.a.mark(function e(){var A;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.props.train.data.length>0)){e.next=9;break}return e.next=3,yt();case 3:if(!((A=document.getElementById("initial_black"))instanceof HTMLCanvasElement)){e.next=7;break}return e.next=7,Object(ta.c)(A,t.faceOption);case 7:t.setState({isLoading:!1}),t.classifier=t.props.train.knn;case 9:case"end":return e.stop()}},e)})),t.toggleDialog=function(e,A){return function(){t.setState({dialog:Object(v.a)({},t.state.dialog,Object(I.a)({},e,A))})}},t.handleWebcam=function(){t.state.isPlaying?t.setState({isPlaying:!1,isSensing:!1}):t.setState({isPlaying:!0})},t.handleSense=Object(vt.a)(Ct.a.mark(function e(){var A;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.isSensing){e.next=7;break}window.clearInterval(t.interval),(A=document.getElementById("sensor_webcamcrop_overlay"))instanceof HTMLCanvasElement&&A.getContext("2d").clearRect(0,0,2*t.props.setting.rect.width,2*t.props.setting.rect.height),t.setState({isSensing:!1}),e.next=12;break;case 7:return e.next=9,Object(ta.a)(t.props.train.data);case 9:t.faceMatcher=e.sent,t.interval=window.setInterval(Object(vt.a)(Ct.a.mark(function e(){return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.faceMain();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),10),t.setState({isSensing:!0});case 12:case"end":return e.stop()}},e)})),t.handleDetect=function(){t.state.isDetecting?t.setState({isDetecting:!1}):t.setState({isDetecting:!0})},t.faceMain=Object(vt.a)(Ct.a.mark(function e(){var A,a,n,r,i,s;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A=document.getElementById("sensor_webcamcrop"),!((a=document.getElementById("sensor_webcamcrop_overlay"))instanceof HTMLCanvasElement&&A instanceof HTMLCanvasElement)){e.next=12;break}return e.next=5,t.faceRecognize(a,A);case 5:n=performance.now(),r=Math.floor(n-t.tick).toString()+" ms",i={x:0,y:2*t.props.setting.rect.height},s={anchorPosition:"TOP_LEFT",backgroundColor:"rgba(0, 0, 0, 0.5)",fontColor:"yellow"},new It.g.DrawTextField(r,i,s).draw(a),t.tick=n;case 12:case"end":return e.stop()}},e)})),t.faceRecognize=function(){var e=Object(vt.a)(Ct.a.mark(function e(A,a){var n;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ta.c)(a,t.faceOption);case 2:(n=e.sent)?(It.j(A,a),It.l(n,a).forEach(function(e){var a=e.detection,n=e.descriptor,r=t.faceMatcher.findBestMatch(n).toString(),i={label:r};(new It.g.DrawBox(a.box,i).draw(A),t.state.isDetecting)&&("Boss"===r.split(" ")[0]&&t.setState({isPlaying:!1,isSensing:!1,isDetecting:!1,dialog:{cover:!0}}))})):A.getContext("2d").clearRect(0,0,A.width,A.height);case 4:case"end":return e.stop()}},e)}));return function(A,t){return e.apply(this,arguments)}}(),t.renderButton=function(){var e=t.state.isPlaying?c.createElement(ut.a,{title:"Webcam stop"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleWebcam,color:"secondary"},c.createElement(dt.a,null))):c.createElement(ut.a,{title:"Webcam start"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleWebcam,color:"primary"},c.createElement(dt.a,null))),A=t.state.isSensing?c.createElement(ut.a,{title:"Recognize stop"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleSense,color:"secondary"},c.createElement(PA.a,null))):c.createElement(ut.a,{title:"Recognize start"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleSense,color:"primary"},c.createElement(PA.a,null))),a=t.state.isDetecting?c.createElement(ut.a,{title:"Detect stop"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleDetect,color:"secondary"},c.createElement(ra.a,null))):c.createElement(ut.a,{title:"Detect start"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleDetect,color:"primary"},c.createElement(ra.a,null)));return c.createElement(bA.a,null,e,c.createElement(ut.a,{title:"Camera settings"},c.createElement(oe.a,{to:"/setting"},c.createElement(me.a,{className:t.props.classes.icon,color:"primary"},c.createElement(LA.a,null)))),t.state.isPlaying?A:null,t.state.isSensing?a:null,c.createElement(ut.a,{title:"Start non-sense generator"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.toggleDialog("cover",!0),color:"primary"},c.createElement(sa.a,null))))},t.renderWebCam=function(){var e=t.props.setting;return t.state.isPlaying?c.createElement("div",{className:t.props.classes.webcamContainer},c.createElement(aa.a,{className:t.props.classes.webcam,audio:!1,idCanvas:"sensor_webcamcrop",videoWidth:2*e.rect.width,videoHeight:2*e.rect.height,videoConstraints:e.video,cropx:e.rect.x,cropy:e.rect.y,cropwidth:e.rect.width,cropheight:e.rect.height}),c.createElement("canvas",{className:t.props.classes.webcamOverlay,id:"sensor_webcamcrop_overlay",width:2*e.rect.width,height:2*e.rect.height})):t.props.image.switch?c.createElement("img",{src:Ea,alt:"sensor",width:640,height:480}):c.createElement("img",{src:fa,alt:"sensor",width:640,height:480})},t}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"render",value:function(){return 0===this.props.train.data.length?c.createElement(ua,null):this.state.isLoading?c.createElement(da,null):c.createElement(wA,{helmet:!0,title:"Sensor",gridNormal:6,gridPhone:10,content:c.createElement(CA.a,{className:this.props.classes.card},c.createElement(yA.a,null,c.createElement(ke.a,{variant:"h5",component:"h2",gutterBottom:!0},"Sensor"),c.createElement(ct.a,{className:this.props.classes.divider}),c.createElement(Ke.a,{container:!0,className:this.props.classes.grid,justify:"center"},this.renderWebCam()),c.createElement(ct.a,{className:this.props.classes.divider})),this.renderButton(),c.createElement(ha,{dialogStatus:this.state.dialog.cover,toggleDialog:this.toggleDialog}))})}}]),A}(c.Component),wa=Object(d.c)(function(e){return{train:e.train,setting:e.setting,image:e.image}},function(e){return{actionsI:Object(f.bindActionCreators)(Fe,e)}})(Object(q.withStyles)(function(e){return{divider:{marginTop:"10px",marginBottom:"10px"},webcamContainer:{position:"relative"},webcam:{position:"absolute",top:"0px",left:"0px"},webcamOverlay:{position:"absolute",top:"0px",left:"0px",zIndex:10}}})(Object(g.f)(Ma))),Da=t(959),Ca=t(232),va=function(e){function A(){var e,t;Object(ae.a)(this,A);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(re.a)(this,(e=Object(ie.a)(A)).call.apply(e,[this].concat(n)))).state={isLoading:!0,isPlaying:!1,isSensing:!1,isDetecting:!1,processTime:0,dialog:{cover:!1}},t.interval=0,t.tick=0,t.classifier=null,t.faceOption={expressionsEnabled:!1,landmarksEnabled:!0,descriptorsEnabled:!0},t.componentDidMount=Object(vt.a)(Ct.a.mark(function e(){var A;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.props.train.knn){e.next=9;break}return e.next=3,yt();case 3:if(!((A=document.getElementById("initial_black"))instanceof HTMLCanvasElement)){e.next=7;break}return e.next=7,Object(ta.c)(A,t.faceOption);case 7:t.setState({isLoading:!1}),t.classifier=t.props.train.knn;case 9:case"end":return e.stop()}},e)})),t.toggleDialog=function(e,A){return function(){t.setState({dialog:Object(v.a)({},t.state.dialog,Object(I.a)({},e,A))})}},t.handleWebcam=function(){t.state.isPlaying?t.setState({isPlaying:!1,isSensing:!1}):t.setState({isPlaying:!0})},t.handleSense=Object(vt.a)(Ct.a.mark(function e(){var A;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.state.isSensing?(window.clearInterval(t.interval),(A=document.getElementById("sensor_webcamcrop_overlay"))instanceof HTMLCanvasElement&&A.getContext("2d").clearRect(0,0,2*t.props.setting.rect.width,2*t.props.setting.rect.height),t.setState({isSensing:!1})):(t.interval=window.setInterval(Object(vt.a)(Ct.a.mark(function e(){return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.faceMain();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),10),t.setState({isSensing:!0}));case 1:case"end":return e.stop()}},e)})),t.handleDetect=function(){t.state.isDetecting?t.setState({isDetecting:!1}):t.setState({isDetecting:!0})},t.faceMain=Object(vt.a)(Ct.a.mark(function e(){var A,a,n,r,i,s;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A=document.getElementById("sensor_webcamcrop"),!((a=document.getElementById("sensor_webcamcrop_overlay"))instanceof HTMLCanvasElement&&A instanceof HTMLCanvasElement)){e.next=12;break}return e.next=5,t.faceRecognize(a,A);case 5:n=performance.now(),r=Math.floor(n-t.tick).toString()+" ms",i={x:0,y:2*t.props.setting.rect.height},s={anchorPosition:"TOP_LEFT",backgroundColor:"rgba(0, 0, 0, 0.5)",fontColor:"yellow"},new It.g.DrawTextField(r,i,s).draw(a),t.tick=n;case 12:case"end":return e.stop()}},e)})),t.faceRecognize=function(){var e=Object(vt.a)(Ct.a.mark(function e(A,a){var n;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ta.c)(a,t.faceOption);case 2:(n=e.sent)?(It.j(A,a),It.l(n,a).forEach(function(){var e=Object(vt.a)(Ct.a.mark(function e(a){var n,r,i,s,o,c;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.detection,r=a.descriptor,i=qt.a(r),e.next=4,t.classifier.predictClass(i,1);case 4:s=e.sent,o=s.confidences[s.label]>.6?s.label.toString():"Unknown",c={label:o},new It.g.DrawBox(n.box,c).draw(A),t.state.isDetecting&&"Boss"===o.split(" ")[0]&&t.setState({isPlaying:!1,isSensing:!1,isDetecting:!1,dialog:{cover:!0}});case 10:case"end":return e.stop()}},e)}));return function(A){return e.apply(this,arguments)}}())):A.getContext("2d").clearRect(0,0,A.width,A.height);case 4:case"end":return e.stop()}},e)}));return function(A,t){return e.apply(this,arguments)}}(),t.renderButton=function(){var e=t.state.isPlaying?c.createElement(ut.a,{title:"Webcam stop"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleWebcam,color:"secondary"},c.createElement(dt.a,null))):c.createElement(ut.a,{title:"Webcam start"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleWebcam,color:"primary"},c.createElement(dt.a,null))),A=t.state.isSensing?c.createElement(ut.a,{title:"Recognize stop"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleSense,color:"secondary"},c.createElement(PA.a,null))):c.createElement(ut.a,{title:"Recognize start"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleSense,color:"primary"},c.createElement(PA.a,null))),a=t.state.isDetecting?c.createElement(ut.a,{title:"Detect stop"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleDetect,color:"secondary"},c.createElement(ra.a,null))):c.createElement(ut.a,{title:"Detect start"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.handleDetect,color:"primary"},c.createElement(ra.a,null)));return c.createElement(bA.a,null,e,c.createElement(ut.a,{title:"Camera settings"},c.createElement(oe.a,{to:"/setting"},c.createElement(me.a,{className:t.props.classes.icon,color:"primary"},c.createElement(LA.a,null)))),t.state.isPlaying?A:null,t.state.isSensing?a:null,c.createElement(ut.a,{title:"Start non-sense generator"},c.createElement(me.a,{className:t.props.classes.icon,onClick:t.toggleDialog("cover",!0),color:"primary"},c.createElement(sa.a,null))))},t.renderWebCam=function(){var e=t.props.setting;return t.state.isPlaying?c.createElement("div",{className:t.props.classes.webcamContainer},c.createElement(aa.a,{className:t.props.classes.webcam,audio:!1,idCanvas:"sensor_webcamcrop",videoWidth:2*e.rect.width,videoHeight:2*e.rect.height,videoConstraints:e.video,cropx:e.rect.x,cropy:e.rect.y,cropwidth:e.rect.width,cropheight:e.rect.height}),c.createElement("canvas",{className:t.props.classes.webcamOverlay,id:"sensor_webcamcrop_overlay",width:2*e.rect.width,height:2*e.rect.height})):t.props.image.switch?c.createElement("img",{src:Ca,alt:"sensor",width:640,height:480}):c.createElement("img",{src:Da,alt:"sensor",width:640,height:480})},t}return Object(se.a)(A,e),Object(ne.a)(A,[{key:"render",value:function(){return this.props.train.knn?this.state.isLoading?c.createElement(da,null):c.createElement(wA,{helmet:!0,title:"Sensor",gridNormal:6,gridPhone:10,content:c.createElement(CA.a,{className:this.props.classes.card},c.createElement(yA.a,null,c.createElement(ke.a,{variant:"h5",component:"h2",gutterBottom:!0},"Sensor"),c.createElement(ct.a,{className:this.props.classes.divider}),c.createElement(Ke.a,{container:!0,className:this.props.classes.grid,justify:"center"},this.renderWebCam()),c.createElement(ct.a,{className:this.props.classes.divider})),this.renderButton(),c.createElement(ha,{dialogStatus:this.state.dialog.cover,toggleDialog:this.toggleDialog}))}):c.createElement(ua,null)}}]),A}(c.Component),ba=Object(d.c)(function(e){return{train:e.train,setting:e.setting,image:e.image}},function(e){return{actionsI:Object(f.bindActionCreators)(Fe,e)}})(Object(q.withStyles)(function(e){return{divider:{marginTop:"10px",marginBottom:"10px"},webcamContainer:{position:"relative"},webcam:{position:"absolute",top:"0px",left:"0px"},webcamOverlay:{position:"absolute",top:"0px",left:"0px",zIndex:10}}})(Object(g.f)(va))),Ia=te(Object(q.withStyles)(function(e){return{root:{display:"flex",minHeight:"100vh",flexDirection:"column"},content:{marginTop:"-55vh",marginBottom:"60px",flex:1}}})(function(e){return c.createElement(b.a,{history:U},c.createElement("div",{className:e.classes.root},c.createElement(Re,null),c.createElement(_e,null),c.createElement("div",{className:e.classes.content},c.createElement(g.c,null,c.createElement(g.a,{exact:!0,path:"/",component:YA}),c.createElement(g.a,{exact:!0,path:"/home",component:YA}),c.createElement(g.a,{exact:!0,path:"/setting",component:wt}),c.createElement(g.a,{exact:!0,path:"/train",component:Kt}),c.createElement(g.a,{exact:!0,path:"/traink",component:Aa}),c.createElement(g.a,{exact:!0,path:"/sensor",component:wa}),c.createElement(g.a,{exact:!0,path:"/sensork",component:ba}),c.createElement(g.a,{component:SA}))),c.createElement(Le,null)))})),ya=function(){return c.createElement(d.a,{store:G},c.createElement(m.a,{loading:c.createElement(ke.a,null,"Loading..."),persistor:K},c.createElement(Ia,null)))},xa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oa(e,A){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),A&&A.onUpdate&&A.onUpdate(e)):(console.log("Content is cached for offline use."),A&&A.onSuccess&&A.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Qa=t(298),ka=document.getElementById("uzuki");p.a.render(l.a.createElement(ya,null),ka),Qa.a(Te.a.GoogleAnalyticsID),Qa.b(window.location.pathname+window.location.search),function(e){if("serviceWorker"in navigator){if(new URL("/Uzuki",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var A="".concat("/Uzuki","/service-worker.js");xa?(function(e,A){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Oa(e,A)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(A,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Oa(A,e)})}}()}},[[489,6,7]]]);
//# sourceMappingURL=main.f51518db.chunk.js.map